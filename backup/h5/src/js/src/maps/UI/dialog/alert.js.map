{"version":3,"sources":["UI/dialog/alert.js"],"names":["define","require","exports","module","pcom","login","alerter","text","btn","callback","undefined","box","one","html","addElement","innerHTML","onclick","hideBox","remliste","addliste","showBox","alertBox","obj","title","confirmBtn","cancelBtn","flog","cancelCallback","_alertNewBox","confirmId","cancelId","confirmbtn","cancelbtn","layer","all","id","alertSecond","time","timer","fn","setTimeout","window","addEventListener","move","onmousewheel","removeEventListener","e","preventDefault","returnValue","stopPropagation"],"mappings":"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","file":"../../../../UI/dialog/alert.js","sourcesContent":["/*\n name:alert.js\n description:新版普通弹窗引用 有回调\n anthor:huangyihai\n */\n\ndefine(\"UI/dialog/alert.js\", function (require, exports, module) {\n    let pcom = require('UI/dialog/dialog_com.js');\n    let login = require('mods/login.js');\n\n    function alerter(text,btn = \"确定\",callback = undefined) {\n        let box = pcom.one('#alert_er');\n        if (!box) {\n            let html = `<div class=\"m-dialog\"><div class=\"dialog-tit\">${text}</div><div class=\"dialog-btn\" id=\"confirm\"><div id=\"sub_btn\">${btn}</div></div></div>`;\n            box = pcom.addElement(html, \"m-mask-private\", \"alert_er\");\n        } else {\n            pcom.one('#alert_er .dialog-tit').innerHTML = text;\n            pcom.one('#alert_er #sub_btn').innerHTML = btn;\n        }\n        pcom.one('#alert_er #confirm').onclick = ()=> {\n            pcom.hideBox(box);\n            remliste();\n            callback && callback();\n        };\n        addliste();\n        pcom.showBox(box);\n    }\n    function alertBox(obj){\n        let {text,title,callback,confirmBtn,cancelBtn,flog = false,cancelCallback} = obj;\n        if(title){\n            _alertNewBox(obj)\n            return ;\n        }\n        let confirmId = flog ? \"cancel\" : \"confirm\",\n            cancelId = flog ? \"confirm\" : \"cancel\",\n            confirmbtn =confirmBtn?confirmBtn:\"confirm\",\n            cancelbtn =cancelBtn?cancelBtn:\"cancel\",\n            layer = pcom.one('#alert_confirm');\n        if (!layer) {\n            let html = `<div class=\"m-dialog\"><div class=\"dialog-tit\">${text}</div><div class=\"dialog-btn\"><div id=\"${cancelId}\">${cancelbtn}</div><div id=\"${confirmId}\">${confirmbtn}</div></div></div>`;\n            layer = pcom.addElement(html, \"m-mask-private\", \"alert_confirm\");\n        } else {\n            pcom.all('#alert_confirm .dialog-btn div')[0].id = cancelId;\n            pcom.all('#alert_confirm .dialog-btn div')[1].id = confirmId;\n            pcom.one('#alert_confirm .dialog-tit').innerHTML = text;\n            pcom.one('#alert_confirm #' + confirmId + '').innerHTML = confirmbtn;\n            pcom.one('#alert_confirm #' + cancelId + '').innerHTML = cancelbtn;\n        }\n        addliste();\n        pcom.one('#alert_confirm #confirm').onclick = () => {\n            pcom.hideBox(layer);\n            remliste();\n            callback && callback();\n        };\n        pcom.one('#alert_confirm #cancel').onclick = () => {\n            pcom.hideBox(layer);\n            remliste();\n            cancelCallback && cancelCallback();\n        };\n        pcom.showBox(layer);\n    }\n    function _alertNewBox(obj) {//有title\n        let {text,title,callback,confirmBtn,cancelBtn,flog = true,cancelCallback} = obj;\n        let confirmId = flog ? \"cancel\" : \"confirm\",\n            cancelId = flog ? \"confirm\" : \"cancel\",\n            confirmbtn =confirmBtn?confirmBtn:\"confirm\",\n            cancelbtn =cancelBtn?cancelBtn:\"cancel\",\n            layer = pcom.one('#alert_newconfirm');\n\n        if (!layer) {\n            let html = `<div class=\"m-dialog m-dialog-auto\"><div class=\"dialog-tit\">${title}</div><div class=\"dialog-txt\">${text}</div><div class=\"dialog-btn\"><div id=\"${cancelId}\">${cancelbtn}</div><div id=\"${confirmId}\">${confirmbtn}</div></div></div>`;\n            layer = pcom.addElement(html, \"m-mask-private\", \"alert_newconfirm\");\n        } else {\n            pcom.all('#alert_newconfirm .dialog-btn div')[0].id = cancelId;\n            pcom.all('#alert_newconfirm .dialog-btn div')[1].id = confirmId;\n            pcom.one('#alert_newconfirm .dialog-tit').innerHTML = title;\n            pcom.one('#alert_newconfirm .dialog-txt').innerHTML = text;\n            pcom.one('#alert_newconfirm #' + confirmId + '').innerHTML = confirmbtn;\n            pcom.one('#alert_newconfirm #' + cancelId + '').innerHTML = cancelbtn;\n        }\n        pcom.one('#alert_newconfirm #confirm').onclick = () => {\n            pcom.hideBox(layer);\n            remliste();\n            callback && callback();\n        };\n        pcom.one('#alert_newconfirm #cancel').onclick = () => {\n            pcom.hideBox(layer);\n            remliste();\n            cancelCallback && cancelCallback();\n        };\n        addliste();\n        pcom.showBox(layer);\n    }\n    function alertSecond(text,callback, time = 3000){\n        let box = pcom.one('#alert_second');\n        if (!box) {\n            let html = `<div class=\"toast-txt\">${text}</div>`;\n            box = pcom.addElement(html, \"m-toast\", \"alert_second\");\n        } else {\n            pcom.one('#alert_second .toast-txt').innerHTML = text;\n        }\n        pcom.showBox(box);\n        timer(function () {\n            pcom.hideBox(box);\n            callback && callback();\n        }, time);\n    }\n\n    function timer(fn, time) {\n        setTimeout(fn, time)\n    }\n    //禁止滚动\n    function addliste(){\n        window.addEventListener('touchmove', move);\n        window.onmousewheel = function() {\n            return false\n        }; //禁止鼠标滚轴滚动\n    }\n    //取消禁止滚动\n    function remliste(){\n        window.removeEventListener('touchmove', move);\n        window.onmousewheel = function() {\n            return true\n        }; //开启鼠标滚轴滚动\n    }\n    function move(e) {\n        e.preventDefault && e.preventDefault();\n        e.returnValue = false;\n        e.stopPropagation && e.stopPropagation();\n        return false;\n    }\n    module.exports = {alerter, alertSecond,addliste,remliste,alertBox};\n});"]}