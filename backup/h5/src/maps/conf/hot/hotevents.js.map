{"version":3,"sources":["conf/hot/hotevents.js"],"names":["define","require","exports","modul","Ajax","Vue","UI","laz","Swiper","component","props","items","type","Array","default","_default","template","friends","pageNum","pageNum1","pageNum2","el","data","showContent","isShowModal","hasLogin","userData","rewardData","name","description","clientTime","moreData","resultData","compresultData","myeventData","compmyeventData","invitationFriendOrders","totalCount","created","setTimeout","lazyLoading","pagination","init","self","$","children","length","dropload","scrollArea","window","domDown","domClass","domRefresh","wapcsspath","domUpdate","domLoad","loadDownFn","me","getClientTime","query","url","success","resetload","code","plans","alertSecond","concat","lazyload","message","ready","getParams","location","href","getData","getMyeventsData","userinfo","methods","toggleCon","opt","hash","showReward","eventObj","console","log","removeClass","closeModal","addClass","$set","indexOf","substr","date","Date","year","getFullYear","month","filterNum","getMonth","day","getDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","num"],"mappings":"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","file":"../../../js_es6/conf/hot/hotevents.js","sourcesContent":["\"use strict\";\r\n/**\r\n * title: 活动\r\n * author: lijing\r\n * time: 2017-05-03\r\n */\r\n define('conf/hot/hotevents.js', function (require, exports, modul) {\r\n \trequire(\"$\");\r\n \tvar Ajax = require(\"utils/async/ajax\"),\r\n \t\tVue = require(\"vue\"),\r\n \t\tUI = require(\"UI/dialog/alert.js\"),\r\n \t\tlaz = require('utils/async/lazyload.js'),\r\n \t\tSwiper = require('mods/swiper');\r\n    require('mods/filters/com');\r\n \trequire('vendors/dropload.js');\r\n\r\n     Vue.component('listmore',{\r\n        props: {\r\n            items: {\r\n                type: Array,\r\n                default: function _default() {\r\n                    return [];\r\n                }\r\n            }\r\n        },\r\n        template: \"#planlist_tpl\"\r\n     });\r\n     Vue.component('friendsmore', {\r\n        props: {\r\n            friends: {\r\n                type: Array,\r\n                default: function _default() {\r\n                    return [];\r\n                }\r\n            }\r\n        },\r\n        template: \"#myevents_tpl\"\r\n     })\r\n     var pageNum = 2\r\n     var pageNum1 = 2\r\n     var pageNum2 = 2\r\n \tnew Vue ({\r\n \t\tel: 'body',\r\n \t\tdata: function () {\r\n \t\t\treturn {\r\n \t\t\t\tshowContent: 'now',\r\n \t\t\t\tisShowModal: false,\r\n                hasLogin: false,\r\n                userData: {},\r\n                rewardData: {name: '', description: '',friends: {}},\r\n                clientTime: '',\r\n                moreData: [],\r\n                resultData: [],\r\n                compresultData: [\r\n                    {\r\n                      \"id\":\"3\",\r\n                      \"name\":\"下单有礼\",\r\n                      \"description\":\"订单实付款金额大于500卢比额外返利50卢比\",\r\n                      \"beginTime\":\"5/18\",\r\n                      \"endTime\":\"6/21\",\r\n                      \"bannerImgUrl\":\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1493888000341&di=d6505e91e39b80fef39505263a600672&imgtype=0&src=http%3A%2F%2Fwww.ysg88.com%2FUploadFiles%2FFCK%2F2014-08%2F201408110V06J8L4J4.jpg\",\r\n                      \"hot\":\"Y\"\r\n                   },\r\n                   {\r\n                      \"id\":\"3\",\r\n                      \"name\":\"下单有礼\",\r\n                      \"description\":\"订单实付款金额大于500卢比额外返利50卢比\",\r\n                      \"beginTime\":\"5/18\",\r\n                      \"endTime\":\"6/21\",\r\n                      \"bannerImgUrl\":\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1493888000341&di=d6505e91e39b80fef39505263a600672&imgtype=0&src=http%3A%2F%2Fwww.ysg88.com%2FUploadFiles%2FFCK%2F2014-08%2F201408110V06J8L4J4.jpg\",\r\n                      \"hot\":\"Y\"\r\n                   }\r\n                ],\r\n                myeventData: [],\r\n                compmyeventData: [\r\n                    {\r\n                      \"id\":\"3\",\r\n                      \"name\":\"下单有礼\",\r\n                      \"description\":\"订单实付款金额大于500卢比额外返利50卢比\",\r\n                      \"activityUrl\":\"http://m.gomeplus.in/hy/game/slot\",\r\n                      \"logoImgUrl\":\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1493888000341&di=d6505e91e39b80fef39505263a600672&imgtype=0&src=http%3A%2F%2Fwww.ysg88.com%2FUploadFiles%2FFCK%2F2014-08%2F201408110V06J8L4J4.jpg\",\r\n                      \"totalAmount\": {\r\n                            \"amount\": 880000, \r\n                            \"currency\": \"INR\", \r\n                            \"symbol\": \"₹\", \r\n                            \"align\": \"LEFT\", \r\n                            \"alternative\": \"Rs\"\r\n                       }\r\n                      },\r\n                    {\r\n                      \"id\":\"4\",\r\n                      \"name\":\"邀请好友\",\r\n                      \"description\":\"订单实付款金额大于500卢比额外返利50卢比\",\r\n                      \"activityUrl\":\"http://m.gomeplus.in/hy/game/slot\",\r\n                      \"logoImgUrl\":\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1493888000341&di=d6505e91e39b80fef39505263a600672&imgtype=0&src=http%3A%2F%2Fwww.ysg88.com%2FUploadFiles%2FFCK%2F2014-08%2F201408110V06J8L4J4.jpg\",\r\n                      \"totalAmount\": {\r\n                            \"amount\": 90000, \r\n                            \"currency\": \"INR\", \r\n                            \"symbol\": \"₹\", \r\n                            \"align\": \"LEFT\", \r\n                            \"alternative\": \"Rs\"\r\n                       }\r\n                   }\r\n                ],\r\n                friends: {\r\n                    invitationFriendOrders: [\r\n                      {\r\n                        \"id\": \"123\",\r\n                        \"userPic\": \"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1494225138467&amp;di=b98bf854bf9b230d98b840e5b8a11fbe&amp;imgtype=0&amp;src=http%3A%2F%2Fu2.zhenyouliao.com%2Fimages%2F20140111%2F6e794165-9d47-40d8-9df8-3c35ff4fd9d8.jpg\",\r\n                        \"nickName\": \"hehehe\",\r\n                        \"time\": 1493364201522\r\n                      },\r\n                      {\r\n                        \"id\": \"123\",\r\n                        \"userPic\": \"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1494225138467&amp;di=b98bf854bf9b230d98b840e5b8a11fbe&amp;imgtype=0&amp;src=http%3A%2F%2Fu2.zhenyouliao.com%2Fimages%2F20140111%2F6e794165-9d47-40d8-9df8-3c35ff4fd9d8.jpg\",\r\n                        \"nickName\": \"hehehe\",\r\n                        \"time\": 2453364212522\r\n                      }\r\n                    ],\r\n                    totalCount: 20\r\n                }\r\n \t\t\t}\r\n \t\t},\r\n        created: function () {\r\n            setTimeout(function() {\r\n                new Swiper('.myevents-conainer', {\r\n                    // loop: true,\r\n                    // 如果需要分页器\r\n                    lazyLoading: true, //解决轮播到最后再划显示默认图\r\n                    pagination: '.swiper-pagination'\r\n                });\r\n            },1000);\r\n        },\r\n\t\tinit: function () {\r\n            var self = this;\r\n            if ($('#plansList').children('.events-item').length  > 0) {\r\n                $('#plansList').dropload({\r\n                    scrollArea: window,\r\n                    domDown: {\r\n                        domClass: 'dropload-down',\r\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\r\n                    },\r\n                    loadDownFn: function loadDownFn(me) {\r\n                        self.clientTime = self.getClientTime()\r\n                        Ajax.query({\r\n                            url: \"/api/cashback/plans?dynamic=NOW&planStatus=ALL&clientTime=\" + self.clientTime + \"&pageNum=\" + pageNum++ + \"&pageSize=10\",\r\n                            success: function success(data) {\r\n                                setTimeout(function () {\r\n                                    me.resetload();\r\n                                }, 300);\r\n                                if (data.code === 200) {\r\n                                    if (!data.data.plans.length) {\r\n                                        UI.alertSecond(\"Data is loaded\");\r\n                                        return;\r\n                                    }\r\n                                    self.moreData = self.moreData.concat(data.data.plans);\r\n                                    laz.lazyload();\r\n                                } else {\r\n                                    UI.alertSecond(data.message);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n            if ($('#plansList1').children('.events-item').length  > 0) {\r\n                $('#plansList1').dropload({\r\n                    scrollArea: window,\r\n                    domDown: {\r\n                        domClass: 'dropload-down',\r\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\r\n                    },\r\n                    // domUp: {\r\n                    //     domClass: 'dropload-up',\r\n                    //     domRefresh: '<div class=\"dropload-refresh\"><span class=\"loading\"></span>↓下拉刷新</div>',\r\n                    //     domUpdate: '<div class=\"dropload-update\"><span class=\"loading\"></span>↑释放更新</div>',\r\n                    //     domLoad: '<div class=\"dropload-load\"><span class=\"loading\"></span>加载中...</div>'\r\n                    // },\r\n                    // loadUpFn: function loadUpFn (me) {\r\n                    //     console.log('11111')\r\n                    // },\r\n                    loadDownFn: function loadDownFn(me) {\r\n                        self.clientTime = self.getClientTime()\r\n                        Ajax.query({\r\n                            url: \"/api/cashback/plans?dynamic=\" + self.showContent + \"&planStatus=ALL&clientTime=\" + self.clientTime + \"&pageNum=\" + pageNum1++ + \"&pageSize=10\",\r\n                            success: function success(data) {\r\n                                setTimeout(function () {\r\n                                    me.resetload();\r\n                                }, 300);\r\n                                if (data.code === 200) {\r\n                                    if (!data.data.plans.length) {\r\n                                        UI.alertSecond(\"Data is loaded\");\r\n                                        return;\r\n                                    }\r\n                                    self.moreData = self.moreData.concat(data.data.plans);\r\n                                    laz.lazyload();\r\n                                } else {\r\n                                    UI.alertSecond(data.message);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n            if ($('#friendsList').children('.invited-items').length > 0) {\r\n                $('#friendsList').dropload({\r\n                    scrollArea: window,\r\n                    domDown: {\r\n                        domClass: 'dropload-down',\r\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\r\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\r\n                    },\r\n                    loadDownFn: function loadDownFn(me) {\r\n                        self.clientTime = self.getClientTime()\r\n                        Ajax.query({\r\n                            url: \"/api/cashback/plans?dynamic=\" + self.showContent + \"&planStatus=ALL&clientTime=\" + self.clientTime + \"&pageNum=\" + pageNum2++ + \"&pageSize=10\",\r\n                            success: function success(data) {\r\n                                setTimeout(function () {\r\n                                    me.resetload();\r\n                                }, 300);\r\n                                if (data.code === 200) {\r\n                                    if (!data.data.invitationFriendOrders.length) {\r\n                                        UI.alertSecond(\"Data is loaded\");\r\n                                        return;\r\n                                    }\r\n                                    self.moreData = self.moreData.concat(data.data.invitationFriendOrders);\r\n                                    laz.lazyload();\r\n                                } else {\r\n                                    UI.alertSecond(data.message);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n \t\t},\r\n \t\tready: function () {\r\n            var type = this.getParams(window.location.href)\r\n            if (type) {\r\n                this.showContent = type\r\n                if (this.showContent !== 'myevents' && this.showContent !== 'now') {\r\n                    this.getData()\r\n                }else if (this.showContent === 'myevents')  {\r\n                    this.getMyeventsData()\r\n                }\r\n            }\r\n            if (window.userinfo) {\r\n                this.hasLogin = true\r\n                this.userData = window.userinfo\r\n            }\r\n \t\t},\r\n \t\tmethods: {\r\n \t\t\ttoggleCon: function (opt) {\r\n                window.location.hash = opt\r\n \t\t\t\tthis.showContent = opt\r\n                pageNum1 = 2\r\n                pageNum = 2\r\n                if (this.showContent !== 'now' && this.showContent !== 'myevents') {\r\n                    this.getData()\r\n                }else if (this.showContent === 'myevents') {\r\n                     this.getMyeventsData()\r\n                }\r\n \t\t\t},\r\n            showReward: function (eventObj) {\r\n                this.rewardData.name = eventObj.name\r\n                this.rewardData.description = eventObj.description\r\n                this.rewardData.friends = this.friends\r\n                console.log(this.rewardData)\r\n                // 根据点击的活动ID获取获奖详情\r\n                // Ajax.query({\r\n                //     url: '/ext/cashback/details?status=CASHBACK&type=INVITATIONFRIEND&pageNum=1&pageSize=10',\r\n                //     success: function (data) {\r\n                //         if (data.code === 200) {\r\n                //             this.rewardData = data.data\r\n                //             $('#modal').removeClass('hidden')\r\n                //         }else {\r\n                //             UI.alertSecond(data.message)\r\n                //         }\r\n                //     }\r\n                // })\r\n                $('#modal').removeClass('hidden')\r\n            },\r\n            closeModal: function () {\r\n                $('#modal').addClass('hidden')\r\n                pageNum2 = 2\r\n            },\r\n            // 获取comming或者ended的数据\r\n            getData: function () {\r\n                var self = this\r\n                // this.resultData.splice(0)\r\n                Ajax.query({\r\n                    url: '/api/cashback/plans?planStatus=ALL&dynamic=' + this.showContent + '&pageNum=1&pageSize=10',\r\n                    success: function (data) {\r\n                        self.$set('resultData', self.compresultData)\r\n                        console.log(self.resultData)\r\n                        // if (data.code === 200) {\r\n                        //     this.$set('resultData', data.data.plans)\r\n                        // }else {\r\n                        //     UI.alertSecond(data.message)\r\n                        // }\r\n                    }\r\n                })\r\n            },\r\n            // 获取myevents请求\r\n            getMyeventsData: function () {\r\n                var self = this\r\n                // this.myeventData.splice(0)\r\n                // Ajax.query({\r\n                //     url: '/cashback/myPlans?userId=' + this.userData.user.id,\r\n                //     success: function success(data) {\r\n                //         if (data.code === 200) {\r\n                //             this.$set('myeventData', data.data.activityPlans)\r\n                //               setTimeout(function() {\r\n                //                 new Swiper('.myevents-conainer', {\r\n                //                     // loop: true,\r\n                //                     // 如果需要分页器\r\n                //                     lazyLoading: true, //解决轮播到最后再划显示默认图\r\n                //                     pagination: '.swiper-pagination'\r\n                //                 });\r\n                //             },1000);\r\n                //         }else {\r\n                //              UI.alertSecond(data.message)\r\n                //         }\r\n                //     }\r\n                // })\r\n            },\r\n \t\t\tgetParams: function (url) {\r\n                if (url.indexOf('#') > 0) {\r\n                    return url.substr(url.indexOf('#') + 1)\r\n                }\r\n                else {\r\n                    return null\r\n                }\r\n \t\t\t},\r\n            getClientTime: function () {\r\n                var date = new Date(),\r\n                    year = date.getFullYear(),\r\n                    month = this.filterNum(date.getMonth() + 1),\r\n                    day = this.filterNum(date.getDay()),\r\n                    hours = this.filterNum(date.getHours()),\r\n                    minutes = this.filterNum(date.getMinutes()),\r\n                    seconds = this.filterNum(date.getSeconds());\r\n                return year + month + day + hours + minutes + seconds\r\n            },\r\n            filterNum: function (num) {\r\n                return num > 10 ? num : ('0' + num)\r\n            }\r\n \t\t}\r\n \t});\r\n })"]}