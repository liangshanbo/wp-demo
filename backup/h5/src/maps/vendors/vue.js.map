{"version":3,"sources":["vendors/vue.js"],"names":["global","factory","define","set","obj","key","val","hasOwn","_isVue","_data","ob","__ob__","convert","dep","notify","vms","i","length","vm","_proxy","_digest","del","_unproxy","hasOwnProperty","Object","prototype","call","literalValueRE","isLiteral","exp","test","isReserved","str","c","charCodeAt","_toString","value","toString","toNumber","parsed","Number","isNaN","toBoolean","stripQuotes","a","b","slice","camelizeRE","camelize","replace","toUpper","_","toUpperCase","hyphenateRE","hyphenate","toLowerCase","classifyRE","classify","bind$1","fn","ctx","l","arguments","apply","toArray","list","start","ret","Array","extend","to","from","keys","isObject","OBJECT_STRING","isPlainObject","isArray","def","enumerable","defineProperty","writable","configurable","_debounce","func","wait","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","indexOf","arr","cancellable","cb","cancelled","cancel","looseEqual","JSON","stringify","hasProto","inBrowser","window","isIE9","navigator","userAgent","isAndroid","transitionProp","undefined","transitionEndEvent","animationProp","animationEndEvent","isWebkitTrans","ontransitionend","onwebkittransitionend","isWebkitAnim","onanimationend","onwebkitanimationend","nextTick","callbacks","pending","timerFunc","nextTickHandler","copies","MutationObserver","counter","observer","textNode","document","createTextNode","observe","characterData","data","push","Cache","limit","size","head","tail","_keymap","create","p","put","entry","newer","older","shift","get","returnEntry","cache$1","filterTokenRE","reservedArgRE","dir","prev","lastFilterIndex","inSingle","inDouble","curly","square","paren","pushFilter","trim","filter","tokens","match","name","map","processFilterArg","filters","arg","dynamic","stripped","parseDirective","s","hit","expression","directive","freeze","regexEscapeRE","cache","tagRE","htmlRE","escapeRegex","compileRegex","open","config","delimiters","close","unsafeOpen","unsafeDelimiters","unsafeClose","RegExp","parseText","text","lastIndex","index","html","first","oneTime","exec","tag","tokensToExp","token","formatToken","join","single","inlineFilters","filterRE$1","removeTags","text$1","defineProperties","debug","silent","async","warnExpressionErrors","convertAllProperties","_delimitersChanged","_assetTypes","_propBindingModes","ONE_WAY","TWO_WAY","ONE_TIME","_maxUpdateCount","warn","hasConsole","console","msg","e","Error","stack","appendWithTransition","el","target","applyTransition","appendChild","beforeWithTransition","before","removeWithTransition","remove","direction","op","transition","__v_trans","hooks","_isCompiled","$parent","action","query","selector","querySelector","inDoc","node","doc","documentElement","parent","parentNode","nodeType","contains","getAttr","_attr","getAttribute","removeAttribute","getBindAttr","hasBindAttr","hasAttribute","insertBefore","after","nextSibling","removeChild","prepend","firstChild","replaceChild","on$1","event","addEventListener","off","removeEventListener","setClass","cls","SVGElement","className","setAttribute","addClass","classList","add","cur","removeClass","tar","extractContent","asFragment","child","rawContent","isTemplate","content","DocumentFragment","hasChildNodes","trimNode","createDocumentFragment","createElement","lastChild","tagName","createAnchor","persist","anchor","createComment","__vue_anchor","refRE","findRef","hasAttributes","attrs","attributes","mapNodeRange","end","next","removeNodeRange","frag","done","removed","nodes","onRemoved","commonTagRE","reservedTagRE","checkComponentAttr","options","hasAttrs","resolveAsset","id","is","getIsBinding","initProp","prop","path","coerceProp","assertProp","raw","required","type","valid","expectedType","String","Boolean","Function","formatType","formatValue","validator","coerce","charAt","strats","optionMergeStrategies","mergeData","toVal","fromVal","parentVal","childVal","mergedDataFn","mergedInstanceDataFn","instanceData","defaultData","init","created","ready","attached","detached","beforeCompile","compiled","beforeDestroy","destroyed","concat","paramAttributes","mergeAssets","res","guardArrayAssets","forEach","watch","events","props","methods","computed","defaultStrat","guardComponents","components","ids","Vue","guardProps","assets","asset","mergeOptions","mixins","mergeField","strat","camelizedId","assertAsset","arrayProto","arrayMethods","method","original","mutator","inserted","observeArray","$set","splice","$remove","item","uid$3","Dep","subs","addSub","sub","removeSub","depend","addDep","update","arrayKeys","getOwnPropertyNames","Observer","augment","protoAugment","copyAugment","walk","items","defineReactive","addVm","removeVm","src","__proto__","isExtensible","getter","setter","property","getOwnPropertyDescriptor","childOb","reactiveGetter","reactiveSetter","newVal","util","bind","debounce","on","uid","initMixin","_init","$el","$root","$children","$refs","$els","_watchers","_directives","_uid","_events","_eventsCount","_isFragment","_fragment","_fragmentStart","_fragmentEnd","_isDestroyed","_isReady","_isAttached","_isBeingDestroyed","_unlinkFn","_context","_scope","_frag","children","$options","constructor","_updateRef","_callHook","_initState","_initEvents","$mount","pathCache","APPEND","PUSH","INC_SUB_PATH_DEPTH","PUSH_SUB_PATH","BEFORE_PATH","IN_PATH","BEFORE_IDENT","IN_IDENT","IN_SUB_PATH","IN_SINGLE_QUOTE","IN_DOUBLE_QUOTE","AFTER_PATH","ERROR","pathStateMachine","getPathCharType","ch","code","formatSubPath","trimmed","parse","mode","subPathDepth","newChar","typeMap","actions","maybeUnescapeQuote","nextChar","parsePath","getPath","parseExpression","warnNonExistent","setPath","expressionCache","allowedKeywords","allowedKeywordsRE","improperKeywords","improperKeywordsRE","wsRE","newlineRE","saveRE","restoreRE","pathTestRE","identRE","booleanLiteralRE","saved","save","isString","rewrite","restore","compileGetter","body","makeGetterFn","compileSetter","scope","needSet","isSimplePath","queue","userQueue","has","circular","waiting","internalQueueDepleted","resetBatcherState","flushBatcherQueue","runBatcherQueue","__VUE_DEVTOOLS_GLOBAL_HOOK__","emit","watcher","run","pushWatcher","user","q","uid$2","Watcher","expOrFn","isFn","active","dirty","lazy","deps","newDeps","prevError","twoWay","queued","shallow","beforeGet","deep","traverse","preProcess","_applyFilters","postProcess","afterGet","forContext","$forContext","alias","_withLock","$key","rawValue","$index","sync","oldValue","evaluate","current","depIds","teardown","cloak","$once","ref","priority","refs","unbind","prefixes","camelPrefixes","importantRE","propCache","testEl","style","cssText","handleObject","reduce","handleSingle","normalize","isImportant","setProperty","removeProperty","prefix","camel","upper","prefixed","xlinkNS","xlinkRE","disallowedInterpAttrRE","attrWithPropsRE","modelProps","attr","descriptor","interp","invalid","modelProp","model","__v_model","listener","setAttributeNS","keyCodes","esc","tab","enter","space","up","left","right","down","keyFilter","handler","codes","charCode","parseInt","keyHandler","keyCode","stopFilter","stopHandler","stopPropagation","preventFilter","preventHandler","preventDefault","acceptStatement","self","iframeBind","contentWindow","modifiers","stop","prevent","reset","checkbox","getValue","_value","params","number","getBooleanValue","checked","_trueValue","_falseValue","_watcher","afterBind","select","forceUpdate","multiple","initValue","$on","selectedIndex","multi","selected","indexOf$1","$off","radio","text$2","isRange","composing","focused","rawListener","_bound","hasjQuery","jQuery","handlers","checkFilters","hasRead","hasWrite","_unbind","read","write","show","nextElementSibling","elseEl","toggle","display","templateCache","idSelectorCache","efault","legend","tr","col","td","th","option","optgroup","thead","tbody","colgroup","caption","tfoot","g","defs","symbol","use","image","circle","ellipse","line","polygon","polyline","rect","isRealTemplate","tagRE$1","entityRE","stringToFragment","templateString","tagMatch","entityMatch","wrap","depth","suffix","innerHTML","nodeToFragment","textContent","clonedNode","cloneNode","hasBrokenTemplate","hasTextareaCloneBug","t","placeholder","querySelectorAll","cloned","tempClone","parseTemplate","template","shouldClone","getElementById","Fragment","linker","host","parentFrag","childFrags","unlink","childNodes","singleBefore","singleRemove","multiBefore","multiRemove","__vfrag__","callHook","hook","destroy","withTransition","attach","shouldCallRemove","destroyChild","detach","$destroy","linkerCache","FragmentFactory","cid","cacheId","outerHTML","compile","vIf","__vue__","elseFactory","insert","elseFrag","_host","uid$1","vFor","inMatch","itMatch","iterator","isOption","diff","updateRef","updateModel","convertedFromObject","fromObject","trackByKey","trackBy","oldFrags","frags","inDocument","primitive","$value","getCachedFrag","reused","fresh","removalIndex","totalRemoved","deleteCachedFrag","targetPrev","prevEl","currentPrev","insertionIndex","staggerCb","staggerAnchor","findPrevFrag","move","parentScope","forId","cacheFrag","hash","findVmFromFrag","staggerAmount","getStagger","total","warnDuplicate","trans","stagger","_preProcess","_postProcess","range","previousSibling","n","swap","publicDirectives","queue$1","pushJob","job","flush","f","offsetHeight","TYPE_TRANSITION","TYPE_ANIMATION","transDurationProp","animDurationProp","Transition","enterClass","leaveClass","pendingCssEvent","pendingCssCb","pendingJsCb","justEntered","entered","typeCache","m","p$1","cancelPending","callHookWithCb","enterCancelled","enterNextTick","enterDone","getCssTransitionType","setupCssCb","leave","leaveCancelled","leaveDone","leaveNextTick","hasPending","hidden","css","isHidden","inlineStyles","computedStyles","getComputedStyle","transDuration","animDuration","onEnd","offsetWidth","getClientRects","oldId","bindingModes","propDef","childKey","parentKey","parentPath","parentWatcher","childWatcher","component","keepAlive","inlineTemplate","pendingComponentCb","Component","pendingRemovals","pendingRemovalCb","literal","setComponent","invalidatePending","unbuild","childVM","resolveComponent","mountComponent","ComponentName","_resolveComponent","activateHook","activate","cached","getCached","newComponent","build","waitingFor","extraOptions","_linkerCachable","_ref","_asComponent","_isRouterView","defer","_cleanup","_inactive","transitionMode","$before","vClass","stringToObject","handleArray","cleanup","prevKeys","contains$1","split","internalDirectives","propBindingModes","empty","identRE$1","settablePathRE","compileProps","propOptions","names","optimizedLiteral","makePropsLinkFn","propsLinkFn","_props","getDefault","$get","_bindDir","bindRE","onRE","argRE","modifierRE","transitionRE","terminalDirectives","DEFAULT_PRIORITY","partial","nodeLinkFn","compileNode","childLinkFn","terminal","compileNodeList","compositeLinkFn","dirs","linkAndCapture","compositeLinkCapturer","makeUnlinkFn","originalDirCount","sort","directiveComparator","_bind","contextDirs","destroying","teardownDirs","_teardown","compileAndLinkProps","propDirs","compileRoot","contextOptions","containerAttrs","_containerAttrs","replacerAttrs","_replacerAttrs","contextLinkFn","replacerLinkFn","compileDirectives","plural","rootLinkFn","selfDirs","compileElement","compileTextNode","linkFn","checkTerminalDirectives","checkElementDirectives","checkComponent","_skip","removeText","wholeText","processTextToken","makeTextNodeLinkFn","setTokenType","textNodeLinkFn","fragClone","$eval","nodeList","linkFns","makeChildLinkFn","childrenLinkFn","makeTerminalNodeLinkFn","componentLinkFn","skip","previousElementSibling","dirName","terminalNodeLinkFn","rawName","dirDef","parseModifiers","pushDir","some","makeNodeLinkFn","directives","specialCharRE","transclude","extractAttrs","_content","transcludeTemplate","replacer","mergeAttrs","compiler","stateMixin","newData","_setData","_initProps","_initMeta","_initMethods","_initData","_initComputed","_propsUnlinkFn","propsData","optionsDataFn","optionsData","oldData","proxyGetter","proxySetter","noop","userDef","makeComputedGetter","owner","computedGetter","metas","_meta","eventRE","eventsMixin","registerComponentEvents","registerCallbacks","j","register","_initDOMHooks","onAttached","onDetached","callAttach","callDetach","$emit","Directive","_locked","_listeners","_vue_directives","_setupParams","_checkStatement","_update","oldVal","mappedKey","_setupParamWatcher","called","unwatch","$watch","paramWatchers","immediate","_paramUnwatchFns","$event","listeners","unwatchFns","lifecycleMixin","_compile","_initElement","rootLinker","contentLinkFn","ctor","rootUnlinkFn","contentUnlinkFn","_destroy","deferCleanup","destroyReady","pendingRemoval","cleanupIfPossible","miscMixin","offset","k","resolved","requested","pendingCallbacks","cbs","resolve","reject","reason","globalAPI","parsers","extendOptions","Super","isFirstExtend","_Ctor","Sub","createClass","plugin","installed","unshift","install","mixin","definition","filterRE","dataAPI","asStatement","statementHandler","$arguments","$delete","unwatchFn","$interpolate","$log","clean","log","domAPI","$nextTick","$appendTo","append","$prependTo","beforeWithCb","$after","realCb","removeWithCb","op1","op2","targetIsDetached","shouldCallHook","eventsAPI","modifyListenerCount","shouldPropagate","$broadcast","$dispatch","hookRE","count","lifecycleAPI","$compile","convertArray","limitBy","filterBy","search","delimiter","orderBy","sortKey","reverse","order","digitsRE","json","indent","capitalize","uppercase","lowercase","currency","_currency","parseFloat","isFinite","stringified","Math","abs","toFixed","_int","_float","sign","pluralize","delay","slot","fallback","slotName","tryCompile","extractFragment","namedSlot","main","__v_selected","elementDirectives","_namedSlot","version","transitions","partials"],"mappings":"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","file":"../../js_es6/vendors/vue.js","sourcesContent":["/*!\n * Vue.js v1.0.12\n * (c) 2015 Evan You\n * Released under the MIT License.\n */\n(function (global, factory) {\n  //typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  //typeof define === 'function' && define.amd ? define(factory) :\n  //global.Vue = factory();\n  define('vendors/vue.js',factory);\n}(this, function () { 'use strict';\n\n  function set(obj, key, val) {\n    if (hasOwn(obj, key)) {\n      obj[key] = val;\n      return;\n    }\n    if (obj._isVue) {\n      set(obj._data, key, val);\n      return;\n    }\n    var ob = obj.__ob__;\n    if (!ob) {\n      obj[key] = val;\n      return;\n    }\n    ob.convert(key, val);\n    ob.dep.notify();\n    if (ob.vms) {\n      var i = ob.vms.length;\n      while (i--) {\n        var vm = ob.vms[i];\n        vm._proxy(key);\n        vm._digest();\n      }\n    }\n    return val;\n  }\n\n  /**\n   * Delete a property and trigger change if necessary.\n   *\n   * @param {Object} obj\n   * @param {String} key\n   */\n\n  function del(obj, key) {\n    if (!hasOwn(obj, key)) {\n      return;\n    }\n    delete obj[key];\n    var ob = obj.__ob__;\n    if (!ob) {\n      return;\n    }\n    ob.dep.notify();\n    if (ob.vms) {\n      var i = ob.vms.length;\n      while (i--) {\n        var vm = ob.vms[i];\n        vm._unproxy(key);\n        vm._digest();\n      }\n    }\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check whether the object has the property.\n   *\n   * @param {Object} obj\n   * @param {String} key\n   * @return {Boolean}\n   */\n\n  function hasOwn(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  }\n\n  /**\n   * Check if an expression is a literal value.\n   *\n   * @param {String} exp\n   * @return {Boolean}\n   */\n\n  var literalValueRE = /^\\s?(true|false|[\\d\\.]+|'[^']*'|\"[^\"]*\")\\s?$/;\n\n  function isLiteral(exp) {\n    return literalValueRE.test(exp);\n  }\n\n  /**\n   * Check if a string starts with $ or _\n   *\n   * @param {String} str\n   * @return {Boolean}\n   */\n\n  function isReserved(str) {\n    var c = (str + '').charCodeAt(0);\n    return c === 0x24 || c === 0x5F;\n  }\n\n  /**\n   * Guard text output, make sure undefined outputs\n   * empty string\n   *\n   * @param {*} value\n   * @return {String}\n   */\n\n  function _toString(value) {\n    return value == null ? '' : value.toString();\n  }\n\n  /**\n   * Check and convert possible numeric strings to numbers\n   * before setting back to data\n   *\n   * @param {*} value\n   * @return {*|Number}\n   */\n\n  function toNumber(value) {\n    if (typeof value !== 'string') {\n      return value;\n    } else {\n      var parsed = Number(value);\n      return isNaN(parsed) ? value : parsed;\n    }\n  }\n\n  /**\n   * Convert string boolean literals into real booleans.\n   *\n   * @param {*} value\n   * @return {*|Boolean}\n   */\n\n  function toBoolean(value) {\n    return value === 'true' ? true : value === 'false' ? false : value;\n  }\n\n  /**\n   * Strip quotes from a string\n   *\n   * @param {String} str\n   * @return {String | false}\n   */\n\n  function stripQuotes(str) {\n    var a = str.charCodeAt(0);\n    var b = str.charCodeAt(str.length - 1);\n    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\n  }\n\n  /**\n   * Camelize a hyphen-delmited string.\n   *\n   * @param {String} str\n   * @return {String}\n   */\n\n  var camelizeRE = /-(\\w)/g;\n\n  function camelize(str) {\n    return str.replace(camelizeRE, toUpper);\n  }\n\n  function toUpper(_, c) {\n    return c ? c.toUpperCase() : '';\n  }\n\n  /**\n   * Hyphenate a camelCase string.\n   *\n   * @param {String} str\n   * @return {String}\n   */\n\n  var hyphenateRE = /([a-z\\d])([A-Z])/g;\n\n  function hyphenate(str) {\n    return str.replace(hyphenateRE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Converts hyphen/underscore/slash delimitered names into\n   * camelized classNames.\n   *\n   * e.g. my-component => MyComponent\n   *      some_else    => SomeElse\n   *      some/comp    => SomeComp\n   *\n   * @param {String} str\n   * @return {String}\n   */\n\n  var classifyRE = /(?:^|[-_\\/])(\\w)/g;\n\n  function classify(str) {\n    return str.replace(classifyRE, toUpper);\n  }\n\n  /**\n   * Simple bind, faster than native\n   *\n   * @param {Function} fn\n   * @param {Object} ctx\n   * @return {Function}\n   */\n\n  function bind$1(fn, ctx) {\n    return function (a) {\n      var l = arguments.length;\n      return l ? l > 1 ? fn.apply(ctx, arguments) : fn.call(ctx, a) : fn.call(ctx);\n    };\n  }\n\n  /**\n   * Convert an Array-like object to a real Array.\n   *\n   * @param {Array-like} list\n   * @param {Number} [start] - start index\n   * @return {Array}\n   */\n\n  function toArray(list, start) {\n    start = start || 0;\n    var i = list.length - start;\n    var ret = new Array(i);\n    while (i--) {\n      ret[i] = list[i + start];\n    }\n    return ret;\n  }\n\n  /**\n   * Mix properties into target object.\n   *\n   * @param {Object} to\n   * @param {Object} from\n   */\n\n  function extend(to, from) {\n    var keys = Object.keys(from);\n    var i = keys.length;\n    while (i--) {\n      to[keys[i]] = from[keys[i]];\n    }\n    return to;\n  }\n\n  /**\n   * Quick object check - this is primarily used to tell\n   * Objects from primitive values when we know the value\n   * is a JSON-compliant type.\n   *\n   * @param {*} obj\n   * @return {Boolean}\n   */\n\n  function isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n  }\n\n  /**\n   * Strict object type check. Only returns true\n   * for plain JavaScript objects.\n   *\n   * @param {*} obj\n   * @return {Boolean}\n   */\n\n  var toString = Object.prototype.toString;\n  var OBJECT_STRING = '[object Object]';\n\n  function isPlainObject(obj) {\n    return toString.call(obj) === OBJECT_STRING;\n  }\n\n  /**\n   * Array type check.\n   *\n   * @param {*} obj\n   * @return {Boolean}\n   */\n\n  var isArray = Array.isArray;\n\n  /**\n   * Define a non-enumerable property\n   *\n   * @param {Object} obj\n   * @param {String} key\n   * @param {*} val\n   * @param {Boolean} [enumerable]\n   */\n\n  function def(obj, key, val, enumerable) {\n    Object.defineProperty(obj, key, {\n      value: val,\n      enumerable: !!enumerable,\n      writable: true,\n      configurable: true\n    });\n  }\n\n  /**\n   * Debounce a function so it only gets called after the\n   * input stops arriving after the given wait period.\n   *\n   * @param {Function} func\n   * @param {Number} wait\n   * @return {Function} - the debounced function\n   */\n\n  function _debounce(func, wait) {\n    var timeout, args, context, timestamp, result;\n    var later = function later() {\n      var last = Date.now() - timestamp;\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    };\n    return function () {\n      context = this;\n      args = arguments;\n      timestamp = Date.now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Manual indexOf because it's slightly faster than\n   * native.\n   *\n   * @param {Array} arr\n   * @param {*} obj\n   */\n\n  function indexOf(arr, obj) {\n    var i = arr.length;\n    while (i--) {\n      if (arr[i] === obj) return i;\n    }\n    return -1;\n  }\n\n  /**\n   * Make a cancellable version of an async callback.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   */\n\n  function cancellable(fn) {\n    var cb = function cb() {\n      if (!cb.cancelled) {\n        return fn.apply(this, arguments);\n      }\n    };\n    cb.cancel = function () {\n      cb.cancelled = true;\n    };\n    return cb;\n  }\n\n  /**\n   * Check if two values are loosely equal - that is,\n   * if they are plain objects, do they have the same shape?\n   *\n   * @param {*} a\n   * @param {*} b\n   * @return {Boolean}\n   */\n\n  function looseEqual(a, b) {\n    /* eslint-disable eqeqeq */\n    return a == b || (isObject(a) && isObject(b) ? JSON.stringify(a) === JSON.stringify(b) : false);\n    /* eslint-enable eqeqeq */\n  }\n\n  var hasProto = ('__proto__' in {});\n\n  // Browser environment sniffing\n  var inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\n  var isIE9 = inBrowser && navigator.userAgent.toLowerCase().indexOf('msie 9.0') > 0;\n\n  var isAndroid = inBrowser && navigator.userAgent.toLowerCase().indexOf('android') > 0;\n\n  var transitionProp = undefined;\n  var transitionEndEvent = undefined;\n  var animationProp = undefined;\n  var animationEndEvent = undefined;\n\n  // Transition property/event sniffing\n  if (inBrowser && !isIE9) {\n    var isWebkitTrans = window.ontransitionend === undefined && window.onwebkittransitionend !== undefined;\n    var isWebkitAnim = window.onanimationend === undefined && window.onwebkitanimationend !== undefined;\n    transitionProp = isWebkitTrans ? 'WebkitTransition' : 'transition';\n    transitionEndEvent = isWebkitTrans ? 'webkitTransitionEnd' : 'transitionend';\n    animationProp = isWebkitAnim ? 'WebkitAnimation' : 'animation';\n    animationEndEvent = isWebkitAnim ? 'webkitAnimationEnd' : 'animationend';\n  }\n\n  /**\n   * Defer a task to execute it asynchronously. Ideally this\n   * should be executed as a microtask, so we leverage\n   * MutationObserver if it's available, and fallback to\n   * setTimeout(0).\n   *\n   * @param {Function} cb\n   * @param {Object} ctx\n   */\n\n  var nextTick = (function () {\n    var callbacks = [];\n    var pending = false;\n    var timerFunc;\n    function nextTickHandler() {\n      pending = false;\n      var copies = callbacks.slice(0);\n      callbacks = [];\n      for (var i = 0; i < copies.length; i++) {\n        copies[i]();\n      }\n    }\n    /* istanbul ignore if */\n    if (typeof MutationObserver !== 'undefined') {\n      var counter = 1;\n      var observer = new MutationObserver(nextTickHandler);\n      var textNode = document.createTextNode(counter);\n      observer.observe(textNode, {\n        characterData: true\n      });\n      timerFunc = function () {\n        counter = (counter + 1) % 2;\n        textNode.data = counter;\n      };\n    } else {\n      timerFunc = setTimeout;\n    }\n    return function (cb, ctx) {\n      var func = ctx ? function () {\n        cb.call(ctx);\n      } : cb;\n      callbacks.push(func);\n      if (pending) return;\n      pending = true;\n      timerFunc(nextTickHandler, 0);\n    };\n  })();\n\n  function Cache(limit) {\n    this.size = 0;\n    this.limit = limit;\n    this.head = this.tail = undefined;\n    this._keymap = Object.create(null);\n  }\n\n  var p = Cache.prototype;\n\n  /**\n   * Put <value> into the cache associated with <key>.\n   * Returns the entry which was removed to make room for\n   * the new entry. Otherwise undefined is returned.\n   * (i.e. if there was enough room already).\n   *\n   * @param {String} key\n   * @param {*} value\n   * @return {Entry|undefined}\n   */\n\n  p.put = function (key, value) {\n    var entry = {\n      key: key,\n      value: value\n    };\n    this._keymap[key] = entry;\n    if (this.tail) {\n      this.tail.newer = entry;\n      entry.older = this.tail;\n    } else {\n      this.head = entry;\n    }\n    this.tail = entry;\n    if (this.size === this.limit) {\n      return this.shift();\n    } else {\n      this.size++;\n    }\n  };\n\n  /**\n   * Purge the least recently used (oldest) entry from the\n   * cache. Returns the removed entry or undefined if the\n   * cache was empty.\n   */\n\n  p.shift = function () {\n    var entry = this.head;\n    if (entry) {\n      this.head = this.head.newer;\n      this.head.older = undefined;\n      entry.newer = entry.older = undefined;\n      this._keymap[entry.key] = undefined;\n    }\n    return entry;\n  };\n\n  /**\n   * Get and register recent use of <key>. Returns the value\n   * associated with <key> or undefined if not in cache.\n   *\n   * @param {String} key\n   * @param {Boolean} returnEntry\n   * @return {Entry|*}\n   */\n\n  p.get = function (key, returnEntry) {\n    var entry = this._keymap[key];\n    if (entry === undefined) return;\n    if (entry === this.tail) {\n      return returnEntry ? entry : entry.value;\n    }\n    // HEAD--------------TAIL\n    //   <.older   .newer>\n    //  <--- add direction --\n    //   A  B  C  <D>  E\n    if (entry.newer) {\n      if (entry === this.head) {\n        this.head = entry.newer;\n      }\n      entry.newer.older = entry.older; // C <-- E.\n    }\n    if (entry.older) {\n      entry.older.newer = entry.newer; // C. --> E\n    }\n    entry.newer = undefined; // D --x\n    entry.older = this.tail; // D. --> E\n    if (this.tail) {\n      this.tail.newer = entry; // E. <-- D\n    }\n    this.tail = entry;\n    return returnEntry ? entry : entry.value;\n  };\n\n  var cache$1 = new Cache(1000);\n  var filterTokenRE = /[^\\s'\"]+|'[^']*'|\"[^\"]*\"/g;\n  var reservedArgRE = /^in$|^-?\\d+/;\n\n  /**\n   * Parser state\n   */\n\n  var str;\n  var dir;\n  var c;\n  var prev;\n  var i;\n  var l;\n  var lastFilterIndex;\n  var inSingle;\n  var inDouble;\n  var curly;\n  var square;\n  var paren;\n  /**\n   * Push a filter to the current directive object\n   */\n\n  function pushFilter() {\n    var exp = str.slice(lastFilterIndex, i).trim();\n    var filter;\n    if (exp) {\n      filter = {};\n      var tokens = exp.match(filterTokenRE);\n      filter.name = tokens[0];\n      if (tokens.length > 1) {\n        filter.args = tokens.slice(1).map(processFilterArg);\n      }\n    }\n    if (filter) {\n      (dir.filters = dir.filters || []).push(filter);\n    }\n    lastFilterIndex = i + 1;\n  }\n\n  /**\n   * Check if an argument is dynamic and strip quotes.\n   *\n   * @param {String} arg\n   * @return {Object}\n   */\n\n  function processFilterArg(arg) {\n    if (reservedArgRE.test(arg)) {\n      return {\n        value: toNumber(arg),\n        dynamic: false\n      };\n    } else {\n      var stripped = stripQuotes(arg);\n      var dynamic = stripped === arg;\n      return {\n        value: dynamic ? arg : stripped,\n        dynamic: dynamic\n      };\n    }\n  }\n\n  /**\n   * Parse a directive value and extract the expression\n   * and its filters into a descriptor.\n   *\n   * Example:\n   *\n   * \"a + 1 | uppercase\" will yield:\n   * {\n   *   expression: 'a + 1',\n   *   filters: [\n   *     { name: 'uppercase', args: null }\n   *   ]\n   * }\n   *\n   * @param {String} str\n   * @return {Object}\n   */\n\n  function parseDirective(s) {\n\n    var hit = cache$1.get(s);\n    if (hit) {\n      return hit;\n    }\n\n    // reset parser state\n    str = s;\n    inSingle = inDouble = false;\n    curly = square = paren = 0;\n    lastFilterIndex = 0;\n    dir = {};\n\n    for (i = 0, l = str.length; i < l; i++) {\n      prev = c;\n      c = str.charCodeAt(i);\n      if (inSingle) {\n        // check single quote\n        if (c === 0x27 && prev !== 0x5C) inSingle = !inSingle;\n      } else if (inDouble) {\n        // check double quote\n        if (c === 0x22 && prev !== 0x5C) inDouble = !inDouble;\n      } else if (c === 0x7C && // pipe\n      str.charCodeAt(i + 1) !== 0x7C && str.charCodeAt(i - 1) !== 0x7C) {\n        if (dir.expression == null) {\n          // first filter, end of expression\n          lastFilterIndex = i + 1;\n          dir.expression = str.slice(0, i).trim();\n        } else {\n          // already has filter\n          pushFilter();\n        }\n      } else {\n        switch (c) {\n          case 0x22:\n            inDouble = true;break; // \"\n          case 0x27:\n            inSingle = true;break; // '\n          case 0x28:\n            paren++;break; // (\n          case 0x29:\n            paren--;break; // )\n          case 0x5B:\n            square++;break; // [\n          case 0x5D:\n            square--;break; // ]\n          case 0x7B:\n            curly++;break; // {\n          case 0x7D:\n            curly--;break; // }\n        }\n      }\n    }\n\n    if (dir.expression == null) {\n      dir.expression = str.slice(0, i).trim();\n    } else if (lastFilterIndex !== 0) {\n      pushFilter();\n    }\n\n    cache$1.put(s, dir);\n    return dir;\n  }\n\n  var directive = Object.freeze({\n    parseDirective: parseDirective\n  });\n\n  var regexEscapeRE = /[-.*+?^${}()|[\\]\\/\\\\]/g;\n  var cache = undefined;\n  var tagRE = undefined;\n  var htmlRE = undefined;\n  /**\n   * Escape a string so it can be used in a RegExp\n   * constructor.\n   *\n   * @param {String} str\n   */\n\n  function escapeRegex(str) {\n    return str.replace(regexEscapeRE, '\\\\$&');\n  }\n\n  function compileRegex() {\n    var open = escapeRegex(config.delimiters[0]);\n    var close = escapeRegex(config.delimiters[1]);\n    var unsafeOpen = escapeRegex(config.unsafeDelimiters[0]);\n    var unsafeClose = escapeRegex(config.unsafeDelimiters[1]);\n    tagRE = new RegExp(unsafeOpen + '(.+?)' + unsafeClose + '|' + open + '(.+?)' + close, 'g');\n    htmlRE = new RegExp('^' + unsafeOpen + '.*' + unsafeClose + '$');\n    // reset cache\n    cache = new Cache(1000);\n  }\n\n  /**\n   * Parse a template text string into an array of tokens.\n   *\n   * @param {String} text\n   * @return {Array<Object> | null}\n   *               - {String} type\n   *               - {String} value\n   *               - {Boolean} [html]\n   *               - {Boolean} [oneTime]\n   */\n\n  function parseText(text) {\n    if (!cache) {\n      compileRegex();\n    }\n    var hit = cache.get(text);\n    if (hit) {\n      return hit;\n    }\n    text = text.replace(/\\n/g, '');\n    if (!tagRE.test(text)) {\n      return null;\n    }\n    var tokens = [];\n    var lastIndex = tagRE.lastIndex = 0;\n    var match, index, html, value, first, oneTime;\n    /* eslint-disable no-cond-assign */\n    while (match = tagRE.exec(text)) {\n      /* eslint-enable no-cond-assign */\n      index = match.index;\n      // push text token\n      if (index > lastIndex) {\n        tokens.push({\n          value: text.slice(lastIndex, index)\n        });\n      }\n      // tag token\n      html = htmlRE.test(match[0]);\n      value = html ? match[1] : match[2];\n      first = value.charCodeAt(0);\n      oneTime = first === 42; // *\n      value = oneTime ? value.slice(1) : value;\n      tokens.push({\n        tag: true,\n        value: value.trim(),\n        html: html,\n        oneTime: oneTime\n      });\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push({\n        value: text.slice(lastIndex)\n      });\n    }\n    cache.put(text, tokens);\n    return tokens;\n  }\n\n  /**\n   * Format a list of tokens into an expression.\n   * e.g. tokens parsed from 'a {{b}} c' can be serialized\n   * into one single expression as '\"a \" + b + \" c\"'.\n   *\n   * @param {Array} tokens\n   * @return {String}\n   */\n\n  function tokensToExp(tokens) {\n    if (tokens.length > 1) {\n      return tokens.map(function (token) {\n        return formatToken(token);\n      }).join('+');\n    } else {\n      return formatToken(tokens[0], true);\n    }\n  }\n\n  /**\n   * Format a single token.\n   *\n   * @param {Object} token\n   * @param {Boolean} single\n   * @return {String}\n   */\n\n  function formatToken(token, single) {\n    return token.tag ? inlineFilters(token.value, single) : '\"' + token.value + '\"';\n  }\n\n  /**\n   * For an attribute with multiple interpolation tags,\n   * e.g. attr=\"some-{{thing | filter}}\", in order to combine\n   * the whole thing into a single watchable expression, we\n   * have to inline those filters. This function does exactly\n   * that. This is a bit hacky but it avoids heavy changes\n   * to directive parser and watcher mechanism.\n   *\n   * @param {String} exp\n   * @param {Boolean} single\n   * @return {String}\n   */\n\n  var filterRE$1 = /[^|]\\|[^|]/;\n  function inlineFilters(exp, single) {\n    if (!filterRE$1.test(exp)) {\n      return single ? exp : '(' + exp + ')';\n    } else {\n      var dir = parseDirective(exp);\n      if (!dir.filters) {\n        return '(' + exp + ')';\n      } else {\n        return 'this._applyFilters(' + dir.expression + // value\n        ',null,' + // oldValue (null for read)\n        JSON.stringify(dir.filters) + // filter descriptors\n        ',false)'; // write?\n      }\n    }\n  }\n\n  /**\n   * Replace all interpolation tags in a piece of text.\n   *\n   * @param {String} text\n   * @return {String}\n   */\n\n  function removeTags(text) {\n    return text.replace(tagRE, '');\n  }\n\n  var text$1 = Object.freeze({\n    compileRegex: compileRegex,\n    parseText: parseText,\n    tokensToExp: tokensToExp,\n    removeTags: removeTags\n  });\n\n  var delimiters = ['{{', '}}'];\n  var unsafeDelimiters = ['{{{', '}}}'];\n\n  var config = Object.defineProperties({\n\n    /**\n     * Whether to print debug messages.\n     * Also enables stack trace for warnings.\n     *\n     * @type {Boolean}\n     */\n\n    debug: false,\n\n    /**\n     * Whether to suppress warnings.\n     *\n     * @type {Boolean}\n     */\n\n    silent: false,\n\n    /**\n     * Whether to use async rendering.\n     */\n\n    async: true,\n\n    /**\n     * Whether to warn against errors caught when evaluating\n     * expressions.\n     */\n\n    warnExpressionErrors: true,\n\n    /**\n     * Whether or not to handle fully object properties which\n     * are already backed by getters and seters. Depending on\n     * use case and environment, this might introduce non-neglible\n     * performance penalties.\n     */\n    convertAllProperties: false,\n\n    /**\n     * Internal flag to indicate the delimiters have been\n     * changed.\n     *\n     * @type {Boolean}\n     */\n\n    _delimitersChanged: true,\n\n    /**\n     * List of asset types that a component can own.\n     *\n     * @type {Array}\n     */\n\n    _assetTypes: ['component', 'directive', 'elementDirective', 'filter', 'transition', 'partial'],\n\n    /**\n     * prop binding modes\n     */\n\n    _propBindingModes: {\n      ONE_WAY: 0,\n      TWO_WAY: 1,\n      ONE_TIME: 2\n    },\n\n    /**\n     * Max circular updates allowed in a batcher flush cycle.\n     */\n\n    _maxUpdateCount: 100\n\n  }, {\n    delimiters: { /**\n                   * Interpolation delimiters. Changing these would trigger\n                   * the text parser to re-compile the regular expressions.\n                   *\n                   * @type {Array<String>}\n                   */\n\n      get: function get() {\n        return delimiters;\n      },\n      set: function set(val) {\n        delimiters = val;\n        compileRegex();\n      },\n      configurable: true,\n      enumerable: true\n    },\n    unsafeDelimiters: {\n      get: function get() {\n        return unsafeDelimiters;\n      },\n      set: function set(val) {\n        unsafeDelimiters = val;\n        compileRegex();\n      },\n      configurable: true,\n      enumerable: true\n    }\n  });\n\n  var warn = undefined;\n\n  if ('development' !== 'production') {\n    (function () {\n      var hasConsole = typeof console !== 'undefined';\n      warn = function (msg, e) {\n        if (hasConsole && (!config.silent || config.debug)) {\n          console.warn('[Vue warn]: ' + msg);\n          /* istanbul ignore if */\n          if (config.debug) {\n            if (e) {\n              throw e;\n            } else {\n              console.warn(new Error('Warning Stack Trace').stack);\n            }\n          }\n        }\n      };\n    })();\n  }\n\n  /**\n   * Append with transition.\n   *\n   * @param {Element} el\n   * @param {Element} target\n   * @param {Vue} vm\n   * @param {Function} [cb]\n   */\n\n  function appendWithTransition(el, target, vm, cb) {\n    applyTransition(el, 1, function () {\n      target.appendChild(el);\n    }, vm, cb);\n  }\n\n  /**\n   * InsertBefore with transition.\n   *\n   * @param {Element} el\n   * @param {Element} target\n   * @param {Vue} vm\n   * @param {Function} [cb]\n   */\n\n  function beforeWithTransition(el, target, vm, cb) {\n    applyTransition(el, 1, function () {\n      before(el, target);\n    }, vm, cb);\n  }\n\n  /**\n   * Remove with transition.\n   *\n   * @param {Element} el\n   * @param {Vue} vm\n   * @param {Function} [cb]\n   */\n\n  function removeWithTransition(el, vm, cb) {\n    applyTransition(el, -1, function () {\n      remove(el);\n    }, vm, cb);\n  }\n\n  /**\n   * Apply transitions with an operation callback.\n   *\n   * @param {Element} el\n   * @param {Number} direction\n   *                  1: enter\n   *                 -1: leave\n   * @param {Function} op - the actual DOM operation\n   * @param {Vue} vm\n   * @param {Function} [cb]\n   */\n\n  function applyTransition(el, direction, op, vm, cb) {\n    var transition = el.__v_trans;\n    if (!transition ||\n    // skip if there are no js hooks and CSS transition is\n    // not supported\n    !transition.hooks && !transitionEndEvent ||\n    // skip transitions for initial compile\n    !vm._isCompiled ||\n    // if the vm is being manipulated by a parent directive\n    // during the parent's compilation phase, skip the\n    // animation.\n    vm.$parent && !vm.$parent._isCompiled) {\n      op();\n      if (cb) cb();\n      return;\n    }\n    var action = direction > 0 ? 'enter' : 'leave';\n    transition[action](op, cb);\n  }\n\n  /**\n   * Query an element selector if it's not an element already.\n   *\n   * @param {String|Element} el\n   * @return {Element}\n   */\n\n  function query(el) {\n    if (typeof el === 'string') {\n      var selector = el;\n      el = document.querySelector(el);\n      if (!el) {\n        'development' !== 'production' && warn('Cannot find element: ' + selector);\n      }\n    }\n    return el;\n  }\n\n  /**\n   * Check if a node is in the document.\n   * Note: document.documentElement.contains should work here\n   * but always returns false for comment nodes in phantomjs,\n   * making unit tests difficult. This is fixed by doing the\n   * contains() check on the node's parentNode instead of\n   * the node itself.\n   *\n   * @param {Node} node\n   * @return {Boolean}\n   */\n\n  function inDoc(node) {\n    var doc = document.documentElement;\n    var parent = node && node.parentNode;\n    return doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent));\n  }\n\n  /**\n   * Get and remove an attribute from a node.\n   *\n   * @param {Node} node\n   * @param {String} _attr\n   */\n\n  function getAttr(node, _attr) {\n    var val = node.getAttribute(_attr);\n    if (val !== null) {\n      node.removeAttribute(_attr);\n    }\n    return val;\n  }\n\n  /**\n   * Get an attribute with colon or v-bind: prefix.\n   *\n   * @param {Node} node\n   * @param {String} name\n   * @return {String|null}\n   */\n\n  function getBindAttr(node, name) {\n    var val = getAttr(node, ':' + name);\n    if (val === null) {\n      val = getAttr(node, 'v-bind:' + name);\n    }\n    return val;\n  }\n\n  /**\n   * Check the presence of a bind attribute.\n   *\n   * @param {Node} node\n   * @param {String} name\n   * @return {Boolean}\n   */\n\n  function hasBindAttr(node, name) {\n    return node.hasAttribute(name) || node.hasAttribute(':' + name) || node.hasAttribute('v-bind:' + name);\n  }\n\n  /**\n   * Insert el before target\n   *\n   * @param {Element} el\n   * @param {Element} target\n   */\n\n  function before(el, target) {\n    target.parentNode.insertBefore(el, target);\n  }\n\n  /**\n   * Insert el after target\n   *\n   * @param {Element} el\n   * @param {Element} target\n   */\n\n  function after(el, target) {\n    if (target.nextSibling) {\n      before(el, target.nextSibling);\n    } else {\n      target.parentNode.appendChild(el);\n    }\n  }\n\n  /**\n   * Remove el from DOM\n   *\n   * @param {Element} el\n   */\n\n  function remove(el) {\n    el.parentNode.removeChild(el);\n  }\n\n  /**\n   * Prepend el to target\n   *\n   * @param {Element} el\n   * @param {Element} target\n   */\n\n  function prepend(el, target) {\n    if (target.firstChild) {\n      before(el, target.firstChild);\n    } else {\n      target.appendChild(el);\n    }\n  }\n\n  /**\n   * Replace target with el\n   *\n   * @param {Element} target\n   * @param {Element} el\n   */\n\n  function replace(target, el) {\n    var parent = target.parentNode;\n    if (parent) {\n      parent.replaceChild(el, target);\n    }\n  }\n\n  /**\n   * Add event listener shorthand.\n   *\n   * @param {Element} el\n   * @param {String} event\n   * @param {Function} cb\n   */\n\n  function on$1(el, event, cb) {\n    el.addEventListener(event, cb);\n  }\n\n  /**\n   * Remove event listener shorthand.\n   *\n   * @param {Element} el\n   * @param {String} event\n   * @param {Function} cb\n   */\n\n  function off(el, event, cb) {\n    el.removeEventListener(event, cb);\n  }\n\n  /**\n   * In IE9, setAttribute('class') will result in empty class\n   * if the element also has the :class attribute; However in\n   * PhantomJS, setting `className` does not work on SVG elements...\n   * So we have to do a conditional check here.\n   *\n   * @param {Element} el\n   * @param {String} cls\n   */\n\n  function setClass(el, cls) {\n    /* istanbul ignore if */\n    if (isIE9 && !(el instanceof SVGElement)) {\n      el.className = cls;\n    } else {\n      el.setAttribute('class', cls);\n    }\n  }\n\n  /**\n   * Add class with compatibility for IE & SVG\n   *\n   * @param {Element} el\n   * @param {String} cls\n   */\n\n  function addClass(el, cls) {\n    if (el.classList) {\n      el.classList.add(cls);\n    } else {\n      var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n      if (cur.indexOf(' ' + cls + ' ') < 0) {\n        setClass(el, (cur + cls).trim());\n      }\n    }\n  }\n\n  /**\n   * Remove class with compatibility for IE & SVG\n   *\n   * @param {Element} el\n   * @param {String} cls\n   */\n\n  function removeClass(el, cls) {\n    if (el.classList) {\n      el.classList.remove(cls);\n    } else {\n      var cur = ' ' + (el.getAttribute('class') || '') + ' ';\n      var tar = ' ' + cls + ' ';\n      while (cur.indexOf(tar) >= 0) {\n        cur = cur.replace(tar, ' ');\n      }\n      setClass(el, cur.trim());\n    }\n    if (!el.className) {\n      el.removeAttribute('class');\n    }\n  }\n\n  /**\n   * Extract raw content inside an element into a temporary\n   * container div\n   *\n   * @param {Element} el\n   * @param {Boolean} asFragment\n   * @return {Element}\n   */\n\n  function extractContent(el, asFragment) {\n    var child;\n    var rawContent;\n    /* istanbul ignore if */\n    if (isTemplate(el) && el.content instanceof DocumentFragment) {\n      el = el.content;\n    }\n    if (el.hasChildNodes()) {\n      trimNode(el);\n      rawContent = asFragment ? document.createDocumentFragment() : document.createElement('div');\n      /* eslint-disable no-cond-assign */\n      while (child = el.firstChild) {\n        /* eslint-enable no-cond-assign */\n        rawContent.appendChild(child);\n      }\n    }\n    return rawContent;\n  }\n\n  /**\n   * Trim possible empty head/tail textNodes inside a parent.\n   *\n   * @param {Node} node\n   */\n\n  function trimNode(node) {\n    trim(node, node.firstChild);\n    trim(node, node.lastChild);\n  }\n\n  function trim(parent, node) {\n    if (node && node.nodeType === 3 && !node.data.trim()) {\n      parent.removeChild(node);\n    }\n  }\n\n  /**\n   * Check if an element is a template tag.\n   * Note if the template appears inside an SVG its tagName\n   * will be in lowercase.\n   *\n   * @param {Element} el\n   */\n\n  function isTemplate(el) {\n    return el.tagName && el.tagName.toLowerCase() === 'template';\n  }\n\n  /**\n   * Create an \"anchor\" for performing dom insertion/removals.\n   * This is used in a number of scenarios:\n   * - fragment instance\n   * - v-html\n   * - v-if\n   * - v-for\n   * - component\n   *\n   * @param {String} content\n   * @param {Boolean} persist - IE trashes empty textNodes on\n   *                            cloneNode(true), so in certain\n   *                            cases the anchor needs to be\n   *                            non-empty to be persisted in\n   *                            templates.\n   * @return {Comment|Text}\n   */\n\n  function createAnchor(content, persist) {\n    var anchor = config.debug ? document.createComment(content) : document.createTextNode(persist ? ' ' : '');\n    anchor.__vue_anchor = true;\n    return anchor;\n  }\n\n  /**\n   * Find a component ref attribute that starts with $.\n   *\n   * @param {Element} node\n   * @return {String|undefined}\n   */\n\n  var refRE = /^v-ref:/;\n\n  function findRef(node) {\n    if (node.hasAttributes()) {\n      var attrs = node.attributes;\n      for (var i = 0, l = attrs.length; i < l; i++) {\n        var name = attrs[i].name;\n        if (refRE.test(name)) {\n          return camelize(name.replace(refRE, ''));\n        }\n      }\n    }\n  }\n\n  /**\n   * Map a function to a range of nodes .\n   *\n   * @param {Node} node\n   * @param {Node} end\n   * @param {Function} op\n   */\n\n  function mapNodeRange(node, end, op) {\n    var next;\n    while (node !== end) {\n      next = node.nextSibling;\n      op(node);\n      node = next;\n    }\n    op(end);\n  }\n\n  /**\n   * Remove a range of nodes with transition, store\n   * the nodes in a fragment with correct ordering,\n   * and call callback when done.\n   *\n   * @param {Node} start\n   * @param {Node} end\n   * @param {Vue} vm\n   * @param {DocumentFragment} frag\n   * @param {Function} cb\n   */\n\n  function removeNodeRange(start, end, vm, frag, cb) {\n    var done = false;\n    var removed = 0;\n    var nodes = [];\n    mapNodeRange(start, end, function (node) {\n      if (node === end) done = true;\n      nodes.push(node);\n      removeWithTransition(node, vm, onRemoved);\n    });\n    function onRemoved() {\n      removed++;\n      if (done && removed >= nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          frag.appendChild(nodes[i]);\n        }\n        cb && cb();\n      }\n    }\n  }\n\n  var commonTagRE = /^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/;\n  var reservedTagRE = /^(slot|partial|component)$/;\n\n  /**\n   * Check if an element is a component, if yes return its\n   * component id.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Object|undefined}\n   */\n\n  function checkComponentAttr(el, options) {\n    var tag = el.tagName.toLowerCase();\n    var hasAttrs = el.hasAttributes();\n    if (!commonTagRE.test(tag) && !reservedTagRE.test(tag)) {\n      if (resolveAsset(options, 'components', tag)) {\n        return { id: tag };\n      } else {\n        var is = hasAttrs && getIsBinding(el);\n        if (is) {\n          return is;\n        } else if ('development' !== 'production') {\n          if (tag.indexOf('-') > -1 || /HTMLUnknownElement/.test(el.toString()) &&\n          // Chrome returns unknown for several HTML5 elements.\n          // https://code.google.com/p/chromium/issues/detail?id=540526\n          !/^(data|time|rtc|rb)$/.test(tag)) {\n            warn('Unknown custom element: <' + tag + '> - did you ' + 'register the component correctly?');\n          }\n        }\n      }\n    } else if (hasAttrs) {\n      return getIsBinding(el);\n    }\n  }\n\n  /**\n   * Get \"is\" binding from an element.\n   *\n   * @param {Element} el\n   * @return {Object|undefined}\n   */\n\n  function getIsBinding(el) {\n    // dynamic syntax\n    var exp = getAttr(el, 'is');\n    if (exp != null) {\n      return { id: exp };\n    } else {\n      exp = getBindAttr(el, 'is');\n      if (exp != null) {\n        return { id: exp, dynamic: true };\n      }\n    }\n  }\n\n  /**\n   * Set a prop's initial value on a vm and its data object.\n   *\n   * @param {Vue} vm\n   * @param {Object} prop\n   * @param {*} value\n   */\n\n  function initProp(vm, prop, value) {\n    var key = prop.path;\n    value = coerceProp(prop, value);\n    vm[key] = vm._data[key] = assertProp(prop, value) ? value : undefined;\n  }\n\n  /**\n   * Assert whether a prop is valid.\n   *\n   * @param {Object} prop\n   * @param {*} value\n   */\n\n  function assertProp(prop, value) {\n    // if a prop is not provided and is not required,\n    // skip the check.\n    if (prop.raw === null && !prop.required) {\n      return true;\n    }\n    var options = prop.options;\n    var type = options.type;\n    var valid = true;\n    var expectedType;\n    if (type) {\n      if (type === String) {\n        expectedType = 'string';\n        valid = typeof value === expectedType;\n      } else if (type === Number) {\n        expectedType = 'number';\n        valid = typeof value === 'number';\n      } else if (type === Boolean) {\n        expectedType = 'boolean';\n        valid = typeof value === 'boolean';\n      } else if (type === Function) {\n        expectedType = 'function';\n        valid = typeof value === 'function';\n      } else if (type === Object) {\n        expectedType = 'object';\n        valid = isPlainObject(value);\n      } else if (type === Array) {\n        expectedType = 'array';\n        valid = isArray(value);\n      } else {\n        valid = value instanceof type;\n      }\n    }\n    if (!valid) {\n      'development' !== 'production' && warn('Invalid prop: type check failed for ' + prop.path + '=\"' + prop.raw + '\".' + ' Expected ' + formatType(expectedType) + ', got ' + formatValue(value) + '.');\n      return false;\n    }\n    var validator = options.validator;\n    if (validator) {\n      if (!validator.call(null, value)) {\n        'development' !== 'production' && warn('Invalid prop: custom validator check failed for ' + prop.path + '=\"' + prop.raw + '\"');\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Force parsing value with coerce option.\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @return {*}\n   */\n\n  function coerceProp(prop, value) {\n    var coerce = prop.options.coerce;\n    if (!coerce) {\n      return value;\n    }\n    // coerce is a function\n    return coerce(value);\n  }\n\n  function formatType(val) {\n    return val ? val.charAt(0).toUpperCase() + val.slice(1) : 'custom type';\n  }\n\n  function formatValue(val) {\n    return Object.prototype.toString.call(val).slice(8, -1);\n  }\n\n  /**\n   * Option overwriting strategies are functions that handle\n   * how to merge a parent option value and a child option\n   * value into the final value.\n   *\n   * All strategy functions follow the same signature:\n   *\n   * @param {*} parentVal\n   * @param {*} childVal\n   * @param {Vue} [vm]\n   */\n\n  var strats = config.optionMergeStrategies = Object.create(null);\n\n  /**\n   * Helper that recursively merges two data objects together.\n   */\n\n  function mergeData(to, from) {\n    var key, toVal, fromVal;\n    for (key in from) {\n      toVal = to[key];\n      fromVal = from[key];\n      if (!hasOwn(to, key)) {\n        set(to, key, fromVal);\n      } else if (isObject(toVal) && isObject(fromVal)) {\n        mergeData(toVal, fromVal);\n      }\n    }\n    return to;\n  }\n\n  /**\n   * Data\n   */\n\n  strats.data = function (parentVal, childVal, vm) {\n    if (!vm) {\n      // in a Vue.extend merge, both should be functions\n      if (!childVal) {\n        return parentVal;\n      }\n      if (typeof childVal !== 'function') {\n        'development' !== 'production' && warn('The \"data\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n        return parentVal;\n      }\n      if (!parentVal) {\n        return childVal;\n      }\n      // when parentVal & childVal are both present,\n      // we need to return a function that returns the\n      // merged result of both functions... no need to\n      // check if parentVal is a function here because\n      // it has to be a function to pass previous merges.\n      return function mergedDataFn() {\n        return mergeData(childVal.call(this), parentVal.call(this));\n      };\n    } else if (parentVal || childVal) {\n      return function mergedInstanceDataFn() {\n        // instance merge\n        var instanceData = typeof childVal === 'function' ? childVal.call(vm) : childVal;\n        var defaultData = typeof parentVal === 'function' ? parentVal.call(vm) : undefined;\n        if (instanceData) {\n          return mergeData(instanceData, defaultData);\n        } else {\n          return defaultData;\n        }\n      };\n    }\n  };\n\n  /**\n   * El\n   */\n\n  strats.el = function (parentVal, childVal, vm) {\n    if (!vm && childVal && typeof childVal !== 'function') {\n      'development' !== 'production' && warn('The \"el\" option should be a function ' + 'that returns a per-instance value in component ' + 'definitions.');\n      return;\n    }\n    var ret = childVal || parentVal;\n    // invoke the element factory if this is instance merge\n    return vm && typeof ret === 'function' ? ret.call(vm) : ret;\n  };\n\n  /**\n   * Hooks and param attributes are merged as arrays.\n   */\n\n  strats.init = strats.created = strats.ready = strats.attached = strats.detached = strats.beforeCompile = strats.compiled = strats.beforeDestroy = strats.destroyed = function (parentVal, childVal) {\n    return childVal ? parentVal ? parentVal.concat(childVal) : isArray(childVal) ? childVal : [childVal] : parentVal;\n  };\n\n  /**\n   * 0.11 deprecation warning\n   */\n\n  strats.paramAttributes = function () {\n    /* istanbul ignore next */\n    'development' !== 'production' && warn('\"paramAttributes\" option has been deprecated in 0.12. ' + 'Use \"props\" instead.');\n  };\n\n  /**\n   * Assets\n   *\n   * When a vm is present (instance creation), we need to do\n   * a three-way merge between constructor options, instance\n   * options and parent options.\n   */\n\n  function mergeAssets(parentVal, childVal) {\n    var res = Object.create(parentVal);\n    return childVal ? extend(res, guardArrayAssets(childVal)) : res;\n  }\n\n  config._assetTypes.forEach(function (type) {\n    strats[type + 's'] = mergeAssets;\n  });\n\n  /**\n   * Events & Watchers.\n   *\n   * Events & watchers hashes should not overwrite one\n   * another, so we merge them as arrays.\n   */\n\n  strats.watch = strats.events = function (parentVal, childVal) {\n    if (!childVal) return parentVal;\n    if (!parentVal) return childVal;\n    var ret = {};\n    extend(ret, parentVal);\n    for (var key in childVal) {\n      var parent = ret[key];\n      var child = childVal[key];\n      if (parent && !isArray(parent)) {\n        parent = [parent];\n      }\n      ret[key] = parent ? parent.concat(child) : [child];\n    }\n    return ret;\n  };\n\n  /**\n   * Other object hashes.\n   */\n\n  strats.props = strats.methods = strats.computed = function (parentVal, childVal) {\n    if (!childVal) return parentVal;\n    if (!parentVal) return childVal;\n    var ret = Object.create(null);\n    extend(ret, parentVal);\n    extend(ret, childVal);\n    return ret;\n  };\n\n  /**\n   * Default strategy.\n   */\n\n  var defaultStrat = function defaultStrat(parentVal, childVal) {\n    return childVal === undefined ? parentVal : childVal;\n  };\n\n  /**\n   * Make sure component options get converted to actual\n   * constructors.\n   *\n   * @param {Object} options\n   */\n\n  function guardComponents(options) {\n    if (options.components) {\n      var components = options.components = guardArrayAssets(options.components);\n      var def;\n      var ids = Object.keys(components);\n      for (var i = 0, l = ids.length; i < l; i++) {\n        var key = ids[i];\n        if (commonTagRE.test(key) || reservedTagRE.test(key)) {\n          'development' !== 'production' && warn('Do not use built-in or reserved HTML elements as component ' + 'id: ' + key);\n          continue;\n        }\n        def = components[key];\n        if (isPlainObject(def)) {\n          components[key] = Vue.extend(def);\n        }\n      }\n    }\n  }\n\n  /**\n   * Ensure all props option syntax are normalized into the\n   * Object-based format.\n   *\n   * @param {Object} options\n   */\n\n  function guardProps(options) {\n    var props = options.props;\n    var i, val;\n    if (isArray(props)) {\n      options.props = {};\n      i = props.length;\n      while (i--) {\n        val = props[i];\n        if (typeof val === 'string') {\n          options.props[val] = null;\n        } else if (val.name) {\n          options.props[val.name] = val;\n        }\n      }\n    } else if (isPlainObject(props)) {\n      var keys = Object.keys(props);\n      i = keys.length;\n      while (i--) {\n        val = props[keys[i]];\n        if (typeof val === 'function') {\n          props[keys[i]] = { type: val };\n        }\n      }\n    }\n  }\n\n  /**\n   * Guard an Array-format assets option and converted it\n   * into the key-value Object format.\n   *\n   * @param {Object|Array} assets\n   * @return {Object}\n   */\n\n  function guardArrayAssets(assets) {\n    if (isArray(assets)) {\n      var res = {};\n      var i = assets.length;\n      var asset;\n      while (i--) {\n        asset = assets[i];\n        var id = typeof asset === 'function' ? asset.options && asset.options.name || asset.id : asset.name || asset.id;\n        if (!id) {\n          'development' !== 'production' && warn('Array-syntax assets must provide a \"name\" or \"id\" field.');\n        } else {\n          res[id] = asset;\n        }\n      }\n      return res;\n    }\n    return assets;\n  }\n\n  /**\n   * Merge two option objects into a new one.\n   * Core utility used in both instantiation and inheritance.\n   *\n   * @param {Object} parent\n   * @param {Object} child\n   * @param {Vue} [vm] - if vm is present, indicates this is\n   *                     an instantiation merge.\n   */\n\n  function mergeOptions(parent, child, vm) {\n    guardComponents(child);\n    guardProps(child);\n    var options = {};\n    var key;\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n    for (key in parent) {\n      mergeField(key);\n    }\n    for (key in child) {\n      if (!hasOwn(parent, key)) {\n        mergeField(key);\n      }\n    }\n    function mergeField(key) {\n      var strat = strats[key] || defaultStrat;\n      options[key] = strat(parent[key], child[key], vm, key);\n    }\n    return options;\n  }\n\n  /**\n   * Resolve an asset.\n   * This function is used because child instances need access\n   * to assets defined in its ancestor chain.\n   *\n   * @param {Object} options\n   * @param {String} type\n   * @param {String} id\n   * @return {Object|Function}\n   */\n\n  function resolveAsset(options, type, id) {\n    var assets = options[type];\n    var camelizedId;\n    return assets[id] ||\n    // camelCase ID\n    assets[camelizedId = camelize(id)] ||\n    // Pascal Case ID\n    assets[camelizedId.charAt(0).toUpperCase() + camelizedId.slice(1)];\n  }\n\n  /**\n   * Assert asset exists\n   */\n\n  function assertAsset(val, type, id) {\n    if (!val) {\n      'development' !== 'production' && warn('Failed to resolve ' + type + ': ' + id);\n    }\n  }\n\n  var arrayProto = Array.prototype;\n  var arrayMethods = Object.create(arrayProto)\n\n  /**\n   * Intercept mutating methods and emit events\n   */\n\n  ;['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'].forEach(function (method) {\n    // cache original method\n    var original = arrayProto[method];\n    def(arrayMethods, method, function mutator() {\n      // avoid leaking arguments:\n      // http://jsperf.com/closure-with-arguments\n      var i = arguments.length;\n      var args = new Array(i);\n      while (i--) {\n        args[i] = arguments[i];\n      }\n      var result = original.apply(this, args);\n      var ob = this.__ob__;\n      var inserted;\n      switch (method) {\n        case 'push':\n          inserted = args;\n          break;\n        case 'unshift':\n          inserted = args;\n          break;\n        case 'splice':\n          inserted = args.slice(2);\n          break;\n      }\n      if (inserted) ob.observeArray(inserted);\n      // notify change\n      ob.dep.notify();\n      return result;\n    });\n  });\n\n  /**\n   * Swap the element at the given index with a new value\n   * and emits corresponding event.\n   *\n   * @param {Number} index\n   * @param {*} val\n   * @return {*} - replaced element\n   */\n\n  def(arrayProto, '$set', function $set(index, val) {\n    if (index >= this.length) {\n      this.length = index + 1;\n    }\n    return this.splice(index, 1, val)[0];\n  });\n\n  /**\n   * Convenience method to remove the element at given index.\n   *\n   * @param {Number} index\n   * @param {*} val\n   */\n\n  def(arrayProto, '$remove', function $remove(item) {\n    /* istanbul ignore if */\n    if (!this.length) return;\n    var index = indexOf(this, item);\n    if (index > -1) {\n      return this.splice(index, 1);\n    }\n  });\n\n  var uid$3 = 0;\n\n  /**\n   * A dep is an observable that can have multiple\n   * directives subscribing to it.\n   *\n   * @constructor\n   */\n  function Dep() {\n    this.id = uid$3++;\n    this.subs = [];\n  }\n\n  // the current target watcher being evaluated.\n  // this is globally unique because there could be only one\n  // watcher being evaluated at any time.\n  Dep.target = null;\n\n  /**\n   * Add a directive subscriber.\n   *\n   * @param {Directive} sub\n   */\n\n  Dep.prototype.addSub = function (sub) {\n    this.subs.push(sub);\n  };\n\n  /**\n   * Remove a directive subscriber.\n   *\n   * @param {Directive} sub\n   */\n\n  Dep.prototype.removeSub = function (sub) {\n    this.subs.$remove(sub);\n  };\n\n  /**\n   * Add self as a dependency to the target watcher.\n   */\n\n  Dep.prototype.depend = function () {\n    Dep.target.addDep(this);\n  };\n\n  /**\n   * Notify all subscribers of a new value.\n   */\n\n  Dep.prototype.notify = function () {\n    // stablize the subscriber list first\n    var subs = toArray(this.subs);\n    for (var i = 0, l = subs.length; i < l; i++) {\n      subs[i].update();\n    }\n  };\n\n  var arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n  /**\n   * Observer class that are attached to each observed\n   * object. Once attached, the observer converts target\n   * object's property keys into getter/setters that\n   * collect dependencies and dispatches updates.\n   *\n   * @param {Array|Object} value\n   * @constructor\n   */\n\n  function Observer(value) {\n    this.value = value;\n    this.dep = new Dep();\n    def(value, '__ob__', this);\n    if (isArray(value)) {\n      var augment = hasProto ? protoAugment : copyAugment;\n      augment(value, arrayMethods, arrayKeys);\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  // Instance methods\n\n  /**\n   * Walk through each property and convert them into\n   * getter/setters. This method should only be called when\n   * value type is Object.\n   *\n   * @param {Object} obj\n   */\n\n  Observer.prototype.walk = function (obj) {\n    var keys = Object.keys(obj);\n    var i = keys.length;\n    while (i--) {\n      this.convert(keys[i], obj[keys[i]]);\n    }\n  };\n\n  /**\n   * Observe a list of Array items.\n   *\n   * @param {Array} items\n   */\n\n  Observer.prototype.observeArray = function (items) {\n    var i = items.length;\n    while (i--) {\n      observe(items[i]);\n    }\n  };\n\n  /**\n   * Convert a property into getter/setter so we can emit\n   * the events when the property is accessed/changed.\n   *\n   * @param {String} key\n   * @param {*} val\n   */\n\n  Observer.prototype.convert = function (key, val) {\n    defineReactive(this.value, key, val);\n  };\n\n  /**\n   * Add an owner vm, so that when $set/$delete mutations\n   * happen we can notify owner vms to proxy the keys and\n   * digest the watchers. This is only called when the object\n   * is observed as an instance's root $data.\n   *\n   * @param {Vue} vm\n   */\n\n  Observer.prototype.addVm = function (vm) {\n    (this.vms || (this.vms = [])).push(vm);\n  };\n\n  /**\n   * Remove an owner vm. This is called when the object is\n   * swapped out as an instance's $data object.\n   *\n   * @param {Vue} vm\n   */\n\n  Observer.prototype.removeVm = function (vm) {\n    this.vms.$remove(vm);\n  };\n\n  // helpers\n\n  /**\n   * Augment an target Object or Array by intercepting\n   * the prototype chain using __proto__\n   *\n   * @param {Object|Array} target\n   * @param {Object} proto\n   */\n\n  function protoAugment(target, src) {\n    target.__proto__ = src;\n  }\n\n  /**\n   * Augment an target Object or Array by defining\n   * hidden properties.\n   *\n   * @param {Object|Array} target\n   * @param {Object} proto\n   */\n\n  function copyAugment(target, src, keys) {\n    var i = keys.length;\n    var key;\n    while (i--) {\n      key = keys[i];\n      def(target, key, src[key]);\n    }\n  }\n\n  /**\n   * Attempt to create an observer instance for a value,\n   * returns the new observer if successfully observed,\n   * or the existing observer if the value already has one.\n   *\n   * @param {*} value\n   * @param {Vue} [vm]\n   * @return {Observer|undefined}\n   * @static\n   */\n\n  function observe(value, vm) {\n    if (!value || typeof value !== 'object') {\n      return;\n    }\n    var ob;\n    if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n      ob = value.__ob__;\n    } else if ((isArray(value) || isPlainObject(value)) && Object.isExtensible(value) && !value._isVue) {\n      ob = new Observer(value);\n    }\n    if (ob && vm) {\n      ob.addVm(vm);\n    }\n    return ob;\n  }\n\n  /**\n   * Define a reactive property on an Object.\n   *\n   * @param {Object} obj\n   * @param {String} key\n   * @param {*} val\n   */\n\n  function defineReactive(obj, key, val) {\n    var dep = new Dep();\n\n    // cater for pre-defined getter/setters\n    var getter, setter;\n    if (config.convertAllProperties) {\n      var property = Object.getOwnPropertyDescriptor(obj, key);\n      if (property && property.configurable === false) {\n        return;\n      }\n      getter = property && property.get;\n      setter = property && property.set;\n    }\n\n    var childOb = observe(val);\n    Object.defineProperty(obj, key, {\n      enumerable: true,\n      configurable: true,\n      get: function reactiveGetter() {\n        var value = getter ? getter.call(obj) : val;\n        if (Dep.target) {\n          dep.depend();\n          if (childOb) {\n            childOb.dep.depend();\n          }\n          if (isArray(value)) {\n            for (var e, i = 0, l = value.length; i < l; i++) {\n              e = value[i];\n              e && e.__ob__ && e.__ob__.dep.depend();\n            }\n          }\n        }\n        return value;\n      },\n      set: function reactiveSetter(newVal) {\n        var value = getter ? getter.call(obj) : val;\n        if (newVal === value) {\n          return;\n        }\n        if (setter) {\n          setter.call(obj, newVal);\n        } else {\n          val = newVal;\n        }\n        childOb = observe(newVal);\n        dep.notify();\n      }\n    });\n  }\n\n  var util = Object.freeze({\n    defineReactive: defineReactive,\n    set: set,\n    del: del,\n    hasOwn: hasOwn,\n    isLiteral: isLiteral,\n    isReserved: isReserved,\n    _toString: _toString,\n    toNumber: toNumber,\n    toBoolean: toBoolean,\n    stripQuotes: stripQuotes,\n    camelize: camelize,\n    hyphenate: hyphenate,\n    classify: classify,\n    bind: bind$1,\n    toArray: toArray,\n    extend: extend,\n    isObject: isObject,\n    isPlainObject: isPlainObject,\n    def: def,\n    debounce: _debounce,\n    indexOf: indexOf,\n    cancellable: cancellable,\n    looseEqual: looseEqual,\n    isArray: isArray,\n    hasProto: hasProto,\n    inBrowser: inBrowser,\n    isIE9: isIE9,\n    isAndroid: isAndroid,\n    get transitionProp () { return transitionProp; },\n    get transitionEndEvent () { return transitionEndEvent; },\n    get animationProp () { return animationProp; },\n    get animationEndEvent () { return animationEndEvent; },\n    nextTick: nextTick,\n    query: query,\n    inDoc: inDoc,\n    getAttr: getAttr,\n    getBindAttr: getBindAttr,\n    hasBindAttr: hasBindAttr,\n    before: before,\n    after: after,\n    remove: remove,\n    prepend: prepend,\n    replace: replace,\n    on: on$1,\n    off: off,\n    setClass: setClass,\n    addClass: addClass,\n    removeClass: removeClass,\n    extractContent: extractContent,\n    trimNode: trimNode,\n    isTemplate: isTemplate,\n    createAnchor: createAnchor,\n    findRef: findRef,\n    mapNodeRange: mapNodeRange,\n    removeNodeRange: removeNodeRange,\n    mergeOptions: mergeOptions,\n    resolveAsset: resolveAsset,\n    assertAsset: assertAsset,\n    checkComponentAttr: checkComponentAttr,\n    initProp: initProp,\n    assertProp: assertProp,\n    coerceProp: coerceProp,\n    commonTagRE: commonTagRE,\n    reservedTagRE: reservedTagRE,\n    get warn () { return warn; }\n  });\n\n  var uid = 0;\n\n  function initMixin (Vue) {\n\n    /**\n     * The main init sequence. This is called for every\n     * instance, including ones that are created from extended\n     * constructors.\n     *\n     * @param {Object} options - this options object should be\n     *                           the result of merging class\n     *                           options and the options passed\n     *                           in to the constructor.\n     */\n\n    Vue.prototype._init = function (options) {\n\n      options = options || {};\n\n      this.$el = null;\n      this.$parent = options.parent;\n      this.$root = this.$parent ? this.$parent.$root : this;\n      this.$children = [];\n      this.$refs = {}; // child vm references\n      this.$els = {}; // element references\n      this._watchers = []; // all watchers as an array\n      this._directives = []; // all directives\n\n      // a uid\n      this._uid = uid++;\n\n      // a flag to avoid this being observed\n      this._isVue = true;\n\n      // events bookkeeping\n      this._events = {}; // registered callbacks\n      this._eventsCount = {}; // for $broadcast optimization\n\n      // fragment instance properties\n      this._isFragment = false;\n      this._fragment = // @type {DocumentFragment}\n      this._fragmentStart = // @type {Text|Comment}\n      this._fragmentEnd = null; // @type {Text|Comment}\n\n      // lifecycle state\n      this._isCompiled = this._isDestroyed = this._isReady = this._isAttached = this._isBeingDestroyed = false;\n      this._unlinkFn = null;\n\n      // context:\n      // if this is a transcluded component, context\n      // will be the common parent vm of this instance\n      // and its host.\n      this._context = options._context || this.$parent;\n\n      // scope:\n      // if this is inside an inline v-for, the scope\n      // will be the intermediate scope created for this\n      // repeat fragment. this is used for linking props\n      // and container directives.\n      this._scope = options._scope;\n\n      // fragment:\n      // if this instance is compiled inside a Fragment, it\n      // needs to reigster itself as a child of that fragment\n      // for attach/detach to work properly.\n      this._frag = options._frag;\n      if (this._frag) {\n        this._frag.children.push(this);\n      }\n\n      // push self into parent / transclusion host\n      if (this.$parent) {\n        this.$parent.$children.push(this);\n      }\n\n      // merge options.\n      options = this.$options = mergeOptions(this.constructor.options, options, this);\n\n      // set ref\n      this._updateRef();\n\n      // initialize data as empty object.\n      // it will be filled up in _initScope().\n      this._data = {};\n\n      // call init hook\n      this._callHook('init');\n\n      // initialize data observation and scope inheritance.\n      this._initState();\n\n      // setup event system and option events.\n      this._initEvents();\n\n      // call created hook\n      this._callHook('created');\n\n      // if `el` option is passed, start compilation.\n      if (options.el) {\n        this.$mount(options.el);\n      }\n    };\n  }\n\n  var pathCache = new Cache(1000);\n\n  // actions\n  var APPEND = 0;\n  var PUSH = 1;\n  var INC_SUB_PATH_DEPTH = 2;\n  var PUSH_SUB_PATH = 3;\n\n  // states\n  var BEFORE_PATH = 0;\n  var IN_PATH = 1;\n  var BEFORE_IDENT = 2;\n  var IN_IDENT = 3;\n  var IN_SUB_PATH = 4;\n  var IN_SINGLE_QUOTE = 5;\n  var IN_DOUBLE_QUOTE = 6;\n  var AFTER_PATH = 7;\n  var ERROR = 8;\n\n  var pathStateMachine = [];\n\n  pathStateMachine[BEFORE_PATH] = {\n    'ws': [BEFORE_PATH],\n    'ident': [IN_IDENT, APPEND],\n    '[': [IN_SUB_PATH],\n    'eof': [AFTER_PATH]\n  };\n\n  pathStateMachine[IN_PATH] = {\n    'ws': [IN_PATH],\n    '.': [BEFORE_IDENT],\n    '[': [IN_SUB_PATH],\n    'eof': [AFTER_PATH]\n  };\n\n  pathStateMachine[BEFORE_IDENT] = {\n    'ws': [BEFORE_IDENT],\n    'ident': [IN_IDENT, APPEND]\n  };\n\n  pathStateMachine[IN_IDENT] = {\n    'ident': [IN_IDENT, APPEND],\n    '0': [IN_IDENT, APPEND],\n    'number': [IN_IDENT, APPEND],\n    'ws': [IN_PATH, PUSH],\n    '.': [BEFORE_IDENT, PUSH],\n    '[': [IN_SUB_PATH, PUSH],\n    'eof': [AFTER_PATH, PUSH]\n  };\n\n  pathStateMachine[IN_SUB_PATH] = {\n    \"'\": [IN_SINGLE_QUOTE, APPEND],\n    '\"': [IN_DOUBLE_QUOTE, APPEND],\n    '[': [IN_SUB_PATH, INC_SUB_PATH_DEPTH],\n    ']': [IN_PATH, PUSH_SUB_PATH],\n    'eof': ERROR,\n    'else': [IN_SUB_PATH, APPEND]\n  };\n\n  pathStateMachine[IN_SINGLE_QUOTE] = {\n    \"'\": [IN_SUB_PATH, APPEND],\n    'eof': ERROR,\n    'else': [IN_SINGLE_QUOTE, APPEND]\n  };\n\n  pathStateMachine[IN_DOUBLE_QUOTE] = {\n    '\"': [IN_SUB_PATH, APPEND],\n    'eof': ERROR,\n    'else': [IN_DOUBLE_QUOTE, APPEND]\n  };\n\n  /**\n   * Determine the type of a character in a keypath.\n   *\n   * @param {Char} ch\n   * @return {String} type\n   */\n\n  function getPathCharType(ch) {\n    if (ch === undefined) {\n      return 'eof';\n    }\n\n    var code = ch.charCodeAt(0);\n\n    switch (code) {\n      case 0x5B: // [\n      case 0x5D: // ]\n      case 0x2E: // .\n      case 0x22: // \"\n      case 0x27: // '\n      case 0x30:\n        // 0\n        return ch;\n\n      case 0x5F: // _\n      case 0x24:\n        // $\n        return 'ident';\n\n      case 0x20: // Space\n      case 0x09: // Tab\n      case 0x0A: // Newline\n      case 0x0D: // Return\n      case 0xA0: // No-break space\n      case 0xFEFF: // Byte Order Mark\n      case 0x2028: // Line Separator\n      case 0x2029:\n        // Paragraph Separator\n        return 'ws';\n    }\n\n    // a-z, A-Z\n    if (code >= 0x61 && code <= 0x7A || code >= 0x41 && code <= 0x5A) {\n      return 'ident';\n    }\n\n    // 1-9\n    if (code >= 0x31 && code <= 0x39) {\n      return 'number';\n    }\n\n    return 'else';\n  }\n\n  /**\n   * Format a subPath, return its plain form if it is\n   * a literal string or number. Otherwise prepend the\n   * dynamic indicator (*).\n   *\n   * @param {String} path\n   * @return {String}\n   */\n\n  function formatSubPath(path) {\n    var trimmed = path.trim();\n    // invalid leading 0\n    if (path.charAt(0) === '0' && isNaN(path)) {\n      return false;\n    }\n    return isLiteral(trimmed) ? stripQuotes(trimmed) : '*' + trimmed;\n  }\n\n  /**\n   * Parse a string path into an array of segments\n   *\n   * @param {String} path\n   * @return {Array|undefined}\n   */\n\n  function parse(path) {\n    var keys = [];\n    var index = -1;\n    var mode = BEFORE_PATH;\n    var subPathDepth = 0;\n    var c, newChar, key, type, transition, action, typeMap;\n\n    var actions = [];\n\n    actions[PUSH] = function () {\n      if (key !== undefined) {\n        keys.push(key);\n        key = undefined;\n      }\n    };\n\n    actions[APPEND] = function () {\n      if (key === undefined) {\n        key = newChar;\n      } else {\n        key += newChar;\n      }\n    };\n\n    actions[INC_SUB_PATH_DEPTH] = function () {\n      actions[APPEND]();\n      subPathDepth++;\n    };\n\n    actions[PUSH_SUB_PATH] = function () {\n      if (subPathDepth > 0) {\n        subPathDepth--;\n        mode = IN_SUB_PATH;\n        actions[APPEND]();\n      } else {\n        subPathDepth = 0;\n        key = formatSubPath(key);\n        if (key === false) {\n          return false;\n        } else {\n          actions[PUSH]();\n        }\n      }\n    };\n\n    function maybeUnescapeQuote() {\n      var nextChar = path[index + 1];\n      if (mode === IN_SINGLE_QUOTE && nextChar === \"'\" || mode === IN_DOUBLE_QUOTE && nextChar === '\"') {\n        index++;\n        newChar = '\\\\' + nextChar;\n        actions[APPEND]();\n        return true;\n      }\n    }\n\n    while (mode != null) {\n      index++;\n      c = path[index];\n\n      if (c === '\\\\' && maybeUnescapeQuote()) {\n        continue;\n      }\n\n      type = getPathCharType(c);\n      typeMap = pathStateMachine[mode];\n      transition = typeMap[type] || typeMap['else'] || ERROR;\n\n      if (transition === ERROR) {\n        return; // parse error\n      }\n\n      mode = transition[0];\n      action = actions[transition[1]];\n      if (action) {\n        newChar = transition[2];\n        newChar = newChar === undefined ? c : newChar;\n        if (action() === false) {\n          return;\n        }\n      }\n\n      if (mode === AFTER_PATH) {\n        keys.raw = path;\n        return keys;\n      }\n    }\n  }\n\n  /**\n   * External parse that check for a cache hit first\n   *\n   * @param {String} path\n   * @return {Array|undefined}\n   */\n\n  function parsePath(path) {\n    var hit = pathCache.get(path);\n    if (!hit) {\n      hit = parse(path);\n      if (hit) {\n        pathCache.put(path, hit);\n      }\n    }\n    return hit;\n  }\n\n  /**\n   * Get from an object from a path string\n   *\n   * @param {Object} obj\n   * @param {String} path\n   */\n\n  function getPath(obj, path) {\n    return parseExpression(path).get(obj);\n  }\n\n  /**\n   * Warn against setting non-existent root path on a vm.\n   */\n\n  var warnNonExistent;\n  if ('development' !== 'production') {\n    warnNonExistent = function (path) {\n      warn('You are setting a non-existent path \"' + path.raw + '\" ' + 'on a vm instance. Consider pre-initializing the property ' + 'with the \"data\" option for more reliable reactivity ' + 'and better performance.');\n    };\n  }\n\n  /**\n   * Set on an object from a path\n   *\n   * @param {Object} obj\n   * @param {String | Array} path\n   * @param {*} val\n   */\n\n  function setPath(obj, path, val) {\n    var original = obj;\n    if (typeof path === 'string') {\n      path = parse(path);\n    }\n    if (!path || !isObject(obj)) {\n      return false;\n    }\n    var last, key;\n    for (var i = 0, l = path.length; i < l; i++) {\n      last = obj;\n      key = path[i];\n      if (key.charAt(0) === '*') {\n        key = parseExpression(key.slice(1)).get.call(original, original);\n      }\n      if (i < l - 1) {\n        obj = obj[key];\n        if (!isObject(obj)) {\n          obj = {};\n          if ('development' !== 'production' && last._isVue) {\n            warnNonExistent(path);\n          }\n          set(last, key, obj);\n        }\n      } else {\n        if (isArray(obj)) {\n          obj.$set(key, val);\n        } else if (key in obj) {\n          obj[key] = val;\n        } else {\n          if ('development' !== 'production' && obj._isVue) {\n            warnNonExistent(path);\n          }\n          set(obj, key, val);\n        }\n      }\n    }\n    return true;\n  }\n\n  var path = Object.freeze({\n    parsePath: parsePath,\n    getPath: getPath,\n    setPath: setPath\n  });\n\n  var expressionCache = new Cache(1000);\n\n  var allowedKeywords = 'Math,Date,this,true,false,null,undefined,Infinity,NaN,' + 'isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,' + 'encodeURIComponent,parseInt,parseFloat';\n  var allowedKeywordsRE = new RegExp('^(' + allowedKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\n  // keywords that don't make sense inside expressions\n  var improperKeywords = 'break,case,class,catch,const,continue,debugger,default,' + 'delete,do,else,export,extends,finally,for,function,if,' + 'import,in,instanceof,let,return,super,switch,throw,try,' + 'var,while,with,yield,enum,await,implements,package,' + 'proctected,static,interface,private,public';\n  var improperKeywordsRE = new RegExp('^(' + improperKeywords.replace(/,/g, '\\\\b|') + '\\\\b)');\n\n  var wsRE = /\\s/g;\n  var newlineRE = /\\n/g;\n  var saveRE = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\")|new |typeof |void /g;\n  var restoreRE = /\"(\\d+)\"/g;\n  var pathTestRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/;\n  var identRE = /[^\\w$\\.](?:[A-Za-z_$][\\w$]*)/g;\n  var booleanLiteralRE = /^(?:true|false)$/;\n\n  /**\n   * Save / Rewrite / Restore\n   *\n   * When rewriting paths found in an expression, it is\n   * possible for the same letter sequences to be found in\n   * strings and Object literal property keys. Therefore we\n   * remove and store these parts in a temporary array, and\n   * restore them after the path rewrite.\n   */\n\n  var saved = [];\n\n  /**\n   * Save replacer\n   *\n   * The save regex can match two possible cases:\n   * 1. An opening object literal\n   * 2. A string\n   * If matched as a plain string, we need to escape its\n   * newlines, since the string needs to be preserved when\n   * generating the function body.\n   *\n   * @param {String} str\n   * @param {String} isString - str if matched as a string\n   * @return {String} - placeholder with index\n   */\n\n  function save(str, isString) {\n    var i = saved.length;\n    saved[i] = isString ? str.replace(newlineRE, '\\\\n') : str;\n    return '\"' + i + '\"';\n  }\n\n  /**\n   * Path rewrite replacer\n   *\n   * @param {String} raw\n   * @return {String}\n   */\n\n  function rewrite(raw) {\n    var c = raw.charAt(0);\n    var path = raw.slice(1);\n    if (allowedKeywordsRE.test(path)) {\n      return raw;\n    } else {\n      path = path.indexOf('\"') > -1 ? path.replace(restoreRE, restore) : path;\n      return c + 'scope.' + path;\n    }\n  }\n\n  /**\n   * Restore replacer\n   *\n   * @param {String} str\n   * @param {String} i - matched save index\n   * @return {String}\n   */\n\n  function restore(str, i) {\n    return saved[i];\n  }\n\n  /**\n   * Rewrite an expression, prefixing all path accessors with\n   * `scope.` and generate getter/setter functions.\n   *\n   * @param {String} exp\n   * @return {Function}\n   */\n\n  function compileGetter(exp) {\n    if (improperKeywordsRE.test(exp)) {\n      'development' !== 'production' && warn('Avoid using reserved keywords in expression: ' + exp);\n    }\n    // reset state\n    saved.length = 0;\n    // save strings and object literal keys\n    var body = exp.replace(saveRE, save).replace(wsRE, '');\n    // rewrite all paths\n    // pad 1 space here becaue the regex matches 1 extra char\n    body = (' ' + body).replace(identRE, rewrite).replace(restoreRE, restore);\n    return makeGetterFn(body);\n  }\n\n  /**\n   * Build a getter function. Requires eval.\n   *\n   * We isolate the try/catch so it doesn't affect the\n   * optimization of the parse function when it is not called.\n   *\n   * @param {String} body\n   * @return {Function|undefined}\n   */\n\n  function makeGetterFn(body) {\n    try {\n      return new Function('scope', 'return ' + body + ';');\n    } catch (e) {\n      'development' !== 'production' && warn('Invalid expression. ' + 'Generated function body: ' + body);\n    }\n  }\n\n  /**\n   * Compile a setter function for the expression.\n   *\n   * @param {String} exp\n   * @return {Function|undefined}\n   */\n\n  function compileSetter(exp) {\n    var path = parsePath(exp);\n    if (path) {\n      return function (scope, val) {\n        setPath(scope, path, val);\n      };\n    } else {\n      'development' !== 'production' && warn('Invalid setter expression: ' + exp);\n    }\n  }\n\n  /**\n   * Parse an expression into re-written getter/setters.\n   *\n   * @param {String} exp\n   * @param {Boolean} needSet\n   * @return {Function}\n   */\n\n  function parseExpression(exp, needSet) {\n    exp = exp.trim();\n    // try cache\n    var hit = expressionCache.get(exp);\n    if (hit) {\n      if (needSet && !hit.set) {\n        hit.set = compileSetter(hit.exp);\n      }\n      return hit;\n    }\n    var res = { exp: exp };\n    res.get = isSimplePath(exp) && exp.indexOf('[') < 0\n    // optimized super simple getter\n    ? makeGetterFn('scope.' + exp)\n    // dynamic getter\n    : compileGetter(exp);\n    if (needSet) {\n      res.set = compileSetter(exp);\n    }\n    expressionCache.put(exp, res);\n    return res;\n  }\n\n  /**\n   * Check if an expression is a simple path.\n   *\n   * @param {String} exp\n   * @return {Boolean}\n   */\n\n  function isSimplePath(exp) {\n    return pathTestRE.test(exp) &&\n    // don't treat true/false as paths\n    !booleanLiteralRE.test(exp) &&\n    // Math constants e.g. Math.PI, Math.E etc.\n    exp.slice(0, 5) !== 'Math.';\n  }\n\n  var expression = Object.freeze({\n    parseExpression: parseExpression,\n    isSimplePath: isSimplePath\n  });\n\n  // we have two separate queues: one for directive updates\n  // and one for user watcher registered via $watch().\n  // we want to guarantee directive updates to be called\n  // before user watchers so that when user watchers are\n  // triggered, the DOM would have already been in updated\n  // state.\n  var queue = [];\n  var userQueue = [];\n  var has = {};\n  var circular = {};\n  var waiting = false;\n  var internalQueueDepleted = false;\n\n  /**\n   * Reset the batcher's state.\n   */\n\n  function resetBatcherState() {\n    queue = [];\n    userQueue = [];\n    has = {};\n    circular = {};\n    waiting = internalQueueDepleted = false;\n  }\n\n  /**\n   * Flush both queues and run the watchers.\n   */\n\n  function flushBatcherQueue() {\n    runBatcherQueue(queue);\n    internalQueueDepleted = true;\n    runBatcherQueue(userQueue);\n    // dev tool hook\n    /* istanbul ignore if */\n    if ('development' !== 'production') {\n      if (inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n        window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('flush');\n      }\n    }\n    resetBatcherState();\n  }\n\n  /**\n   * Run the watchers in a single queue.\n   *\n   * @param {Array} queue\n   */\n\n  function runBatcherQueue(queue) {\n    // do not cache length because more watchers might be pushed\n    // as we run existing watchers\n    for (var i = 0; i < queue.length; i++) {\n      var watcher = queue[i];\n      var id = watcher.id;\n      has[id] = null;\n      watcher.run();\n      // in dev build, check and stop circular updates.\n      if ('development' !== 'production' && has[id] != null) {\n        circular[id] = (circular[id] || 0) + 1;\n        if (circular[id] > config._maxUpdateCount) {\n          queue.splice(has[id], 1);\n          warn('You may have an infinite update loop for watcher ' + 'with expression: ' + watcher.expression);\n        }\n      }\n    }\n  }\n\n  /**\n   * Push a watcher into the watcher queue.\n   * Jobs with duplicate IDs will be skipped unless it's\n   * pushed when the queue is being flushed.\n   *\n   * @param {Watcher} watcher\n   *   properties:\n   *   - {Number} id\n   *   - {Function} run\n   */\n\n  function pushWatcher(watcher) {\n    var id = watcher.id;\n    if (has[id] == null) {\n      // if an internal watcher is pushed, but the internal\n      // queue is already depleted, we run it immediately.\n      if (internalQueueDepleted && !watcher.user) {\n        watcher.run();\n        return;\n      }\n      // push watcher into appropriate queue\n      var q = watcher.user ? userQueue : queue;\n      has[id] = q.length;\n      q.push(watcher);\n      // queue the flush\n      if (!waiting) {\n        waiting = true;\n        nextTick(flushBatcherQueue);\n      }\n    }\n  }\n\n  var uid$2 = 0;\n\n  /**\n   * A watcher parses an expression, collects dependencies,\n   * and fires callback when the expression value changes.\n   * This is used for both the $watch() api and directives.\n   *\n   * @param {Vue} vm\n   * @param {String} expression\n   * @param {Function} cb\n   * @param {Object} options\n   *                 - {Array} filters\n   *                 - {Boolean} twoWay\n   *                 - {Boolean} deep\n   *                 - {Boolean} user\n   *                 - {Boolean} sync\n   *                 - {Boolean} lazy\n   *                 - {Function} [preProcess]\n   *                 - {Function} [postProcess]\n   * @constructor\n   */\n  function Watcher(vm, expOrFn, cb, options) {\n    // mix in options\n    if (options) {\n      extend(this, options);\n    }\n    var isFn = typeof expOrFn === 'function';\n    this.vm = vm;\n    vm._watchers.push(this);\n    this.expression = isFn ? expOrFn.toString() : expOrFn;\n    this.cb = cb;\n    this.id = ++uid$2; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = Object.create(null);\n    this.newDeps = null;\n    this.prevError = null; // for async error stacks\n    // parse expression for getter/setter\n    if (isFn) {\n      this.getter = expOrFn;\n      this.setter = undefined;\n    } else {\n      var res = parseExpression(expOrFn, this.twoWay);\n      this.getter = res.get;\n      this.setter = res.set;\n    }\n    this.value = this.lazy ? undefined : this.get();\n    // state for avoiding false triggers for deep and Array\n    // watchers during vm._digest()\n    this.queued = this.shallow = false;\n  }\n\n  /**\n   * Add a dependency to this directive.\n   *\n   * @param {Dep} dep\n   */\n\n  Watcher.prototype.addDep = function (dep) {\n    var id = dep.id;\n    if (!this.newDeps[id]) {\n      this.newDeps[id] = dep;\n      if (!this.deps[id]) {\n        this.deps[id] = dep;\n        dep.addSub(this);\n      }\n    }\n  };\n\n  /**\n   * Evaluate the getter, and re-collect dependencies.\n   */\n\n  Watcher.prototype.get = function () {\n    this.beforeGet();\n    var scope = this.scope || this.vm;\n    var value;\n    try {\n      value = this.getter.call(scope, scope);\n    } catch (e) {\n      if ('development' !== 'production' && config.warnExpressionErrors) {\n        warn('Error when evaluating expression \"' + this.expression + '\". ' + (config.debug ? '' : 'Turn on debug mode to see stack trace.'), e);\n      }\n    }\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    if (this.preProcess) {\n      value = this.preProcess(value);\n    }\n    if (this.filters) {\n      value = scope._applyFilters(value, null, this.filters, false);\n    }\n    if (this.postProcess) {\n      value = this.postProcess(value);\n    }\n    this.afterGet();\n    return value;\n  };\n\n  /**\n   * Set the corresponding value with the setter.\n   *\n   * @param {*} value\n   */\n\n  Watcher.prototype.set = function (value) {\n    var scope = this.scope || this.vm;\n    if (this.filters) {\n      value = scope._applyFilters(value, this.value, this.filters, true);\n    }\n    try {\n      this.setter.call(scope, scope, value);\n    } catch (e) {\n      if ('development' !== 'production' && config.warnExpressionErrors) {\n        warn('Error when evaluating setter \"' + this.expression + '\"', e);\n      }\n    }\n    // two-way sync for v-for alias\n    var forContext = scope.$forContext;\n    if (forContext && forContext.alias === this.expression) {\n      if (forContext.filters) {\n        'development' !== 'production' && warn('It seems you are using two-way binding on ' + 'a v-for alias (' + this.expression + '), and the ' + 'v-for has filters. This will not work properly. ' + 'Either remove the filters or use an array of ' + 'objects and bind to object properties instead.');\n        return;\n      }\n      forContext._withLock(function () {\n        if (scope.$key) {\n          // original is an object\n          forContext.rawValue[scope.$key] = value;\n        } else {\n          forContext.rawValue.$set(scope.$index, value);\n        }\n      });\n    }\n  };\n\n  /**\n   * Prepare for dependency collection.\n   */\n\n  Watcher.prototype.beforeGet = function () {\n    Dep.target = this;\n    this.newDeps = Object.create(null);\n  };\n\n  /**\n   * Clean up for dependency collection.\n   */\n\n  Watcher.prototype.afterGet = function () {\n    Dep.target = null;\n    var ids = Object.keys(this.deps);\n    var i = ids.length;\n    while (i--) {\n      var id = ids[i];\n      if (!this.newDeps[id]) {\n        this.deps[id].removeSub(this);\n      }\n    }\n    this.deps = this.newDeps;\n  };\n\n  /**\n   * Subscriber interface.\n   * Will be called when a dependency changes.\n   *\n   * @param {Boolean} shallow\n   */\n\n  Watcher.prototype.update = function (shallow) {\n    if (this.lazy) {\n      this.dirty = true;\n    } else if (this.sync || !config.async) {\n      this.run();\n    } else {\n      // if queued, only overwrite shallow with non-shallow,\n      // but not the other way around.\n      this.shallow = this.queued ? shallow ? this.shallow : false : !!shallow;\n      this.queued = true;\n      // record before-push error stack in debug mode\n      /* istanbul ignore if */\n      if ('development' !== 'production' && config.debug) {\n        this.prevError = new Error('[vue] async stack trace');\n      }\n      pushWatcher(this);\n    }\n  };\n\n  /**\n   * Batcher job interface.\n   * Will be called by the batcher.\n   */\n\n  Watcher.prototype.run = function () {\n    if (this.active) {\n      var value = this.get();\n      if (value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated; but only do so if this is a\n      // non-shallow update (caused by a vm digest).\n      (isObject(value) || this.deep) && !this.shallow) {\n        // set new value\n        var oldValue = this.value;\n        this.value = value;\n        // in debug + async mode, when a watcher callbacks\n        // throws, we also throw the saved before-push error\n        // so the full cross-tick stack trace is available.\n        var prevError = this.prevError;\n        /* istanbul ignore if */\n        if ('development' !== 'production' && config.debug && prevError) {\n          this.prevError = null;\n          try {\n            this.cb.call(this.vm, value, oldValue);\n          } catch (e) {\n            nextTick(function () {\n              throw prevError;\n            }, 0);\n            throw e;\n          }\n        } else {\n          this.cb.call(this.vm, value, oldValue);\n        }\n      }\n      this.queued = this.shallow = false;\n    }\n  };\n\n  /**\n   * Evaluate the value of the watcher.\n   * This only gets called for lazy watchers.\n   */\n\n  Watcher.prototype.evaluate = function () {\n    // avoid overwriting another watcher that is being\n    // collected.\n    var current = Dep.target;\n    this.value = this.get();\n    this.dirty = false;\n    Dep.target = current;\n  };\n\n  /**\n   * Depend on all deps collected by this watcher.\n   */\n\n  Watcher.prototype.depend = function () {\n    var depIds = Object.keys(this.deps);\n    var i = depIds.length;\n    while (i--) {\n      this.deps[depIds[i]].depend();\n    }\n  };\n\n  /**\n   * Remove self from all dependencies' subcriber list.\n   */\n\n  Watcher.prototype.teardown = function () {\n    if (this.active) {\n      // remove self from vm's watcher list\n      // we can skip this if the vm if being destroyed\n      // which can improve teardown performance.\n      if (!this.vm._isBeingDestroyed) {\n        this.vm._watchers.$remove(this);\n      }\n      var depIds = Object.keys(this.deps);\n      var i = depIds.length;\n      while (i--) {\n        this.deps[depIds[i]].removeSub(this);\n      }\n      this.active = false;\n      this.vm = this.cb = this.value = null;\n    }\n  };\n\n  /**\n   * Recrusively traverse an object to evoke all converted\n   * getters, so that every nested property inside the object\n   * is collected as a \"deep\" dependency.\n   *\n   * @param {*} val\n   */\n\n  function traverse(val) {\n    var i, keys;\n    if (isArray(val)) {\n      i = val.length;\n      while (i--) traverse(val[i]);\n    } else if (isObject(val)) {\n      keys = Object.keys(val);\n      i = keys.length;\n      while (i--) traverse(val[keys[i]]);\n    }\n  }\n\n  var cloak = {\n    bind: function bind() {\n      var el = this.el;\n      this.vm.$once('hook:compiled', function () {\n        el.removeAttribute('v-cloak');\n      });\n    }\n  };\n\n  var ref = {\n    bind: function bind() {\n      'development' !== 'production' && warn('v-ref:' + this.arg + ' must be used on a child ' + 'component. Found on <' + this.el.tagName.toLowerCase() + '>.');\n    }\n  };\n\n  var el = {\n\n    priority: 1500,\n\n    bind: function bind() {\n      /* istanbul ignore if */\n      if (!this.arg) {\n        return;\n      }\n      var id = this.id = camelize(this.arg);\n      var refs = (this._scope || this.vm).$els;\n      if (hasOwn(refs, id)) {\n        refs[id] = this.el;\n      } else {\n        defineReactive(refs, id, this.el);\n      }\n    },\n\n    unbind: function unbind() {\n      var refs = (this._scope || this.vm).$els;\n      if (refs[this.id] === this.el) {\n        refs[this.id] = null;\n      }\n    }\n  };\n\n  var prefixes = ['-webkit-', '-moz-', '-ms-'];\n  var camelPrefixes = ['Webkit', 'Moz', 'ms'];\n  var importantRE = /!important;?$/;\n  var propCache = Object.create(null);\n\n  var testEl = null;\n\n  var style = {\n\n    deep: true,\n\n    update: function update(value) {\n      if (typeof value === 'string') {\n        this.el.style.cssText = value;\n      } else if (isArray(value)) {\n        this.handleObject(value.reduce(extend, {}));\n      } else {\n        this.handleObject(value || {});\n      }\n    },\n\n    handleObject: function handleObject(value) {\n      // cache object styles so that only changed props\n      // are actually updated.\n      var cache = this.cache || (this.cache = {});\n      var name, val;\n      for (name in cache) {\n        if (!(name in value)) {\n          this.handleSingle(name, null);\n          delete cache[name];\n        }\n      }\n      for (name in value) {\n        val = value[name];\n        if (val !== cache[name]) {\n          cache[name] = val;\n          this.handleSingle(name, val);\n        }\n      }\n    },\n\n    handleSingle: function handleSingle(prop, value) {\n      prop = normalize(prop);\n      if (!prop) return; // unsupported prop\n      // cast possible numbers/booleans into strings\n      if (value != null) value += '';\n      if (value) {\n        var isImportant = importantRE.test(value) ? 'important' : '';\n        if (isImportant) {\n          value = value.replace(importantRE, '').trim();\n        }\n        this.el.style.setProperty(prop, value, isImportant);\n      } else {\n        this.el.style.removeProperty(prop);\n      }\n    }\n\n  };\n\n  /**\n   * Normalize a CSS property name.\n   * - cache result\n   * - auto prefix\n   * - camelCase -> dash-case\n   *\n   * @param {String} prop\n   * @return {String}\n   */\n\n  function normalize(prop) {\n    if (propCache[prop]) {\n      return propCache[prop];\n    }\n    var res = prefix(prop);\n    propCache[prop] = propCache[res] = res;\n    return res;\n  }\n\n  /**\n   * Auto detect the appropriate prefix for a CSS property.\n   * https://gist.github.com/paulirish/523692\n   *\n   * @param {String} prop\n   * @return {String}\n   */\n\n  function prefix(prop) {\n    prop = hyphenate(prop);\n    var camel = camelize(prop);\n    var upper = camel.charAt(0).toUpperCase() + camel.slice(1);\n    if (!testEl) {\n      testEl = document.createElement('div');\n    }\n    if (camel in testEl.style) {\n      return prop;\n    }\n    var i = prefixes.length;\n    var prefixed;\n    while (i--) {\n      prefixed = camelPrefixes[i] + upper;\n      if (prefixed in testEl.style) {\n        return prefixes[i] + prop;\n      }\n    }\n  }\n\n  // xlink\n  var xlinkNS = 'http://www.w3.org/1999/xlink';\n  var xlinkRE = /^xlink:/;\n\n  // check for attributes that prohibit interpolations\n  var disallowedInterpAttrRE = /^v-|^:|^@|^(is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/;\n\n  // these attributes should also set their corresponding properties\n  // because they only affect the initial state of the element\n  var attrWithPropsRE = /^(value|checked|selected|muted)$/;\n\n  // these attributes should set a hidden property for\n  // binding v-model to object values\n  var modelProps = {\n    value: '_value',\n    'true-value': '_trueValue',\n    'false-value': '_falseValue'\n  };\n\n  var bind = {\n\n    priority: 850,\n\n    bind: function bind() {\n      var attr = this.arg;\n      var tag = this.el.tagName;\n      // should be deep watch on object mode\n      if (!attr) {\n        this.deep = true;\n      }\n      // handle interpolation bindings\n      if (this.descriptor.interp) {\n        // only allow binding on native attributes\n        if (disallowedInterpAttrRE.test(attr) || attr === 'name' && (tag === 'PARTIAL' || tag === 'SLOT')) {\n          'development' !== 'production' && warn(attr + '=\"' + this.descriptor.raw + '\": ' + 'attribute interpolation is not allowed in Vue.js ' + 'directives and special attributes.');\n          this.el.removeAttribute(attr);\n          this.invalid = true;\n        }\n\n        /* istanbul ignore if */\n        if ('development' !== 'production') {\n          var raw = attr + '=\"' + this.descriptor.raw + '\": ';\n          // warn src\n          if (attr === 'src') {\n            warn(raw + 'interpolation in \"src\" attribute will cause ' + 'a 404 request. Use v-bind:src instead.');\n          }\n\n          // warn style\n          if (attr === 'style') {\n            warn(raw + 'interpolation in \"style\" attribute will cause ' + 'the attribute to be discarded in Internet Explorer. ' + 'Use v-bind:style instead.');\n          }\n        }\n      }\n    },\n\n    update: function update(value) {\n      if (this.invalid) {\n        return;\n      }\n      var attr = this.arg;\n      if (this.arg) {\n        this.handleSingle(attr, value);\n      } else {\n        this.handleObject(value || {});\n      }\n    },\n\n    // share object handler with v-bind:class\n    handleObject: style.handleObject,\n\n    handleSingle: function handleSingle(attr, value) {\n      if (!this.descriptor.interp && attrWithPropsRE.test(attr) && attr in this.el) {\n        this.el[attr] = attr === 'value' ? value == null // IE9 will set input.value to \"null\" for null...\n        ? '' : value : value;\n      }\n      // set model props\n      var modelProp = modelProps[attr];\n      if (modelProp) {\n        this.el[modelProp] = value;\n        // update v-model if present\n        var model = this.el.__v_model;\n        if (model) {\n          model.listener();\n        }\n      }\n      // do not set value attribute for textarea\n      if (attr === 'value' && this.el.tagName === 'TEXTAREA') {\n        this.el.removeAttribute(attr);\n        return;\n      }\n      // update attribute\n      if (value != null && value !== false) {\n        if (xlinkRE.test(attr)) {\n          this.el.setAttributeNS(xlinkNS, attr, value);\n        } else {\n          this.el.setAttribute(attr, value);\n        }\n      } else {\n        this.el.removeAttribute(attr);\n      }\n    }\n  };\n\n  // keyCode aliases\n  var keyCodes = {\n    esc: 27,\n    tab: 9,\n    enter: 13,\n    space: 32,\n    'delete': 46,\n    up: 38,\n    left: 37,\n    right: 39,\n    down: 40\n  };\n\n  function keyFilter(handler, keys) {\n    var codes = keys.map(function (key) {\n      var charCode = key.charCodeAt(0);\n      if (charCode > 47 && charCode < 58) {\n        return parseInt(key, 10);\n      }\n      if (key.length === 1) {\n        charCode = key.toUpperCase().charCodeAt(0);\n        if (charCode > 64 && charCode < 91) {\n          return charCode;\n        }\n      }\n      return keyCodes[key];\n    });\n    return function keyHandler(e) {\n      if (codes.indexOf(e.keyCode) > -1) {\n        return handler.call(this, e);\n      }\n    };\n  }\n\n  function stopFilter(handler) {\n    return function stopHandler(e) {\n      e.stopPropagation();\n      return handler.call(this, e);\n    };\n  }\n\n  function preventFilter(handler) {\n    return function preventHandler(e) {\n      e.preventDefault();\n      return handler.call(this, e);\n    };\n  }\n\n  var on = {\n\n    acceptStatement: true,\n    priority: 700,\n\n    bind: function bind() {\n      // deal with iframes\n      if (this.el.tagName === 'IFRAME' && this.arg !== 'load') {\n        var self = this;\n        this.iframeBind = function () {\n          on$1(self.el.contentWindow, self.arg, self.handler);\n        };\n        this.on('load', this.iframeBind);\n      }\n    },\n\n    update: function update(handler) {\n      // stub a noop for v-on with no value,\n      // e.g. @mousedown.prevent\n      if (!this.descriptor.raw) {\n        handler = function () {};\n      }\n\n      if (typeof handler !== 'function') {\n        'development' !== 'production' && warn('v-on:' + this.arg + '=\"' + this.expression + '\" expects a function value, ' + 'got ' + handler);\n        return;\n      }\n\n      // apply modifiers\n      if (this.modifiers.stop) {\n        handler = stopFilter(handler);\n      }\n      if (this.modifiers.prevent) {\n        handler = preventFilter(handler);\n      }\n      // key filter\n      var keys = Object.keys(this.modifiers).filter(function (key) {\n        return key !== 'stop' && key !== 'prevent';\n      });\n      if (keys.length) {\n        handler = keyFilter(handler, keys);\n      }\n\n      this.reset();\n      this.handler = handler;\n\n      if (this.iframeBind) {\n        this.iframeBind();\n      } else {\n        on$1(this.el, this.arg, this.handler);\n      }\n    },\n\n    reset: function reset() {\n      var el = this.iframeBind ? this.el.contentWindow : this.el;\n      if (this.handler) {\n        off(el, this.arg, this.handler);\n      }\n    },\n\n    unbind: function unbind() {\n      this.reset();\n    }\n  };\n\n  var checkbox = {\n\n    bind: function bind() {\n      var self = this;\n      var el = this.el;\n\n      this.getValue = function () {\n        return el.hasOwnProperty('_value') ? el._value : self.params.number ? toNumber(el.value) : el.value;\n      };\n\n      function getBooleanValue() {\n        var val = el.checked;\n        if (val && el.hasOwnProperty('_trueValue')) {\n          return el._trueValue;\n        }\n        if (!val && el.hasOwnProperty('_falseValue')) {\n          return el._falseValue;\n        }\n        return val;\n      }\n\n      this.listener = function () {\n        var model = self._watcher.value;\n        if (isArray(model)) {\n          var val = self.getValue();\n          if (el.checked) {\n            if (indexOf(model, val) < 0) {\n              model.push(val);\n            }\n          } else {\n            model.$remove(val);\n          }\n        } else {\n          self.set(getBooleanValue());\n        }\n      };\n\n      this.on('change', this.listener);\n      if (el.hasAttribute('checked')) {\n        this.afterBind = this.listener;\n      }\n    },\n\n    update: function update(value) {\n      var el = this.el;\n      if (isArray(value)) {\n        el.checked = indexOf(value, this.getValue()) > -1;\n      } else {\n        if (el.hasOwnProperty('_trueValue')) {\n          el.checked = looseEqual(value, el._trueValue);\n        } else {\n          el.checked = !!value;\n        }\n      }\n    }\n  };\n\n  var select = {\n\n    bind: function bind() {\n      var self = this;\n      var el = this.el;\n\n      // method to force update DOM using latest value.\n      this.forceUpdate = function () {\n        if (self._watcher) {\n          self.update(self._watcher.get());\n        }\n      };\n\n      // check if this is a multiple select\n      var multiple = this.multiple = el.hasAttribute('multiple');\n\n      // attach listener\n      this.listener = function () {\n        var value = getValue(el, multiple);\n        value = self.params.number ? isArray(value) ? value.map(toNumber) : toNumber(value) : value;\n        self.set(value);\n      };\n      this.on('change', this.listener);\n\n      // if has initial value, set afterBind\n      var initValue = getValue(el, multiple, true);\n      if (multiple && initValue.length || !multiple && initValue !== null) {\n        this.afterBind = this.listener;\n      }\n\n      // All major browsers except Firefox resets\n      // selectedIndex with value -1 to 0 when the element\n      // is appended to a new parent, therefore we have to\n      // force a DOM update whenever that happens...\n      this.vm.$on('hook:attached', this.forceUpdate);\n    },\n\n    update: function update(value) {\n      var el = this.el;\n      el.selectedIndex = -1;\n      var multi = this.multiple && isArray(value);\n      var options = el.options;\n      var i = options.length;\n      var op, val;\n      while (i--) {\n        op = options[i];\n        val = op.hasOwnProperty('_value') ? op._value : op.value;\n        /* eslint-disable eqeqeq */\n        op.selected = multi ? indexOf$1(value, val) > -1 : looseEqual(value, val);\n        /* eslint-enable eqeqeq */\n      }\n    },\n\n    unbind: function unbind() {\n      /* istanbul ignore next */\n      this.vm.$off('hook:attached', this.forceUpdate);\n    }\n  };\n\n  /**\n   * Get select value\n   *\n   * @param {SelectElement} el\n   * @param {Boolean} multi\n   * @param {Boolean} init\n   * @return {Array|*}\n   */\n\n  function getValue(el, multi, init) {\n    var res = multi ? [] : null;\n    var op, val, selected;\n    for (var i = 0, l = el.options.length; i < l; i++) {\n      op = el.options[i];\n      selected = init ? op.hasAttribute('selected') : op.selected;\n      if (selected) {\n        val = op.hasOwnProperty('_value') ? op._value : op.value;\n        if (multi) {\n          res.push(val);\n        } else {\n          return val;\n        }\n      }\n    }\n    return res;\n  }\n\n  /**\n   * Native Array.indexOf uses strict equal, but in this\n   * case we need to match string/numbers with custom equal.\n   *\n   * @param {Array} arr\n   * @param {*} val\n   */\n\n  function indexOf$1(arr, val) {\n    var i = arr.length;\n    while (i--) {\n      if (looseEqual(arr[i], val)) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  var radio = {\n\n    bind: function bind() {\n      var self = this;\n      var el = this.el;\n\n      this.getValue = function () {\n        // value overwrite via v-bind:value\n        if (el.hasOwnProperty('_value')) {\n          return el._value;\n        }\n        var val = el.value;\n        if (self.params.number) {\n          val = toNumber(val);\n        }\n        return val;\n      };\n\n      this.listener = function () {\n        self.set(self.getValue());\n      };\n      this.on('change', this.listener);\n\n      if (el.hasAttribute('checked')) {\n        this.afterBind = this.listener;\n      }\n    },\n\n    update: function update(value) {\n      this.el.checked = looseEqual(value, this.getValue());\n    }\n  };\n\n  var text$2 = {\n\n    bind: function bind() {\n      var self = this;\n      var el = this.el;\n      var isRange = el.type === 'range';\n      var lazy = this.params.lazy;\n      var number = this.params.number;\n      var debounce = this.params.debounce;\n\n      // handle composition events.\n      //   http://blog.evanyou.me/2014/01/03/composition-event/\n      // skip this for Android because it handles composition\n      // events quite differently. Android doesn't trigger\n      // composition events for language input methods e.g.\n      // Chinese, but instead triggers them for spelling\n      // suggestions... (see Discussion/#162)\n      var composing = false;\n      if (!isAndroid && !isRange) {\n        this.on('compositionstart', function () {\n          composing = true;\n        });\n        this.on('compositionend', function () {\n          composing = false;\n          // in IE11 the \"compositionend\" event fires AFTER\n          // the \"input\" event, so the input handler is blocked\n          // at the end... have to call it here.\n          //\n          // #1327: in lazy mode this is unecessary.\n          if (!lazy) {\n            self.listener();\n          }\n        });\n      }\n\n      // prevent messing with the input when user is typing,\n      // and force update on blur.\n      this.focused = false;\n      if (!isRange) {\n        this.on('focus', function () {\n          self.focused = true;\n        });\n        this.on('blur', function () {\n          self.focused = false;\n          // do not sync value after fragment removal (#2017)\n          if (!self._frag || self._frag.inserted) {\n            self.rawListener();\n          }\n        });\n      }\n\n      // Now attach the main listener\n      this.listener = this.rawListener = function () {\n        if (composing || !self._bound) {\n          return;\n        }\n        var val = number || isRange ? toNumber(el.value) : el.value;\n        self.set(val);\n        // force update on next tick to avoid lock & same value\n        // also only update when user is not typing\n        nextTick(function () {\n          if (self._bound && !self.focused) {\n            self.update(self._watcher.value);\n          }\n        });\n      };\n\n      // apply debounce\n      if (debounce) {\n        this.listener = _debounce(this.listener, debounce);\n      }\n\n      // Support jQuery events, since jQuery.trigger() doesn't\n      // trigger native events in some cases and some plugins\n      // rely on $.trigger()\n      //\n      // We want to make sure if a listener is attached using\n      // jQuery, it is also removed with jQuery, that's why\n      // we do the check for each directive instance and\n      // store that check result on itself. This also allows\n      // easier test coverage control by unsetting the global\n      // jQuery variable in tests.\n      this.hasjQuery = typeof jQuery === 'function';\n      if (this.hasjQuery) {\n        jQuery(el).on('change', this.listener);\n        if (!lazy) {\n          jQuery(el).on('input', this.listener);\n        }\n      } else {\n        this.on('change', this.listener);\n        if (!lazy) {\n          this.on('input', this.listener);\n        }\n      }\n\n      // IE9 doesn't fire input event on backspace/del/cut\n      if (!lazy && isIE9) {\n        this.on('cut', function () {\n          nextTick(self.listener);\n        });\n        this.on('keyup', function (e) {\n          if (e.keyCode === 46 || e.keyCode === 8) {\n            self.listener();\n          }\n        });\n      }\n\n      // set initial value if present\n      if (el.hasAttribute('value') || el.tagName === 'TEXTAREA' && el.value.trim()) {\n        this.afterBind = this.listener;\n      }\n    },\n\n    update: function update(value) {\n      this.el.value = _toString(value);\n    },\n\n    unbind: function unbind() {\n      var el = this.el;\n      if (this.hasjQuery) {\n        jQuery(el).off('change', this.listener);\n        jQuery(el).off('input', this.listener);\n      }\n    }\n  };\n\n  var handlers = {\n    text: text$2,\n    radio: radio,\n    select: select,\n    checkbox: checkbox\n  };\n\n  var model = {\n\n    priority: 800,\n    twoWay: true,\n    handlers: handlers,\n    params: ['lazy', 'number', 'debounce'],\n\n    /**\n     * Possible elements:\n     *   <select>\n     *   <textarea>\n     *   <input type=\"*\">\n     *     - text\n     *     - checkbox\n     *     - radio\n     *     - number\n     */\n\n    bind: function bind() {\n      // friendly warning...\n      this.checkFilters();\n      if (this.hasRead && !this.hasWrite) {\n        'development' !== 'production' && warn('It seems you are using a read-only filter with ' + 'v-model. You might want to use a two-way filter ' + 'to ensure correct behavior.');\n      }\n      var el = this.el;\n      var tag = el.tagName;\n      var handler;\n      if (tag === 'INPUT') {\n        handler = handlers[el.type] || handlers.text;\n      } else if (tag === 'SELECT') {\n        handler = handlers.select;\n      } else if (tag === 'TEXTAREA') {\n        handler = handlers.text;\n      } else {\n        'development' !== 'production' && warn('v-model does not support element type: ' + tag);\n        return;\n      }\n      el.__v_model = this;\n      handler.bind.call(this);\n      this.update = handler.update;\n      this._unbind = handler.unbind;\n    },\n\n    /**\n     * Check read/write filter stats.\n     */\n\n    checkFilters: function checkFilters() {\n      var filters = this.filters;\n      if (!filters) return;\n      var i = filters.length;\n      while (i--) {\n        var filter = resolveAsset(this.vm.$options, 'filters', filters[i].name);\n        if (typeof filter === 'function' || filter.read) {\n          this.hasRead = true;\n        }\n        if (filter.write) {\n          this.hasWrite = true;\n        }\n      }\n    },\n\n    unbind: function unbind() {\n      this.el.__v_model = null;\n      this._unbind && this._unbind();\n    }\n  };\n\n  var show = {\n\n    bind: function bind() {\n      // check else block\n      var next = this.el.nextElementSibling;\n      if (next && getAttr(next, 'v-else') !== null) {\n        this.elseEl = next;\n      }\n    },\n\n    update: function update(value) {\n      this.apply(this.el, value);\n      if (this.elseEl) {\n        this.apply(this.elseEl, !value);\n      }\n    },\n\n    apply: function apply(el, value) {\n      if (inDoc(el)) {\n        applyTransition(el, value ? 1 : -1, toggle, this.vm);\n      } else {\n        toggle();\n      }\n      function toggle() {\n        el.style.display = value ? '' : 'none';\n      }\n    }\n  };\n\n  var templateCache = new Cache(1000);\n  var idSelectorCache = new Cache(1000);\n\n  var map = {\n    efault: [0, '', ''],\n    legend: [1, '<fieldset>', '</fieldset>'],\n    tr: [2, '<table><tbody>', '</tbody></table>'],\n    col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>']\n  };\n\n  map.td = map.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\n  map.option = map.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\n  map.thead = map.tbody = map.colgroup = map.caption = map.tfoot = [1, '<table>', '</table>'];\n\n  map.g = map.defs = map.symbol = map.use = map.image = map.text = map.circle = map.ellipse = map.line = map.path = map.polygon = map.polyline = map.rect = [1, '<svg ' + 'xmlns=\"http://www.w3.org/2000/svg\" ' + 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' + 'xmlns:ev=\"http://www.w3.org/2001/xml-events\"' + 'version=\"1.1\">', '</svg>'];\n\n  /**\n   * Check if a node is a supported template node with a\n   * DocumentFragment content.\n   *\n   * @param {Node} node\n   * @return {Boolean}\n   */\n\n  function isRealTemplate(node) {\n    return isTemplate(node) && node.content instanceof DocumentFragment;\n  }\n\n  var tagRE$1 = /<([\\w:]+)/;\n  var entityRE = /&#?\\w+?;/;\n\n  /**\n   * Convert a string template to a DocumentFragment.\n   * Determines correct wrapping by tag types. Wrapping\n   * strategy found in jQuery & component/domify.\n   *\n   * @param {String} templateString\n   * @param {Boolean} raw\n   * @return {DocumentFragment}\n   */\n\n  function stringToFragment(templateString, raw) {\n    // try a cache hit first\n    var hit = templateCache.get(templateString);\n    if (hit) {\n      return hit;\n    }\n\n    var frag = document.createDocumentFragment();\n    var tagMatch = templateString.match(tagRE$1);\n    var entityMatch = entityRE.test(templateString);\n\n    if (!tagMatch && !entityMatch) {\n      // text only, return a single text node.\n      frag.appendChild(document.createTextNode(templateString));\n    } else {\n\n      var tag = tagMatch && tagMatch[1];\n      var wrap = map[tag] || map.efault;\n      var depth = wrap[0];\n      var prefix = wrap[1];\n      var suffix = wrap[2];\n      var node = document.createElement('div');\n\n      if (!raw) {\n        templateString = templateString.trim();\n      }\n      node.innerHTML = prefix + templateString + suffix;\n      while (depth--) {\n        node = node.lastChild;\n      }\n\n      var child;\n      /* eslint-disable no-cond-assign */\n      while (child = node.firstChild) {\n        /* eslint-enable no-cond-assign */\n        frag.appendChild(child);\n      }\n    }\n\n    templateCache.put(templateString, frag);\n    return frag;\n  }\n\n  /**\n   * Convert a template node to a DocumentFragment.\n   *\n   * @param {Node} node\n   * @return {DocumentFragment}\n   */\n\n  function nodeToFragment(node) {\n    // if its a template tag and the browser supports it,\n    // its content is already a document fragment.\n    if (isRealTemplate(node)) {\n      trimNode(node.content);\n      return node.content;\n    }\n    // script template\n    if (node.tagName === 'SCRIPT') {\n      return stringToFragment(node.textContent);\n    }\n    // normal node, clone it to avoid mutating the original\n    var clonedNode = cloneNode(node);\n    var frag = document.createDocumentFragment();\n    var child;\n    /* eslint-disable no-cond-assign */\n    while (child = clonedNode.firstChild) {\n      /* eslint-enable no-cond-assign */\n      frag.appendChild(child);\n    }\n    trimNode(frag);\n    return frag;\n  }\n\n  // Test for the presence of the Safari template cloning bug\n  // https://bugs.webkit.org/showug.cgi?id=137755\n  var hasBrokenTemplate = (function () {\n    /* istanbul ignore else */\n    if (inBrowser) {\n      var a = document.createElement('div');\n      a.innerHTML = '<template>1</template>';\n      return !a.cloneNode(true).firstChild.innerHTML;\n    } else {\n      return false;\n    }\n  })();\n\n  // Test for IE10/11 textarea placeholder clone bug\n  var hasTextareaCloneBug = (function () {\n    /* istanbul ignore else */\n    if (inBrowser) {\n      var t = document.createElement('textarea');\n      t.placeholder = 't';\n      return t.cloneNode(true).value === 't';\n    } else {\n      return false;\n    }\n  })();\n\n  /**\n   * 1. Deal with Safari cloning nested <template> bug by\n   *    manually cloning all template instances.\n   * 2. Deal with IE10/11 textarea placeholder bug by setting\n   *    the correct value after cloning.\n   *\n   * @param {Element|DocumentFragment} node\n   * @return {Element|DocumentFragment}\n   */\n\n  function cloneNode(node) {\n    if (!node.querySelectorAll) {\n      return node.cloneNode();\n    }\n    var res = node.cloneNode(true);\n    var i, original, cloned;\n    /* istanbul ignore if */\n    if (hasBrokenTemplate) {\n      var tempClone = res;\n      if (isRealTemplate(node)) {\n        node = node.content;\n        tempClone = res.content;\n      }\n      original = node.querySelectorAll('template');\n      if (original.length) {\n        cloned = tempClone.querySelectorAll('template');\n        i = cloned.length;\n        while (i--) {\n          cloned[i].parentNode.replaceChild(cloneNode(original[i]), cloned[i]);\n        }\n      }\n    }\n    /* istanbul ignore if */\n    if (hasTextareaCloneBug) {\n      if (node.tagName === 'TEXTAREA') {\n        res.value = node.value;\n      } else {\n        original = node.querySelectorAll('textarea');\n        if (original.length) {\n          cloned = res.querySelectorAll('textarea');\n          i = cloned.length;\n          while (i--) {\n            cloned[i].value = original[i].value;\n          }\n        }\n      }\n    }\n    return res;\n  }\n\n  /**\n   * Process the template option and normalizes it into a\n   * a DocumentFragment that can be used as a partial or a\n   * instance template.\n   *\n   * @param {*} template\n   *        Possible values include:\n   *        - DocumentFragment object\n   *        - Node object of type Template\n   *        - id selector: '#some-template-id'\n   *        - template string: '<div><span>{{msg}}</span></div>'\n   * @param {Boolean} shouldClone\n   * @param {Boolean} raw\n   *        inline HTML interpolation. Do not check for id\n   *        selector and keep whitespace in the string.\n   * @return {DocumentFragment|undefined}\n   */\n\n  function parseTemplate(template, shouldClone, raw) {\n    var node, frag;\n\n    // if the template is already a document fragment,\n    // do nothing\n    if (template instanceof DocumentFragment) {\n      trimNode(template);\n      return shouldClone ? cloneNode(template) : template;\n    }\n\n    if (typeof template === 'string') {\n      // id selector\n      if (!raw && template.charAt(0) === '#') {\n        // id selector can be cached too\n        frag = idSelectorCache.get(template);\n        if (!frag) {\n          node = document.getElementById(template.slice(1));\n          if (node) {\n            frag = nodeToFragment(node);\n            // save selector to cache\n            idSelectorCache.put(template, frag);\n          }\n        }\n      } else {\n        // normal string template\n        frag = stringToFragment(template, raw);\n      }\n    } else if (template.nodeType) {\n      // a direct node\n      frag = nodeToFragment(template);\n    }\n\n    return frag && shouldClone ? cloneNode(frag) : frag;\n  }\n\n  var template = Object.freeze({\n    cloneNode: cloneNode,\n    parseTemplate: parseTemplate\n  });\n\n  /**\n   * Abstraction for a partially-compiled fragment.\n   * Can optionally compile content with a child scope.\n   *\n   * @param {Function} linker\n   * @param {Vue} vm\n   * @param {DocumentFragment} frag\n   * @param {Vue} [host]\n   * @param {Object} [scope]\n   */\n  function Fragment(linker, vm, frag, host, scope, parentFrag) {\n    this.children = [];\n    this.childFrags = [];\n    this.vm = vm;\n    this.scope = scope;\n    this.inserted = false;\n    this.parentFrag = parentFrag;\n    if (parentFrag) {\n      parentFrag.childFrags.push(this);\n    }\n    this.unlink = linker(vm, frag, host, scope, this);\n    var single = this.single = frag.childNodes.length === 1 &&\n    // do not go single mode if the only node is an anchor\n    !frag.childNodes[0].__vue_anchor;\n    if (single) {\n      this.node = frag.childNodes[0];\n      this.before = singleBefore;\n      this.remove = singleRemove;\n    } else {\n      this.node = createAnchor('fragment-start');\n      this.end = createAnchor('fragment-end');\n      this.frag = frag;\n      prepend(this.node, frag);\n      frag.appendChild(this.end);\n      this.before = multiBefore;\n      this.remove = multiRemove;\n    }\n    this.node.__vfrag__ = this;\n  }\n\n  /**\n   * Call attach/detach for all components contained within\n   * this fragment. Also do so recursively for all child\n   * fragments.\n   *\n   * @param {Function} hook\n   */\n\n  Fragment.prototype.callHook = function (hook) {\n    var i, l;\n    for (i = 0, l = this.children.length; i < l; i++) {\n      hook(this.children[i]);\n    }\n    for (i = 0, l = this.childFrags.length; i < l; i++) {\n      this.childFrags[i].callHook(hook);\n    }\n  };\n\n  /**\n   * Destroy the fragment.\n   */\n\n  Fragment.prototype.destroy = function () {\n    if (this.parentFrag) {\n      this.parentFrag.childFrags.$remove(this);\n    }\n    this.unlink();\n  };\n\n  /**\n   * Insert fragment before target, single node version\n   *\n   * @param {Node} target\n   * @param {Boolean} withTransition\n   */\n\n  function singleBefore(target, withTransition) {\n    this.inserted = true;\n    var method = withTransition !== false ? beforeWithTransition : before;\n    method(this.node, target, this.vm);\n    if (inDoc(this.node)) {\n      this.callHook(attach);\n    }\n  }\n\n  /**\n   * Remove fragment, single node version\n   */\n\n  function singleRemove() {\n    this.inserted = false;\n    var shouldCallRemove = inDoc(this.node);\n    var self = this;\n    self.callHook(destroyChild);\n    removeWithTransition(this.node, this.vm, function () {\n      if (shouldCallRemove) {\n        self.callHook(detach);\n      }\n      self.destroy();\n    });\n  }\n\n  /**\n   * Insert fragment before target, multi-nodes version\n   *\n   * @param {Node} target\n   * @param {Boolean} withTransition\n   */\n\n  function multiBefore(target, withTransition) {\n    this.inserted = true;\n    var vm = this.vm;\n    var method = withTransition !== false ? beforeWithTransition : before;\n    mapNodeRange(this.node, this.end, function (node) {\n      method(node, target, vm);\n    });\n    if (inDoc(this.node)) {\n      this.callHook(attach);\n    }\n  }\n\n  /**\n   * Remove fragment, multi-nodes version\n   */\n\n  function multiRemove() {\n    this.inserted = false;\n    var self = this;\n    var shouldCallRemove = inDoc(this.node);\n    self.callHook(destroyChild);\n    removeNodeRange(this.node, this.end, this.vm, this.frag, function () {\n      if (shouldCallRemove) {\n        self.callHook(detach);\n      }\n      self.destroy();\n    });\n  }\n\n  /**\n   * Call attach hook for a Vue instance.\n   *\n   * @param {Vue} child\n   */\n\n  function attach(child) {\n    if (!child._isAttached) {\n      child._callHook('attached');\n    }\n  }\n\n  /**\n   * Call destroy for all contained instances,\n   * with remove:false and defer:true.\n   * Defer is necessary because we need to\n   * keep the children to call detach hooks\n   * on them.\n   *\n   * @param {Vue} child\n   */\n\n  function destroyChild(child) {\n    child.$destroy(false, true);\n  }\n\n  /**\n   * Call detach hook for a Vue instance.\n   *\n   * @param {Vue} child\n   */\n\n  function detach(child) {\n    if (child._isAttached) {\n      child._callHook('detached');\n    }\n  }\n\n  var linkerCache = new Cache(5000);\n\n  /**\n   * A factory that can be used to create instances of a\n   * fragment. Caches the compiled linker if possible.\n   *\n   * @param {Vue} vm\n   * @param {Element|String} el\n   */\n  function FragmentFactory(vm, el) {\n    this.vm = vm;\n    var template;\n    var isString = typeof el === 'string';\n    if (isString || isTemplate(el)) {\n      template = parseTemplate(el, true);\n    } else {\n      template = document.createDocumentFragment();\n      template.appendChild(el);\n    }\n    this.template = template;\n    // linker can be cached, but only for components\n    var linker;\n    var cid = vm.constructor.cid;\n    if (cid > 0) {\n      var cacheId = cid + (isString ? el : el.outerHTML);\n      linker = linkerCache.get(cacheId);\n      if (!linker) {\n        linker = compile(template, vm.$options, true);\n        linkerCache.put(cacheId, linker);\n      }\n    } else {\n      linker = compile(template, vm.$options, true);\n    }\n    this.linker = linker;\n  }\n\n  /**\n   * Create a fragment instance with given host and scope.\n   *\n   * @param {Vue} host\n   * @param {Object} scope\n   * @param {Fragment} parentFrag\n   */\n\n  FragmentFactory.prototype.create = function (host, scope, parentFrag) {\n    var frag = cloneNode(this.template);\n    return new Fragment(this.linker, this.vm, frag, host, scope, parentFrag);\n  };\n\n  var vIf = {\n\n    priority: 2000,\n\n    bind: function bind() {\n      var el = this.el;\n      if (!el.__vue__) {\n        // check else block\n        var next = el.nextElementSibling;\n        if (next && getAttr(next, 'v-else') !== null) {\n          remove(next);\n          this.elseFactory = new FragmentFactory(this.vm, next);\n        }\n        // check main block\n        this.anchor = createAnchor('v-if');\n        replace(el, this.anchor);\n        this.factory = new FragmentFactory(this.vm, el);\n      } else {\n        'development' !== 'production' && warn('v-if=\"' + this.expression + '\" cannot be ' + 'used on an instance root element.');\n        this.invalid = true;\n      }\n    },\n\n    update: function update(value) {\n      if (this.invalid) return;\n      if (value) {\n        if (!this.frag) {\n          this.insert();\n        }\n      } else {\n        this.remove();\n      }\n    },\n\n    insert: function insert() {\n      if (this.elseFrag) {\n        this.elseFrag.remove();\n        this.elseFrag = null;\n      }\n      this.frag = this.factory.create(this._host, this._scope, this._frag);\n      this.frag.before(this.anchor);\n    },\n\n    remove: function remove() {\n      if (this.frag) {\n        this.frag.remove();\n        this.frag = null;\n      }\n      if (this.elseFactory && !this.elseFrag) {\n        this.elseFrag = this.elseFactory.create(this._host, this._scope, this._frag);\n        this.elseFrag.before(this.anchor);\n      }\n    },\n\n    unbind: function unbind() {\n      if (this.frag) {\n        this.frag.destroy();\n      }\n    }\n  };\n\n  var uid$1 = 0;\n\n  var vFor = {\n\n    priority: 2000,\n\n    params: ['track-by', 'stagger', 'enter-stagger', 'leave-stagger'],\n\n    bind: function bind() {\n      // support \"item in items\" syntax\n      var inMatch = this.expression.match(/(.*) in (.*)/);\n      if (inMatch) {\n        var itMatch = inMatch[1].match(/\\((.*),(.*)\\)/);\n        if (itMatch) {\n          this.iterator = itMatch[1].trim();\n          this.alias = itMatch[2].trim();\n        } else {\n          this.alias = inMatch[1].trim();\n        }\n        this.expression = inMatch[2];\n      }\n\n      if (!this.alias) {\n        'development' !== 'production' && warn('Alias is required in v-for.');\n        return;\n      }\n\n      // uid as a cache identifier\n      this.id = '__v-for__' + ++uid$1;\n\n      // check if this is an option list,\n      // so that we know if we need to update the <select>'s\n      // v-model when the option list has changed.\n      // because v-model has a lower priority than v-for,\n      // the v-model is not bound here yet, so we have to\n      // retrive it in the actual updateModel() function.\n      var tag = this.el.tagName;\n      this.isOption = (tag === 'OPTION' || tag === 'OPTGROUP') && this.el.parentNode.tagName === 'SELECT';\n\n      // setup anchor nodes\n      this.start = createAnchor('v-for-start');\n      this.end = createAnchor('v-for-end');\n      replace(this.el, this.end);\n      before(this.start, this.end);\n\n      // cache\n      this.cache = Object.create(null);\n\n      // fragment factory\n      this.factory = new FragmentFactory(this.vm, this.el);\n    },\n\n    update: function update(data) {\n      this.diff(data);\n      this.updateRef();\n      this.updateModel();\n    },\n\n    /**\n     * Diff, based on new data and old data, determine the\n     * minimum amount of DOM manipulations needed to make the\n     * DOM reflect the new data Array.\n     *\n     * The algorithm diffs the new data Array by storing a\n     * hidden reference to an owner vm instance on previously\n     * seen data. This allows us to achieve O(n) which is\n     * better than a levenshtein distance based algorithm,\n     * which is O(m * n).\n     *\n     * @param {Array} data\n     */\n\n    diff: function diff(data) {\n      // check if the Array was converted from an Object\n      var item = data[0];\n      var convertedFromObject = this.fromObject = isObject(item) && hasOwn(item, '$key') && hasOwn(item, '$value');\n\n      var trackByKey = this.params.trackBy;\n      var oldFrags = this.frags;\n      var frags = this.frags = new Array(data.length);\n      var alias = this.alias;\n      var iterator = this.iterator;\n      var start = this.start;\n      var end = this.end;\n      var inDocument = inDoc(start);\n      var init = !oldFrags;\n      var i, l, frag, key, value, primitive;\n\n      // First pass, go through the new Array and fill up\n      // the new frags array. If a piece of data has a cached\n      // instance for it, we reuse it. Otherwise build a new\n      // instance.\n      for (i = 0, l = data.length; i < l; i++) {\n        item = data[i];\n        key = convertedFromObject ? item.$key : null;\n        value = convertedFromObject ? item.$value : item;\n        primitive = !isObject(value);\n        frag = !init && this.getCachedFrag(value, i, key);\n        if (frag) {\n          // reusable fragment\n          frag.reused = true;\n          // update $index\n          frag.scope.$index = i;\n          // update $key\n          if (key) {\n            frag.scope.$key = key;\n          }\n          // update iterator\n          if (iterator) {\n            frag.scope[iterator] = key !== null ? key : i;\n          }\n          // update data for track-by, object repeat &\n          // primitive values.\n          if (trackByKey || convertedFromObject || primitive) {\n            frag.scope[alias] = value;\n          }\n        } else {\n          // new isntance\n          frag = this.create(value, alias, i, key);\n          frag.fresh = !init;\n        }\n        frags[i] = frag;\n        if (init) {\n          frag.before(end);\n        }\n      }\n\n      // we're done for the initial render.\n      if (init) {\n        return;\n      }\n\n      // Second pass, go through the old fragments and\n      // destroy those who are not reused (and remove them\n      // from cache)\n      var removalIndex = 0;\n      var totalRemoved = oldFrags.length - frags.length;\n      for (i = 0, l = oldFrags.length; i < l; i++) {\n        frag = oldFrags[i];\n        if (!frag.reused) {\n          this.deleteCachedFrag(frag);\n          this.remove(frag, removalIndex++, totalRemoved, inDocument);\n        }\n      }\n\n      // Final pass, move/insert new fragments into the\n      // right place.\n      var targetPrev, prevEl, currentPrev;\n      var insertionIndex = 0;\n      for (i = 0, l = frags.length; i < l; i++) {\n        frag = frags[i];\n        // this is the frag that we should be after\n        targetPrev = frags[i - 1];\n        prevEl = targetPrev ? targetPrev.staggerCb ? targetPrev.staggerAnchor : targetPrev.end || targetPrev.node : start;\n        if (frag.reused && !frag.staggerCb) {\n          currentPrev = findPrevFrag(frag, start, this.id);\n          if (currentPrev !== targetPrev && (!currentPrev ||\n          // optimization for moving a single item.\n          // thanks to suggestions by @livoras in #1807\n          findPrevFrag(currentPrev, start, this.id) !== targetPrev)) {\n            this.move(frag, prevEl);\n          }\n        } else {\n          // new instance, or still in stagger.\n          // insert with updated stagger index.\n          this.insert(frag, insertionIndex++, prevEl, inDocument);\n        }\n        frag.reused = frag.fresh = false;\n      }\n    },\n\n    /**\n     * Create a new fragment instance.\n     *\n     * @param {*} value\n     * @param {String} alias\n     * @param {Number} index\n     * @param {String} [key]\n     * @return {Fragment}\n     */\n\n    create: function create(value, alias, index, key) {\n      var host = this._host;\n      // create iteration scope\n      var parentScope = this._scope || this.vm;\n      var scope = Object.create(parentScope);\n      // ref holder for the scope\n      scope.$refs = Object.create(parentScope.$refs);\n      scope.$els = Object.create(parentScope.$els);\n      // make sure point $parent to parent scope\n      scope.$parent = parentScope;\n      // for two-way binding on alias\n      scope.$forContext = this;\n      // define scope properties\n      defineReactive(scope, alias, value);\n      defineReactive(scope, '$index', index);\n      if (key) {\n        defineReactive(scope, '$key', key);\n      } else if (scope.$key) {\n        // avoid accidental fallback\n        def(scope, '$key', null);\n      }\n      if (this.iterator) {\n        defineReactive(scope, this.iterator, key !== null ? key : index);\n      }\n      var frag = this.factory.create(host, scope, this._frag);\n      frag.forId = this.id;\n      this.cacheFrag(value, frag, index, key);\n      return frag;\n    },\n\n    /**\n     * Update the v-ref on owner vm.\n     */\n\n    updateRef: function updateRef() {\n      var ref = this.descriptor.ref;\n      if (!ref) return;\n      var hash = (this._scope || this.vm).$refs;\n      var refs;\n      if (!this.fromObject) {\n        refs = this.frags.map(findVmFromFrag);\n      } else {\n        refs = {};\n        this.frags.forEach(function (frag) {\n          refs[frag.scope.$key] = findVmFromFrag(frag);\n        });\n      }\n      hash[ref] = refs;\n    },\n\n    /**\n     * For option lists, update the containing v-model on\n     * parent <select>.\n     */\n\n    updateModel: function updateModel() {\n      if (this.isOption) {\n        var parent = this.start.parentNode;\n        var model = parent && parent.__v_model;\n        if (model) {\n          model.forceUpdate();\n        }\n      }\n    },\n\n    /**\n     * Insert a fragment. Handles staggering.\n     *\n     * @param {Fragment} frag\n     * @param {Number} index\n     * @param {Node} prevEl\n     * @param {Boolean} inDocument\n     */\n\n    insert: function insert(frag, index, prevEl, inDocument) {\n      if (frag.staggerCb) {\n        frag.staggerCb.cancel();\n        frag.staggerCb = null;\n      }\n      var staggerAmount = this.getStagger(frag, index, null, 'enter');\n      if (inDocument && staggerAmount) {\n        // create an anchor and insert it synchronously,\n        // so that we can resolve the correct order without\n        // worrying about some elements not inserted yet\n        var anchor = frag.staggerAnchor;\n        if (!anchor) {\n          anchor = frag.staggerAnchor = createAnchor('stagger-anchor');\n          anchor.__vfrag__ = frag;\n        }\n        after(anchor, prevEl);\n        var op = frag.staggerCb = cancellable(function () {\n          frag.staggerCb = null;\n          frag.before(anchor);\n          remove(anchor);\n        });\n        setTimeout(op, staggerAmount);\n      } else {\n        frag.before(prevEl.nextSibling);\n      }\n    },\n\n    /**\n     * Remove a fragment. Handles staggering.\n     *\n     * @param {Fragment} frag\n     * @param {Number} index\n     * @param {Number} total\n     * @param {Boolean} inDocument\n     */\n\n    remove: function remove(frag, index, total, inDocument) {\n      if (frag.staggerCb) {\n        frag.staggerCb.cancel();\n        frag.staggerCb = null;\n        // it's not possible for the same frag to be removed\n        // twice, so if we have a pending stagger callback,\n        // it means this frag is queued for enter but removed\n        // before its transition started. Since it is already\n        // destroyed, we can just leave it in detached state.\n        return;\n      }\n      var staggerAmount = this.getStagger(frag, index, total, 'leave');\n      if (inDocument && staggerAmount) {\n        var op = frag.staggerCb = cancellable(function () {\n          frag.staggerCb = null;\n          frag.remove();\n        });\n        setTimeout(op, staggerAmount);\n      } else {\n        frag.remove();\n      }\n    },\n\n    /**\n     * Move a fragment to a new position.\n     * Force no transition.\n     *\n     * @param {Fragment} frag\n     * @param {Node} prevEl\n     */\n\n    move: function move(frag, prevEl) {\n      frag.before(prevEl.nextSibling, false);\n    },\n\n    /**\n     * Cache a fragment using track-by or the object key.\n     *\n     * @param {*} value\n     * @param {Fragment} frag\n     * @param {Number} index\n     * @param {String} [key]\n     */\n\n    cacheFrag: function cacheFrag(value, frag, index, key) {\n      var trackByKey = this.params.trackBy;\n      var cache = this.cache;\n      var primitive = !isObject(value);\n      var id;\n      if (key || trackByKey || primitive) {\n        id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n        if (!cache[id]) {\n          cache[id] = frag;\n        } else if (trackByKey !== '$index') {\n          'development' !== 'production' && this.warnDuplicate(value);\n        }\n      } else {\n        id = this.id;\n        if (hasOwn(value, id)) {\n          if (value[id] === null) {\n            value[id] = frag;\n          } else {\n            'development' !== 'production' && this.warnDuplicate(value);\n          }\n        } else {\n          def(value, id, frag);\n        }\n      }\n      frag.raw = value;\n    },\n\n    /**\n     * Get a cached fragment from the value/index/key\n     *\n     * @param {*} value\n     * @param {Number} index\n     * @param {String} key\n     * @return {Fragment}\n     */\n\n    getCachedFrag: function getCachedFrag(value, index, key) {\n      var trackByKey = this.params.trackBy;\n      var primitive = !isObject(value);\n      var frag;\n      if (key || trackByKey || primitive) {\n        var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n        frag = this.cache[id];\n      } else {\n        frag = value[this.id];\n      }\n      if (frag && (frag.reused || frag.fresh)) {\n        'development' !== 'production' && this.warnDuplicate(value);\n      }\n      return frag;\n    },\n\n    /**\n     * Delete a fragment from cache.\n     *\n     * @param {Fragment} frag\n     */\n\n    deleteCachedFrag: function deleteCachedFrag(frag) {\n      var value = frag.raw;\n      var trackByKey = this.params.trackBy;\n      var scope = frag.scope;\n      var index = scope.$index;\n      // fix #948: avoid accidentally fall through to\n      // a parent repeater which happens to have $key.\n      var key = hasOwn(scope, '$key') && scope.$key;\n      var primitive = !isObject(value);\n      if (trackByKey || key || primitive) {\n        var id = trackByKey ? trackByKey === '$index' ? index : value[trackByKey] : key || value;\n        this.cache[id] = null;\n      } else {\n        value[this.id] = null;\n        frag.raw = null;\n      }\n    },\n\n    /**\n     * Get the stagger amount for an insertion/removal.\n     *\n     * @param {Fragment} frag\n     * @param {Number} index\n     * @param {Number} total\n     * @param {String} type\n     */\n\n    getStagger: function getStagger(frag, index, total, type) {\n      type = type + 'Stagger';\n      var trans = frag.node.__v_trans;\n      var hooks = trans && trans.hooks;\n      var hook = hooks && (hooks[type] || hooks.stagger);\n      return hook ? hook.call(frag, index, total) : index * parseInt(this.params[type] || this.params.stagger, 10);\n    },\n\n    /**\n     * Pre-process the value before piping it through the\n     * filters. This is passed to and called by the watcher.\n     */\n\n    _preProcess: function _preProcess(value) {\n      // regardless of type, store the un-filtered raw value.\n      this.rawValue = value;\n      return value;\n    },\n\n    /**\n     * Post-process the value after it has been piped through\n     * the filters. This is passed to and called by the watcher.\n     *\n     * It is necessary for this to be called during the\n     * wathcer's dependency collection phase because we want\n     * the v-for to update when the source Object is mutated.\n     */\n\n    _postProcess: function _postProcess(value) {\n      if (isArray(value)) {\n        return value;\n      } else if (isPlainObject(value)) {\n        // convert plain object to array.\n        var keys = Object.keys(value);\n        var i = keys.length;\n        var res = new Array(i);\n        var key;\n        while (i--) {\n          key = keys[i];\n          res[i] = {\n            $key: key,\n            $value: value[key]\n          };\n        }\n        return res;\n      } else {\n        if (typeof value === 'number') {\n          value = range(value);\n        }\n        return value || [];\n      }\n    },\n\n    unbind: function unbind() {\n      if (this.descriptor.ref) {\n        (this._scope || this.vm).$refs[this.descriptor.ref] = null;\n      }\n      if (this.frags) {\n        var i = this.frags.length;\n        var frag;\n        while (i--) {\n          frag = this.frags[i];\n          this.deleteCachedFrag(frag);\n          frag.destroy();\n        }\n      }\n    }\n  };\n\n  /**\n   * Helper to find the previous element that is a fragment\n   * anchor. This is necessary because a destroyed frag's\n   * element could still be lingering in the DOM before its\n   * leaving transition finishes, but its inserted flag\n   * should have been set to false so we can skip them.\n   *\n   * If this is a block repeat, we want to make sure we only\n   * return frag that is bound to this v-for. (see #929)\n   *\n   * @param {Fragment} frag\n   * @param {Comment|Text} anchor\n   * @param {String} id\n   * @return {Fragment}\n   */\n\n  function findPrevFrag(frag, anchor, id) {\n    var el = frag.node.previousSibling;\n    /* istanbul ignore if */\n    if (!el) return;\n    frag = el.__vfrag__;\n    while ((!frag || frag.forId !== id || !frag.inserted) && el !== anchor) {\n      el = el.previousSibling;\n      /* istanbul ignore if */\n      if (!el) return;\n      frag = el.__vfrag__;\n    }\n    return frag;\n  }\n\n  /**\n   * Find a vm from a fragment.\n   *\n   * @param {Fragment} frag\n   * @return {Vue|undefined}\n   */\n\n  function findVmFromFrag(frag) {\n    var node = frag.node;\n    // handle multi-node frag\n    if (frag.end) {\n      while (!node.__vue__ && node !== frag.end && node.nextSibling) {\n        node = node.nextSibling;\n      }\n    }\n    return node.__vue__;\n  }\n\n  /**\n   * Create a range array from given number.\n   *\n   * @param {Number} n\n   * @return {Array}\n   */\n\n  function range(n) {\n    var i = -1;\n    var ret = new Array(n);\n    while (++i < n) {\n      ret[i] = i;\n    }\n    return ret;\n  }\n\n  if ('development' !== 'production') {\n    vFor.warnDuplicate = function (value) {\n      warn('Duplicate value found in v-for=\"' + this.descriptor.raw + '\": ' + JSON.stringify(value) + '. Use track-by=\"$index\" if ' + 'you are expecting duplicate values.');\n    };\n  }\n\n  var html = {\n\n    bind: function bind() {\n      // a comment node means this is a binding for\n      // {{{ inline unescaped html }}}\n      if (this.el.nodeType === 8) {\n        // hold nodes\n        this.nodes = [];\n        // replace the placeholder with proper anchor\n        this.anchor = createAnchor('v-html');\n        replace(this.el, this.anchor);\n      }\n    },\n\n    update: function update(value) {\n      value = _toString(value);\n      if (this.nodes) {\n        this.swap(value);\n      } else {\n        this.el.innerHTML = value;\n      }\n    },\n\n    swap: function swap(value) {\n      // remove old nodes\n      var i = this.nodes.length;\n      while (i--) {\n        remove(this.nodes[i]);\n      }\n      // convert new value to a fragment\n      // do not attempt to retrieve from id selector\n      var frag = parseTemplate(value, true, true);\n      // save a reference to these nodes so we can remove later\n      this.nodes = toArray(frag.childNodes);\n      before(frag, this.anchor);\n    }\n  };\n\n  var text = {\n\n    bind: function bind() {\n      this.attr = this.el.nodeType === 3 ? 'data' : 'textContent';\n    },\n\n    update: function update(value) {\n      this.el[this.attr] = _toString(value);\n    }\n  };\n\n  // must export plain object\n  var publicDirectives = {\n    text: text,\n    html: html,\n    'for': vFor,\n    'if': vIf,\n    show: show,\n    model: model,\n    on: on,\n    bind: bind,\n    el: el,\n    ref: ref,\n    cloak: cloak\n  };\n\n  var queue$1 = [];\n  var queued = false;\n\n  /**\n   * Push a job into the queue.\n   *\n   * @param {Function} job\n   */\n\n  function pushJob(job) {\n    queue$1.push(job);\n    if (!queued) {\n      queued = true;\n      nextTick(flush);\n    }\n  }\n\n  /**\n   * Flush the queue, and do one forced reflow before\n   * triggering transitions.\n   */\n\n  function flush() {\n    // Force layout\n    var f = document.documentElement.offsetHeight;\n    for (var i = 0; i < queue$1.length; i++) {\n      queue$1[i]();\n    }\n    queue$1 = [];\n    queued = false;\n    // dummy return, so js linters don't complain about\n    // unused variable f\n    return f;\n  }\n\n  var TYPE_TRANSITION = 1;\n  var TYPE_ANIMATION = 2;\n  var transDurationProp = transitionProp + 'Duration';\n  var animDurationProp = animationProp + 'Duration';\n\n  /**\n   * A Transition object that encapsulates the state and logic\n   * of the transition.\n   *\n   * @param {Element} el\n   * @param {String} id\n   * @param {Object} hooks\n   * @param {Vue} vm\n   */\n  function Transition(el, id, hooks, vm) {\n    this.id = id;\n    this.el = el;\n    this.enterClass = id + '-enter';\n    this.leaveClass = id + '-leave';\n    this.hooks = hooks;\n    this.vm = vm;\n    // async state\n    this.pendingCssEvent = this.pendingCssCb = this.cancel = this.pendingJsCb = this.op = this.cb = null;\n    this.justEntered = false;\n    this.entered = this.left = false;\n    this.typeCache = {};\n    // bind\n    var self = this;['enterNextTick', 'enterDone', 'leaveNextTick', 'leaveDone'].forEach(function (m) {\n      self[m] = bind$1(self[m], self);\n    });\n  }\n\n  var p$1 = Transition.prototype;\n\n  /**\n   * Start an entering transition.\n   *\n   * 1. enter transition triggered\n   * 2. call beforeEnter hook\n   * 3. add enter class\n   * 4. insert/show element\n   * 5. call enter hook (with possible explicit js callback)\n   * 6. reflow\n   * 7. based on transition type:\n   *    - transition:\n   *        remove class now, wait for transitionend,\n   *        then done if there's no explicit js callback.\n   *    - animation:\n   *        wait for animationend, remove class,\n   *        then done if there's no explicit js callback.\n   *    - no css transition:\n   *        done now if there's no explicit js callback.\n   * 8. wait for either done or js callback, then call\n   *    afterEnter hook.\n   *\n   * @param {Function} op - insert/show the element\n   * @param {Function} [cb]\n   */\n\n  p$1.enter = function (op, cb) {\n    this.cancelPending();\n    this.callHook('beforeEnter');\n    this.cb = cb;\n    addClass(this.el, this.enterClass);\n    op();\n    this.entered = false;\n    this.callHookWithCb('enter');\n    if (this.entered) {\n      return; // user called done synchronously.\n    }\n    this.cancel = this.hooks && this.hooks.enterCancelled;\n    pushJob(this.enterNextTick);\n  };\n\n  /**\n   * The \"nextTick\" phase of an entering transition, which is\n   * to be pushed into a queue and executed after a reflow so\n   * that removing the class can trigger a CSS transition.\n   */\n\n  p$1.enterNextTick = function () {\n\n    // Important hack:\n    // in Chrome, if a just-entered element is applied the\n    // leave class while its interpolated property still has\n    // a very small value (within one frame), Chrome will\n    // skip the leave transition entirely and not firing the\n    // transtionend event. Therefore we need to protected\n    // against such cases using a one-frame timeout.\n    this.justEntered = true;\n    var self = this;\n    setTimeout(function () {\n      self.justEntered = false;\n    }, 17);\n\n    var enterDone = this.enterDone;\n    var type = this.getCssTransitionType(this.enterClass);\n    if (!this.pendingJsCb) {\n      if (type === TYPE_TRANSITION) {\n        // trigger transition by removing enter class now\n        removeClass(this.el, this.enterClass);\n        this.setupCssCb(transitionEndEvent, enterDone);\n      } else if (type === TYPE_ANIMATION) {\n        this.setupCssCb(animationEndEvent, enterDone);\n      } else {\n        enterDone();\n      }\n    } else if (type === TYPE_TRANSITION) {\n      removeClass(this.el, this.enterClass);\n    }\n  };\n\n  /**\n   * The \"cleanup\" phase of an entering transition.\n   */\n\n  p$1.enterDone = function () {\n    this.entered = true;\n    this.cancel = this.pendingJsCb = null;\n    removeClass(this.el, this.enterClass);\n    this.callHook('afterEnter');\n    if (this.cb) this.cb();\n  };\n\n  /**\n   * Start a leaving transition.\n   *\n   * 1. leave transition triggered.\n   * 2. call beforeLeave hook\n   * 3. add leave class (trigger css transition)\n   * 4. call leave hook (with possible explicit js callback)\n   * 5. reflow if no explicit js callback is provided\n   * 6. based on transition type:\n   *    - transition or animation:\n   *        wait for end event, remove class, then done if\n   *        there's no explicit js callback.\n   *    - no css transition:\n   *        done if there's no explicit js callback.\n   * 7. wait for either done or js callback, then call\n   *    afterLeave hook.\n   *\n   * @param {Function} op - remove/hide the element\n   * @param {Function} [cb]\n   */\n\n  p$1.leave = function (op, cb) {\n    this.cancelPending();\n    this.callHook('beforeLeave');\n    this.op = op;\n    this.cb = cb;\n    addClass(this.el, this.leaveClass);\n    this.left = false;\n    this.callHookWithCb('leave');\n    if (this.left) {\n      return; // user called done synchronously.\n    }\n    this.cancel = this.hooks && this.hooks.leaveCancelled;\n    // only need to handle leaveDone if\n    // 1. the transition is already done (synchronously called\n    //    by the user, which causes this.op set to null)\n    // 2. there's no explicit js callback\n    if (this.op && !this.pendingJsCb) {\n      // if a CSS transition leaves immediately after enter,\n      // the transitionend event never fires. therefore we\n      // detect such cases and end the leave immediately.\n      if (this.justEntered) {\n        this.leaveDone();\n      } else {\n        pushJob(this.leaveNextTick);\n      }\n    }\n  };\n\n  /**\n   * The \"nextTick\" phase of a leaving transition.\n   */\n\n  p$1.leaveNextTick = function () {\n    var type = this.getCssTransitionType(this.leaveClass);\n    if (type) {\n      var event = type === TYPE_TRANSITION ? transitionEndEvent : animationEndEvent;\n      this.setupCssCb(event, this.leaveDone);\n    } else {\n      this.leaveDone();\n    }\n  };\n\n  /**\n   * The \"cleanup\" phase of a leaving transition.\n   */\n\n  p$1.leaveDone = function () {\n    this.left = true;\n    this.cancel = this.pendingJsCb = null;\n    this.op();\n    removeClass(this.el, this.leaveClass);\n    this.callHook('afterLeave');\n    if (this.cb) this.cb();\n    this.op = null;\n  };\n\n  /**\n   * Cancel any pending callbacks from a previously running\n   * but not finished transition.\n   */\n\n  p$1.cancelPending = function () {\n    this.op = this.cb = null;\n    var hasPending = false;\n    if (this.pendingCssCb) {\n      hasPending = true;\n      off(this.el, this.pendingCssEvent, this.pendingCssCb);\n      this.pendingCssEvent = this.pendingCssCb = null;\n    }\n    if (this.pendingJsCb) {\n      hasPending = true;\n      this.pendingJsCb.cancel();\n      this.pendingJsCb = null;\n    }\n    if (hasPending) {\n      removeClass(this.el, this.enterClass);\n      removeClass(this.el, this.leaveClass);\n    }\n    if (this.cancel) {\n      this.cancel.call(this.vm, this.el);\n      this.cancel = null;\n    }\n  };\n\n  /**\n   * Call a user-provided synchronous hook function.\n   *\n   * @param {String} type\n   */\n\n  p$1.callHook = function (type) {\n    if (this.hooks && this.hooks[type]) {\n      this.hooks[type].call(this.vm, this.el);\n    }\n  };\n\n  /**\n   * Call a user-provided, potentially-async hook function.\n   * We check for the length of arguments to see if the hook\n   * expects a `done` callback. If true, the transition's end\n   * will be determined by when the user calls that callback;\n   * otherwise, the end is determined by the CSS transition or\n   * animation.\n   *\n   * @param {String} type\n   */\n\n  p$1.callHookWithCb = function (type) {\n    var hook = this.hooks && this.hooks[type];\n    if (hook) {\n      if (hook.length > 1) {\n        this.pendingJsCb = cancellable(this[type + 'Done']);\n      }\n      hook.call(this.vm, this.el, this.pendingJsCb);\n    }\n  };\n\n  /**\n   * Get an element's transition type based on the\n   * calculated styles.\n   *\n   * @param {String} className\n   * @return {Number}\n   */\n\n  p$1.getCssTransitionType = function (className) {\n    /* istanbul ignore if */\n    if (!transitionEndEvent ||\n    // skip CSS transitions if page is not visible -\n    // this solves the issue of transitionend events not\n    // firing until the page is visible again.\n    // pageVisibility API is supported in IE10+, same as\n    // CSS transitions.\n    document.hidden ||\n    // explicit js-only transition\n    this.hooks && this.hooks.css === false ||\n    // element is hidden\n    isHidden(this.el)) {\n      return;\n    }\n    var type = this.typeCache[className];\n    if (type) return type;\n    var inlineStyles = this.el.style;\n    var computedStyles = window.getComputedStyle(this.el);\n    var transDuration = inlineStyles[transDurationProp] || computedStyles[transDurationProp];\n    if (transDuration && transDuration !== '0s') {\n      type = TYPE_TRANSITION;\n    } else {\n      var animDuration = inlineStyles[animDurationProp] || computedStyles[animDurationProp];\n      if (animDuration && animDuration !== '0s') {\n        type = TYPE_ANIMATION;\n      }\n    }\n    if (type) {\n      this.typeCache[className] = type;\n    }\n    return type;\n  };\n\n  /**\n   * Setup a CSS transitionend/animationend callback.\n   *\n   * @param {String} event\n   * @param {Function} cb\n   */\n\n  p$1.setupCssCb = function (event, cb) {\n    this.pendingCssEvent = event;\n    var self = this;\n    var el = this.el;\n    var onEnd = this.pendingCssCb = function (e) {\n      if (e.target === el) {\n        off(el, event, onEnd);\n        self.pendingCssEvent = self.pendingCssCb = null;\n        if (!self.pendingJsCb && cb) {\n          cb();\n        }\n      }\n    };\n    on$1(el, event, onEnd);\n  };\n\n  /**\n   * Check if an element is hidden - in that case we can just\n   * skip the transition alltogether.\n   *\n   * @param {Element} el\n   * @return {Boolean}\n   */\n\n  function isHidden(el) {\n    return !(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n  }\n\n  var transition = {\n\n    priority: 1100,\n\n    update: function update(id, oldId) {\n      var el = this.el;\n      // resolve on owner vm\n      var hooks = resolveAsset(this.vm.$options, 'transitions', id);\n      id = id || 'v';\n      // apply on closest vm\n      el.__v_trans = new Transition(el, id, hooks, this.el.__vue__ || this.vm);\n      if (oldId) {\n        removeClass(el, oldId + '-transition');\n      }\n      addClass(el, id + '-transition');\n    }\n  };\n\n  var bindingModes = config._propBindingModes;\n\n  var propDef = {\n\n    bind: function bind() {\n\n      var child = this.vm;\n      var parent = child._context;\n      // passed in from compiler directly\n      var prop = this.descriptor.prop;\n      var childKey = prop.path;\n      var parentKey = prop.parentPath;\n      var twoWay = prop.mode === bindingModes.TWO_WAY;\n\n      var parentWatcher = this.parentWatcher = new Watcher(parent, parentKey, function (val) {\n        val = coerceProp(prop, val);\n        if (assertProp(prop, val)) {\n          child[childKey] = val;\n        }\n      }, {\n        twoWay: twoWay,\n        filters: prop.filters,\n        // important: props need to be observed on the\n        // v-for scope if present\n        scope: this._scope\n      });\n\n      // set the child initial value.\n      initProp(child, prop, parentWatcher.value);\n\n      // setup two-way binding\n      if (twoWay) {\n        // important: defer the child watcher creation until\n        // the created hook (after data observation)\n        var self = this;\n        child.$once('hook:created', function () {\n          self.childWatcher = new Watcher(child, childKey, function (val) {\n            parentWatcher.set(val);\n          }, {\n            // ensure sync upward before parent sync down.\n            // this is necessary in cases e.g. the child\n            // mutates a prop array, then replaces it. (#1683)\n            sync: true\n          });\n        });\n      }\n    },\n\n    unbind: function unbind() {\n      this.parentWatcher.teardown();\n      if (this.childWatcher) {\n        this.childWatcher.teardown();\n      }\n    }\n  };\n\n  var component = {\n\n    priority: 1500,\n\n    params: ['keep-alive', 'transition-mode', 'inline-template'],\n\n    /**\n     * Setup. Two possible usages:\n     *\n     * - static:\n     *   <comp> or <div v-component=\"comp\">\n     *\n     * - dynamic:\n     *   <component :is=\"view\">\n     */\n\n    bind: function bind() {\n      if (!this.el.__vue__) {\n        // keep-alive cache\n        this.keepAlive = this.params.keepAlive;\n        if (this.keepAlive) {\n          this.cache = {};\n        }\n        // check inline-template\n        if (this.params.inlineTemplate) {\n          // extract inline template as a DocumentFragment\n          this.inlineTemplate = extractContent(this.el, true);\n        }\n        // component resolution related state\n        this.pendingComponentCb = this.Component = null;\n        // transition related state\n        this.pendingRemovals = 0;\n        this.pendingRemovalCb = null;\n        // create a ref anchor\n        this.anchor = createAnchor('v-component');\n        replace(this.el, this.anchor);\n        // remove is attribute.\n        // this is removed during compilation, but because compilation is\n        // cached, when the component is used elsewhere this attribute\n        // will remain at link time.\n        this.el.removeAttribute('is');\n        // remove ref, same as above\n        if (this.descriptor.ref) {\n          this.el.removeAttribute('v-ref:' + hyphenate(this.descriptor.ref));\n        }\n        // if static, build right now.\n        if (this.literal) {\n          this.setComponent(this.expression);\n        }\n      } else {\n        'development' !== 'production' && warn('cannot mount component \"' + this.expression + '\" ' + 'on already mounted element: ' + this.el);\n      }\n    },\n\n    /**\n     * Public update, called by the watcher in the dynamic\n     * literal scenario, e.g. <component :is=\"view\">\n     */\n\n    update: function update(value) {\n      if (!this.literal) {\n        this.setComponent(value);\n      }\n    },\n\n    /**\n     * Switch dynamic components. May resolve the component\n     * asynchronously, and perform transition based on\n     * specified transition mode. Accepts a few additional\n     * arguments specifically for vue-router.\n     *\n     * The callback is called when the full transition is\n     * finished.\n     *\n     * @param {String} value\n     * @param {Function} [cb]\n     */\n\n    setComponent: function setComponent(value, cb) {\n      this.invalidatePending();\n      if (!value) {\n        // just remove current\n        this.unbuild(true);\n        this.remove(this.childVM, cb);\n        this.childVM = null;\n      } else {\n        var self = this;\n        this.resolveComponent(value, function () {\n          self.mountComponent(cb);\n        });\n      }\n    },\n\n    /**\n     * Resolve the component constructor to use when creating\n     * the child vm.\n     */\n\n    resolveComponent: function resolveComponent(id, cb) {\n      var self = this;\n      this.pendingComponentCb = cancellable(function (Component) {\n        self.ComponentName = Component.options.name || id;\n        self.Component = Component;\n        cb();\n      });\n      this.vm._resolveComponent(id, this.pendingComponentCb);\n    },\n\n    /**\n     * Create a new instance using the current constructor and\n     * replace the existing instance. This method doesn't care\n     * whether the new component and the old one are actually\n     * the same.\n     *\n     * @param {Function} [cb]\n     */\n\n    mountComponent: function mountComponent(cb) {\n      // actual mount\n      this.unbuild(true);\n      var self = this;\n      var activateHook = this.Component.options.activate;\n      var cached = this.getCached();\n      var newComponent = this.build();\n      if (activateHook && !cached) {\n        this.waitingFor = newComponent;\n        activateHook.call(newComponent, function () {\n          if (self.waitingFor !== newComponent) {\n            return;\n          }\n          self.waitingFor = null;\n          self.transition(newComponent, cb);\n        });\n      } else {\n        // update ref for kept-alive component\n        if (cached) {\n          newComponent._updateRef();\n        }\n        this.transition(newComponent, cb);\n      }\n    },\n\n    /**\n     * When the component changes or unbinds before an async\n     * constructor is resolved, we need to invalidate its\n     * pending callback.\n     */\n\n    invalidatePending: function invalidatePending() {\n      if (this.pendingComponentCb) {\n        this.pendingComponentCb.cancel();\n        this.pendingComponentCb = null;\n      }\n    },\n\n    /**\n     * Instantiate/insert a new child vm.\n     * If keep alive and has cached instance, insert that\n     * instance; otherwise build a new one and cache it.\n     *\n     * @param {Object} [extraOptions]\n     * @return {Vue} - the created instance\n     */\n\n    build: function build(extraOptions) {\n      var cached = this.getCached();\n      if (cached) {\n        return cached;\n      }\n      if (this.Component) {\n        // default options\n        var options = {\n          name: this.ComponentName,\n          el: cloneNode(this.el),\n          template: this.inlineTemplate,\n          // make sure to add the child with correct parent\n          // if this is a transcluded component, its parent\n          // should be the transclusion host.\n          parent: this._host || this.vm,\n          // if no inline-template, then the compiled\n          // linker can be cached for better performance.\n          _linkerCachable: !this.inlineTemplate,\n          _ref: this.descriptor.ref,\n          _asComponent: true,\n          _isRouterView: this._isRouterView,\n          // if this is a transcluded component, context\n          // will be the common parent vm of this instance\n          // and its host.\n          _context: this.vm,\n          // if this is inside an inline v-for, the scope\n          // will be the intermediate scope created for this\n          // repeat fragment. this is used for linking props\n          // and container directives.\n          _scope: this._scope,\n          // pass in the owner fragment of this component.\n          // this is necessary so that the fragment can keep\n          // track of its contained components in order to\n          // call attach/detach hooks for them.\n          _frag: this._frag\n        };\n        // extra options\n        // in 1.0.0 this is used by vue-router only\n        /* istanbul ignore if */\n        if (extraOptions) {\n          extend(options, extraOptions);\n        }\n        var child = new this.Component(options);\n        if (this.keepAlive) {\n          this.cache[this.Component.cid] = child;\n        }\n        /* istanbul ignore if */\n        if ('development' !== 'production' && this.el.hasAttribute('transition') && child._isFragment) {\n          warn('Transitions will not work on a fragment instance. ' + 'Template: ' + child.$options.template);\n        }\n        return child;\n      }\n    },\n\n    /**\n     * Try to get a cached instance of the current component.\n     *\n     * @return {Vue|undefined}\n     */\n\n    getCached: function getCached() {\n      return this.keepAlive && this.cache[this.Component.cid];\n    },\n\n    /**\n     * Teardown the current child, but defers cleanup so\n     * that we can separate the destroy and removal steps.\n     *\n     * @param {Boolean} defer\n     */\n\n    unbuild: function unbuild(defer) {\n      if (this.waitingFor) {\n        this.waitingFor.$destroy();\n        this.waitingFor = null;\n      }\n      var child = this.childVM;\n      if (!child || this.keepAlive) {\n        if (child) {\n          // remove ref\n          child._updateRef(true);\n        }\n        return;\n      }\n      // the sole purpose of `deferCleanup` is so that we can\n      // \"deactivate\" the vm right now and perform DOM removal\n      // later.\n      child.$destroy(false, defer);\n    },\n\n    /**\n     * Remove current destroyed child and manually do\n     * the cleanup after removal.\n     *\n     * @param {Function} cb\n     */\n\n    remove: function remove(child, cb) {\n      var keepAlive = this.keepAlive;\n      if (child) {\n        // we may have a component switch when a previous\n        // component is still being transitioned out.\n        // we want to trigger only one lastest insertion cb\n        // when the existing transition finishes. (#1119)\n        this.pendingRemovals++;\n        this.pendingRemovalCb = cb;\n        var self = this;\n        child.$remove(function () {\n          self.pendingRemovals--;\n          if (!keepAlive) child._cleanup();\n          if (!self.pendingRemovals && self.pendingRemovalCb) {\n            self.pendingRemovalCb();\n            self.pendingRemovalCb = null;\n          }\n        });\n      } else if (cb) {\n        cb();\n      }\n    },\n\n    /**\n     * Actually swap the components, depending on the\n     * transition mode. Defaults to simultaneous.\n     *\n     * @param {Vue} target\n     * @param {Function} [cb]\n     */\n\n    transition: function transition(target, cb) {\n      var self = this;\n      var current = this.childVM;\n      // for devtool inspection\n      if ('development' !== 'production') {\n        if (current) current._inactive = true;\n        target._inactive = false;\n      }\n      this.childVM = target;\n      switch (self.params.transitionMode) {\n        case 'in-out':\n          target.$before(self.anchor, function () {\n            self.remove(current, cb);\n          });\n          break;\n        case 'out-in':\n          self.remove(current, function () {\n            target.$before(self.anchor, cb);\n          });\n          break;\n        default:\n          self.remove(current);\n          target.$before(self.anchor, cb);\n      }\n    },\n\n    /**\n     * Unbind.\n     */\n\n    unbind: function unbind() {\n      this.invalidatePending();\n      // Do not defer cleanup when unbinding\n      this.unbuild();\n      // destroy all keep-alive cached instances\n      if (this.cache) {\n        for (var key in this.cache) {\n          this.cache[key].$destroy();\n        }\n        this.cache = null;\n      }\n    }\n  };\n\n  var vClass = {\n\n    deep: true,\n\n    update: function update(value) {\n      if (value && typeof value === 'string') {\n        this.handleObject(stringToObject(value));\n      } else if (isPlainObject(value)) {\n        this.handleObject(value);\n      } else if (isArray(value)) {\n        this.handleArray(value);\n      } else {\n        this.cleanup();\n      }\n    },\n\n    handleObject: function handleObject(value) {\n      this.cleanup(value);\n      var keys = this.prevKeys = Object.keys(value);\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i];\n        if (value[key]) {\n          addClass(this.el, key);\n        } else {\n          removeClass(this.el, key);\n        }\n      }\n    },\n\n    handleArray: function handleArray(value) {\n      this.cleanup(value);\n      for (var i = 0, l = value.length; i < l; i++) {\n        if (value[i]) {\n          addClass(this.el, value[i]);\n        }\n      }\n      this.prevKeys = value.slice();\n    },\n\n    cleanup: function cleanup(value) {\n      if (this.prevKeys) {\n        var i = this.prevKeys.length;\n        while (i--) {\n          var key = this.prevKeys[i];\n          if (key && (!value || !contains$1(value, key))) {\n            removeClass(this.el, key);\n          }\n        }\n      }\n    }\n  };\n\n  function stringToObject(value) {\n    var res = {};\n    var keys = value.trim().split(/\\s+/);\n    var i = keys.length;\n    while (i--) {\n      res[keys[i]] = true;\n    }\n    return res;\n  }\n\n  function contains$1(value, key) {\n    return isArray(value) ? value.indexOf(key) > -1 : hasOwn(value, key);\n  }\n\n  var internalDirectives = {\n    style: style,\n    'class': vClass,\n    component: component,\n    prop: propDef,\n    transition: transition\n  };\n\n  var propBindingModes = config._propBindingModes;\n  var empty = {};\n\n  // regexes\n  var identRE$1 = /^[$_a-zA-Z]+[\\w$]*$/;\n  var settablePathRE = /^[A-Za-z_$][\\w$]*(\\.[A-Za-z_$][\\w$]*|\\[[^\\[\\]]+\\])*$/;\n\n  /**\n   * Compile props on a root element and return\n   * a props link function.\n   *\n   * @param {Element|DocumentFragment} el\n   * @param {Array} propOptions\n   * @return {Function} propsLinkFn\n   */\n\n  function compileProps(el, propOptions) {\n    var props = [];\n    var names = Object.keys(propOptions);\n    var i = names.length;\n    var options, name, attr, value, path, parsed, prop;\n    while (i--) {\n      name = names[i];\n      options = propOptions[name] || empty;\n\n      if ('development' !== 'production' && name === '$data') {\n        warn('Do not use $data as prop.');\n        continue;\n      }\n\n      // props could contain dashes, which will be\n      // interpreted as minus calculations by the parser\n      // so we need to camelize the path here\n      path = camelize(name);\n      if (!identRE$1.test(path)) {\n        'development' !== 'production' && warn('Invalid prop key: \"' + name + '\". Prop keys ' + 'must be valid identifiers.');\n        continue;\n      }\n\n      prop = {\n        name: name,\n        path: path,\n        options: options,\n        mode: propBindingModes.ONE_WAY,\n        raw: null\n      };\n\n      attr = hyphenate(name);\n      // first check dynamic version\n      if ((value = getBindAttr(el, attr)) === null) {\n        if ((value = getBindAttr(el, attr + '.sync')) !== null) {\n          prop.mode = propBindingModes.TWO_WAY;\n        } else if ((value = getBindAttr(el, attr + '.once')) !== null) {\n          prop.mode = propBindingModes.ONE_TIME;\n        }\n      }\n      if (value !== null) {\n        // has dynamic binding!\n        prop.raw = value;\n        parsed = parseDirective(value);\n        value = parsed.expression;\n        prop.filters = parsed.filters;\n        // check binding type\n        if (isLiteral(value)) {\n          // for expressions containing literal numbers and\n          // booleans, there's no need to setup a prop binding,\n          // so we can optimize them as a one-time set.\n          prop.optimizedLiteral = true;\n        } else {\n          prop.dynamic = true;\n          // check non-settable path for two-way bindings\n          if ('development' !== 'production' && prop.mode === propBindingModes.TWO_WAY && !settablePathRE.test(value)) {\n            prop.mode = propBindingModes.ONE_WAY;\n            warn('Cannot bind two-way prop with non-settable ' + 'parent path: ' + value);\n          }\n        }\n        prop.parentPath = value;\n\n        // warn required two-way\n        if ('development' !== 'production' && options.twoWay && prop.mode !== propBindingModes.TWO_WAY) {\n          warn('Prop \"' + name + '\" expects a two-way binding type.');\n        }\n      } else if ((value = getAttr(el, attr)) !== null) {\n        // has literal binding!\n        prop.raw = value;\n      } else if (options.required) {\n        // warn missing required\n        'development' !== 'production' && warn('Missing required prop: ' + name);\n      }\n      // push prop\n      props.push(prop);\n    }\n    return makePropsLinkFn(props);\n  }\n\n  /**\n   * Build a function that applies props to a vm.\n   *\n   * @param {Array} props\n   * @return {Function} propsLinkFn\n   */\n\n  function makePropsLinkFn(props) {\n    return function propsLinkFn(vm, scope) {\n      // store resolved props info\n      vm._props = {};\n      var i = props.length;\n      var prop, path, options, value, raw;\n      while (i--) {\n        prop = props[i];\n        raw = prop.raw;\n        path = prop.path;\n        options = prop.options;\n        vm._props[path] = prop;\n        if (raw === null) {\n          // initialize absent prop\n          initProp(vm, prop, getDefault(vm, options));\n        } else if (prop.dynamic) {\n          // dynamic prop\n          if (vm._context) {\n            if (prop.mode === propBindingModes.ONE_TIME) {\n              // one time binding\n              value = (scope || vm._context).$get(prop.parentPath);\n              initProp(vm, prop, value);\n            } else {\n              // dynamic binding\n              vm._bindDir({\n                name: 'prop',\n                def: propDef,\n                prop: prop\n              }, null, null, scope); // el, host, scope\n            }\n          } else {\n              'development' !== 'production' && warn('Cannot bind dynamic prop on a root instance' + ' with no parent: ' + prop.name + '=\"' + raw + '\"');\n            }\n        } else if (prop.optimizedLiteral) {\n          // optimized literal, cast it and just set once\n          var stripped = stripQuotes(raw);\n          value = stripped === raw ? toBoolean(toNumber(raw)) : stripped;\n          initProp(vm, prop, value);\n        } else {\n          // string literal, but we need to cater for\n          // Boolean props with no value\n          value = options.type === Boolean && raw === '' ? true : raw;\n          initProp(vm, prop, value);\n        }\n      }\n    };\n  }\n\n  /**\n   * Get the default value of a prop.\n   *\n   * @param {Vue} vm\n   * @param {Object} options\n   * @return {*}\n   */\n\n  function getDefault(vm, options) {\n    // no default, return undefined\n    if (!hasOwn(options, 'default')) {\n      // absent boolean value defaults to false\n      return options.type === Boolean ? false : undefined;\n    }\n    var def = options['default'];\n    // warn against non-factory defaults for Object & Array\n    if (isObject(def)) {\n      'development' !== 'production' && warn('Object/Array as default prop values will be shared ' + 'across multiple instances. Use a factory function ' + 'to return the default value instead.');\n    }\n    // call factory function for non-Function types\n    return typeof def === 'function' && options.type !== Function ? def.call(vm) : def;\n  }\n\n  // special binding prefixes\n  var bindRE = /^v-bind:|^:/;\n  var onRE = /^v-on:|^@/;\n  var argRE = /:(.*)$/;\n  var modifierRE = /\\.[^\\.]+/g;\n  var transitionRE = /^(v-bind:|:)?transition$/;\n\n  // terminal directives\n  var terminalDirectives = ['for', 'if'];\n\n  // default directive priority\n  var DEFAULT_PRIORITY = 1000;\n\n  /**\n   * Compile a template and return a reusable composite link\n   * function, which recursively contains more link functions\n   * inside. This top level compile function would normally\n   * be called on instance root nodes, but can also be used\n   * for partial compilation if the partial argument is true.\n   *\n   * The returned composite link function, when called, will\n   * return an unlink function that tearsdown all directives\n   * created during the linking phase.\n   *\n   * @param {Element|DocumentFragment} el\n   * @param {Object} options\n   * @param {Boolean} partial\n   * @return {Function}\n   */\n\n  function compile(el, options, partial) {\n    // link function for the node itself.\n    var nodeLinkFn = partial || !options._asComponent ? compileNode(el, options) : null;\n    // link function for the childNodes\n    var childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && el.tagName !== 'SCRIPT' && el.hasChildNodes() ? compileNodeList(el.childNodes, options) : null;\n\n    /**\n     * A composite linker function to be called on a already\n     * compiled piece of DOM, which instantiates all directive\n     * instances.\n     *\n     * @param {Vue} vm\n     * @param {Element|DocumentFragment} el\n     * @param {Vue} [host] - host vm of transcluded content\n     * @param {Object} [scope] - v-for scope\n     * @param {Fragment} [frag] - link context fragment\n     * @return {Function|undefined}\n     */\n\n    return function compositeLinkFn(vm, el, host, scope, frag) {\n      // cache childNodes before linking parent, fix #657\n      var childNodes = toArray(el.childNodes);\n      // link\n      var dirs = linkAndCapture(function compositeLinkCapturer() {\n        if (nodeLinkFn) nodeLinkFn(vm, el, host, scope, frag);\n        if (childLinkFn) childLinkFn(vm, childNodes, host, scope, frag);\n      }, vm);\n      return makeUnlinkFn(vm, dirs);\n    };\n  }\n\n  /**\n   * Apply a linker to a vm/element pair and capture the\n   * directives created during the process.\n   *\n   * @param {Function} linker\n   * @param {Vue} vm\n   */\n\n  function linkAndCapture(linker, vm) {\n    var originalDirCount = vm._directives.length;\n    linker();\n    var dirs = vm._directives.slice(originalDirCount);\n    dirs.sort(directiveComparator);\n    for (var i = 0, l = dirs.length; i < l; i++) {\n      dirs[i]._bind();\n    }\n    return dirs;\n  }\n\n  /**\n   * Directive priority sort comparator\n   *\n   * @param {Object} a\n   * @param {Object} b\n   */\n\n  function directiveComparator(a, b) {\n    a = a.descriptor.def.priority || DEFAULT_PRIORITY;\n    b = b.descriptor.def.priority || DEFAULT_PRIORITY;\n    return a > b ? -1 : a === b ? 0 : 1;\n  }\n\n  /**\n   * Linker functions return an unlink function that\n   * tearsdown all directives instances generated during\n   * the process.\n   *\n   * We create unlink functions with only the necessary\n   * information to avoid retaining additional closures.\n   *\n   * @param {Vue} vm\n   * @param {Array} dirs\n   * @param {Vue} [context]\n   * @param {Array} [contextDirs]\n   * @return {Function}\n   */\n\n  function makeUnlinkFn(vm, dirs, context, contextDirs) {\n    return function unlink(destroying) {\n      teardownDirs(vm, dirs, destroying);\n      if (context && contextDirs) {\n        teardownDirs(context, contextDirs);\n      }\n    };\n  }\n\n  /**\n   * Teardown partial linked directives.\n   *\n   * @param {Vue} vm\n   * @param {Array} dirs\n   * @param {Boolean} destroying\n   */\n\n  function teardownDirs(vm, dirs, destroying) {\n    var i = dirs.length;\n    while (i--) {\n      dirs[i]._teardown();\n      if (!destroying) {\n        vm._directives.$remove(dirs[i]);\n      }\n    }\n  }\n\n  /**\n   * Compile link props on an instance.\n   *\n   * @param {Vue} vm\n   * @param {Element} el\n   * @param {Object} props\n   * @param {Object} [scope]\n   * @return {Function}\n   */\n\n  function compileAndLinkProps(vm, el, props, scope) {\n    var propsLinkFn = compileProps(el, props);\n    var propDirs = linkAndCapture(function () {\n      propsLinkFn(vm, scope);\n    }, vm);\n    return makeUnlinkFn(vm, propDirs);\n  }\n\n  /**\n   * Compile the root element of an instance.\n   *\n   * 1. attrs on context container (context scope)\n   * 2. attrs on the component template root node, if\n   *    replace:true (child scope)\n   *\n   * If this is a fragment instance, we only need to compile 1.\n   *\n   * @param {Vue} vm\n   * @param {Element} el\n   * @param {Object} options\n   * @param {Object} contextOptions\n   * @return {Function}\n   */\n\n  function compileRoot(el, options, contextOptions) {\n    var containerAttrs = options._containerAttrs;\n    var replacerAttrs = options._replacerAttrs;\n    var contextLinkFn, replacerLinkFn;\n\n    // only need to compile other attributes for\n    // non-fragment instances\n    if (el.nodeType !== 11) {\n      // for components, container and replacer need to be\n      // compiled separately and linked in different scopes.\n      if (options._asComponent) {\n        // 2. container attributes\n        if (containerAttrs && contextOptions) {\n          contextLinkFn = compileDirectives(containerAttrs, contextOptions);\n        }\n        if (replacerAttrs) {\n          // 3. replacer attributes\n          replacerLinkFn = compileDirectives(replacerAttrs, options);\n        }\n      } else {\n        // non-component, just compile as a normal element.\n        replacerLinkFn = compileDirectives(el.attributes, options);\n      }\n    } else if ('development' !== 'production' && containerAttrs) {\n      // warn container directives for fragment instances\n      var names = containerAttrs.filter(function (attr) {\n        // allow vue-loader/vueify scoped css attributes\n        return attr.name.indexOf('_v-') < 0 &&\n        // allow event listeners\n        !onRE.test(attr.name) &&\n        // allow slots\n        attr.name !== 'slot';\n      }).map(function (attr) {\n        return '\"' + attr.name + '\"';\n      });\n      if (names.length) {\n        var plural = names.length > 1;\n        warn('Attribute' + (plural ? 's ' : ' ') + names.join(', ') + (plural ? ' are' : ' is') + ' ignored on component ' + '<' + options.el.tagName.toLowerCase() + '> because ' + 'the component is a fragment instance: ' + 'http://vuejs.org/guide/components.html#Fragment_Instance');\n      }\n    }\n\n    return function rootLinkFn(vm, el, scope) {\n      // link context scope dirs\n      var context = vm._context;\n      var contextDirs;\n      if (context && contextLinkFn) {\n        contextDirs = linkAndCapture(function () {\n          contextLinkFn(context, el, null, scope);\n        }, context);\n      }\n\n      // link self\n      var selfDirs = linkAndCapture(function () {\n        if (replacerLinkFn) replacerLinkFn(vm, el);\n      }, vm);\n\n      // return the unlink function that tearsdown context\n      // container directives.\n      return makeUnlinkFn(vm, selfDirs, context, contextDirs);\n    };\n  }\n\n  /**\n   * Compile a node and return a nodeLinkFn based on the\n   * node type.\n   *\n   * @param {Node} node\n   * @param {Object} options\n   * @return {Function|null}\n   */\n\n  function compileNode(node, options) {\n    var type = node.nodeType;\n    if (type === 1 && node.tagName !== 'SCRIPT') {\n      return compileElement(node, options);\n    } else if (type === 3 && node.data.trim()) {\n      return compileTextNode(node, options);\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Compile an element and return a nodeLinkFn.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Function|null}\n   */\n\n  function compileElement(el, options) {\n    // preprocess textareas.\n    // textarea treats its text content as the initial value.\n    // just bind it as an attr directive for value.\n    if (el.tagName === 'TEXTAREA') {\n      var tokens = parseText(el.value);\n      if (tokens) {\n        el.setAttribute(':value', tokensToExp(tokens));\n        el.value = '';\n      }\n    }\n    var linkFn;\n    var hasAttrs = el.hasAttributes();\n    // check terminal directives (for & if)\n    if (hasAttrs) {\n      linkFn = checkTerminalDirectives(el, options);\n    }\n    // check element directives\n    if (!linkFn) {\n      linkFn = checkElementDirectives(el, options);\n    }\n    // check component\n    if (!linkFn) {\n      linkFn = checkComponent(el, options);\n    }\n    // normal directives\n    if (!linkFn && hasAttrs) {\n      linkFn = compileDirectives(el.attributes, options);\n    }\n    return linkFn;\n  }\n\n  /**\n   * Compile a textNode and return a nodeLinkFn.\n   *\n   * @param {TextNode} node\n   * @param {Object} options\n   * @return {Function|null} textNodeLinkFn\n   */\n\n  function compileTextNode(node, options) {\n    // skip marked text nodes\n    if (node._skip) {\n      return removeText;\n    }\n\n    var tokens = parseText(node.wholeText);\n    if (!tokens) {\n      return null;\n    }\n\n    // mark adjacent text nodes as skipped,\n    // because we are using node.wholeText to compile\n    // all adjacent text nodes together. This fixes\n    // issues in IE where sometimes it splits up a single\n    // text node into multiple ones.\n    var next = node.nextSibling;\n    while (next && next.nodeType === 3) {\n      next._skip = true;\n      next = next.nextSibling;\n    }\n\n    var frag = document.createDocumentFragment();\n    var el, token;\n    for (var i = 0, l = tokens.length; i < l; i++) {\n      token = tokens[i];\n      el = token.tag ? processTextToken(token, options) : document.createTextNode(token.value);\n      frag.appendChild(el);\n    }\n    return makeTextNodeLinkFn(tokens, frag, options);\n  }\n\n  /**\n   * Linker for an skipped text node.\n   *\n   * @param {Vue} vm\n   * @param {Text} node\n   */\n\n  function removeText(vm, node) {\n    remove(node);\n  }\n\n  /**\n   * Process a single text token.\n   *\n   * @param {Object} token\n   * @param {Object} options\n   * @return {Node}\n   */\n\n  function processTextToken(token, options) {\n    var el;\n    if (token.oneTime) {\n      el = document.createTextNode(token.value);\n    } else {\n      if (token.html) {\n        el = document.createComment('v-html');\n        setTokenType('html');\n      } else {\n        // IE will clean up empty textNodes during\n        // frag.cloneNode(true), so we have to give it\n        // something here...\n        el = document.createTextNode(' ');\n        setTokenType('text');\n      }\n    }\n    function setTokenType(type) {\n      if (token.descriptor) return;\n      var parsed = parseDirective(token.value);\n      token.descriptor = {\n        name: type,\n        def: publicDirectives[type],\n        expression: parsed.expression,\n        filters: parsed.filters\n      };\n    }\n    return el;\n  }\n\n  /**\n   * Build a function that processes a textNode.\n   *\n   * @param {Array<Object>} tokens\n   * @param {DocumentFragment} frag\n   */\n\n  function makeTextNodeLinkFn(tokens, frag) {\n    return function textNodeLinkFn(vm, el, host, scope) {\n      var fragClone = frag.cloneNode(true);\n      var childNodes = toArray(fragClone.childNodes);\n      var token, value, node;\n      for (var i = 0, l = tokens.length; i < l; i++) {\n        token = tokens[i];\n        value = token.value;\n        if (token.tag) {\n          node = childNodes[i];\n          if (token.oneTime) {\n            value = (scope || vm).$eval(value);\n            if (token.html) {\n              replace(node, parseTemplate(value, true));\n            } else {\n              node.data = value;\n            }\n          } else {\n            vm._bindDir(token.descriptor, node, host, scope);\n          }\n        }\n      }\n      replace(el, fragClone);\n    };\n  }\n\n  /**\n   * Compile a node list and return a childLinkFn.\n   *\n   * @param {NodeList} nodeList\n   * @param {Object} options\n   * @return {Function|undefined}\n   */\n\n  function compileNodeList(nodeList, options) {\n    var linkFns = [];\n    var nodeLinkFn, childLinkFn, node;\n    for (var i = 0, l = nodeList.length; i < l; i++) {\n      node = nodeList[i];\n      nodeLinkFn = compileNode(node, options);\n      childLinkFn = !(nodeLinkFn && nodeLinkFn.terminal) && node.tagName !== 'SCRIPT' && node.hasChildNodes() ? compileNodeList(node.childNodes, options) : null;\n      linkFns.push(nodeLinkFn, childLinkFn);\n    }\n    return linkFns.length ? makeChildLinkFn(linkFns) : null;\n  }\n\n  /**\n   * Make a child link function for a node's childNodes.\n   *\n   * @param {Array<Function>} linkFns\n   * @return {Function} childLinkFn\n   */\n\n  function makeChildLinkFn(linkFns) {\n    return function childLinkFn(vm, nodes, host, scope, frag) {\n      var node, nodeLinkFn, childrenLinkFn;\n      for (var i = 0, n = 0, l = linkFns.length; i < l; n++) {\n        node = nodes[n];\n        nodeLinkFn = linkFns[i++];\n        childrenLinkFn = linkFns[i++];\n        // cache childNodes before linking parent, fix #657\n        var childNodes = toArray(node.childNodes);\n        if (nodeLinkFn) {\n          nodeLinkFn(vm, node, host, scope, frag);\n        }\n        if (childrenLinkFn) {\n          childrenLinkFn(vm, childNodes, host, scope, frag);\n        }\n      }\n    };\n  }\n\n  /**\n   * Check for element directives (custom elements that should\n   * be resovled as terminal directives).\n   *\n   * @param {Element} el\n   * @param {Object} options\n   */\n\n  function checkElementDirectives(el, options) {\n    var tag = el.tagName.toLowerCase();\n    if (commonTagRE.test(tag)) return;\n    // special case: give named slot a higher priority\n    // than unnamed slots\n    if (tag === 'slot' && hasBindAttr(el, 'name')) {\n      tag = '_namedSlot';\n    }\n    var def = resolveAsset(options, 'elementDirectives', tag);\n    if (def) {\n      return makeTerminalNodeLinkFn(el, tag, '', options, def);\n    }\n  }\n\n  /**\n   * Check if an element is a component. If yes, return\n   * a component link function.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Function|undefined}\n   */\n\n  function checkComponent(el, options) {\n    var component = checkComponentAttr(el, options);\n    if (component) {\n      var ref = findRef(el);\n      var descriptor = {\n        name: 'component',\n        ref: ref,\n        expression: component.id,\n        def: internalDirectives.component,\n        modifiers: {\n          literal: !component.dynamic\n        }\n      };\n      var componentLinkFn = function componentLinkFn(vm, el, host, scope, frag) {\n        if (ref) {\n          defineReactive((scope || vm).$refs, ref, null);\n        }\n        vm._bindDir(descriptor, el, host, scope, frag);\n      };\n      componentLinkFn.terminal = true;\n      return componentLinkFn;\n    }\n  }\n\n  /**\n   * Check an element for terminal directives in fixed order.\n   * If it finds one, return a terminal link function.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Function} terminalLinkFn\n   */\n\n  function checkTerminalDirectives(el, options) {\n    // skip v-pre\n    if (getAttr(el, 'v-pre') !== null) {\n      return skip;\n    }\n    // skip v-else block, but only if following v-if\n    if (el.hasAttribute('v-else')) {\n      var prev = el.previousElementSibling;\n      if (prev && prev.hasAttribute('v-if')) {\n        return skip;\n      }\n    }\n    var value, dirName;\n    for (var i = 0, l = terminalDirectives.length; i < l; i++) {\n      dirName = terminalDirectives[i];\n      /* eslint-disable no-cond-assign */\n      if (value = el.getAttribute('v-' + dirName)) {\n        return makeTerminalNodeLinkFn(el, dirName, value, options);\n      }\n      /* eslint-enable no-cond-assign */\n    }\n  }\n\n  function skip() {}\n  skip.terminal = true;\n\n  /**\n   * Build a node link function for a terminal directive.\n   * A terminal link function terminates the current\n   * compilation recursion and handles compilation of the\n   * subtree in the directive.\n   *\n   * @param {Element} el\n   * @param {String} dirName\n   * @param {String} value\n   * @param {Object} options\n   * @param {Object} [def]\n   * @return {Function} terminalLinkFn\n   */\n\n  function makeTerminalNodeLinkFn(el, dirName, value, options, def) {\n    var parsed = parseDirective(value);\n    var descriptor = {\n      name: dirName,\n      expression: parsed.expression,\n      filters: parsed.filters,\n      raw: value,\n      // either an element directive, or if/for\n      def: def || publicDirectives[dirName]\n    };\n    // check ref for v-for and router-view\n    if (dirName === 'for' || dirName === 'router-view') {\n      descriptor.ref = findRef(el);\n    }\n    var fn = function terminalNodeLinkFn(vm, el, host, scope, frag) {\n      if (descriptor.ref) {\n        defineReactive((scope || vm).$refs, descriptor.ref, null);\n      }\n      vm._bindDir(descriptor, el, host, scope, frag);\n    };\n    fn.terminal = true;\n    return fn;\n  }\n\n  /**\n   * Compile the directives on an element and return a linker.\n   *\n   * @param {Array|NamedNodeMap} attrs\n   * @param {Object} options\n   * @return {Function}\n   */\n\n  function compileDirectives(attrs, options) {\n    var i = attrs.length;\n    var dirs = [];\n    var attr, name, value, rawName, rawValue, dirName, arg, modifiers, dirDef, tokens;\n    while (i--) {\n      attr = attrs[i];\n      name = rawName = attr.name;\n      value = rawValue = attr.value;\n      tokens = parseText(value);\n      // reset arg\n      arg = null;\n      // check modifiers\n      modifiers = parseModifiers(name);\n      name = name.replace(modifierRE, '');\n\n      // attribute interpolations\n      if (tokens) {\n        value = tokensToExp(tokens);\n        if (name === 'class') {\n          pushDir('class', internalDirectives['class'], true);\n        } else {\n          arg = name;\n          pushDir('bind', publicDirectives.bind, true);\n        }\n        // warn against mixing mustaches with v-bind\n        if ('development' !== 'production') {\n          if (name === 'class' && Array.prototype.some.call(attrs, function (attr) {\n            return attr.name === ':class' || attr.name === 'v-bind:class';\n          })) {\n            warn('class=\"' + rawValue + '\": Do not mix mustache interpolation ' + 'and v-bind for \"class\" on the same element. Use one or the other.');\n          }\n        }\n      } else\n\n        // special attribute: transition\n        if (transitionRE.test(name)) {\n          modifiers.literal = !bindRE.test(name);\n          pushDir('transition', internalDirectives.transition);\n        } else\n\n          // event handlers\n          if (onRE.test(name)) {\n            arg = name.replace(onRE, '');\n            pushDir('on', publicDirectives.on);\n          } else\n\n            // attribute bindings\n            if (bindRE.test(name)) {\n              dirName = name.replace(bindRE, '');\n              if (dirName === 'style' || dirName === 'class') {\n                pushDir(dirName, internalDirectives[dirName]);\n              } else {\n                arg = dirName;\n                pushDir('bind', publicDirectives.bind);\n              }\n            } else\n\n              // normal directives\n              if (name.indexOf('v-') === 0) {\n                // check arg\n                arg = (arg = name.match(argRE)) && arg[1];\n                if (arg) {\n                  name = name.replace(argRE, '');\n                }\n                // extract directive name\n                dirName = name.slice(2);\n\n                // skip v-else (when used with v-show)\n                if (dirName === 'else') {\n                  continue;\n                }\n\n                dirDef = resolveAsset(options, 'directives', dirName);\n\n                if ('development' !== 'production') {\n                  assertAsset(dirDef, 'directive', dirName);\n                }\n\n                if (dirDef) {\n                  pushDir(dirName, dirDef);\n                }\n              }\n    }\n\n    /**\n     * Push a directive.\n     *\n     * @param {String} dirName\n     * @param {Object|Function} def\n     * @param {Boolean} [interp]\n     */\n\n    function pushDir(dirName, def, interp) {\n      var parsed = parseDirective(value);\n      dirs.push({\n        name: dirName,\n        attr: rawName,\n        raw: rawValue,\n        def: def,\n        arg: arg,\n        modifiers: modifiers,\n        expression: parsed.expression,\n        filters: parsed.filters,\n        interp: interp\n      });\n    }\n\n    if (dirs.length) {\n      return makeNodeLinkFn(dirs);\n    }\n  }\n\n  /**\n   * Parse modifiers from directive attribute name.\n   *\n   * @param {String} name\n   * @return {Object}\n   */\n\n  function parseModifiers(name) {\n    var res = Object.create(null);\n    var match = name.match(modifierRE);\n    if (match) {\n      var i = match.length;\n      while (i--) {\n        res[match[i].slice(1)] = true;\n      }\n    }\n    return res;\n  }\n\n  /**\n   * Build a link function for all directives on a single node.\n   *\n   * @param {Array} directives\n   * @return {Function} directivesLinkFn\n   */\n\n  function makeNodeLinkFn(directives) {\n    return function nodeLinkFn(vm, el, host, scope, frag) {\n      // reverse apply because it's sorted low to high\n      var i = directives.length;\n      while (i--) {\n        vm._bindDir(directives[i], el, host, scope, frag);\n      }\n    };\n  }\n\n  var specialCharRE = /[^\\w\\-:\\.]/;\n\n  /**\n   * Process an element or a DocumentFragment based on a\n   * instance option object. This allows us to transclude\n   * a template node/fragment before the instance is created,\n   * so the processed fragment can then be cloned and reused\n   * in v-for.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Element|DocumentFragment}\n   */\n\n  function transclude(el, options) {\n    // extract container attributes to pass them down\n    // to compiler, because they need to be compiled in\n    // parent scope. we are mutating the options object here\n    // assuming the same object will be used for compile\n    // right after this.\n    if (options) {\n      options._containerAttrs = extractAttrs(el);\n    }\n    // for template tags, what we want is its content as\n    // a documentFragment (for fragment instances)\n    if (isTemplate(el)) {\n      el = parseTemplate(el);\n    }\n    if (options) {\n      if (options._asComponent && !options.template) {\n        options.template = '<slot></slot>';\n      }\n      if (options.template) {\n        options._content = extractContent(el);\n        el = transcludeTemplate(el, options);\n      }\n    }\n    if (el instanceof DocumentFragment) {\n      // anchors for fragment instance\n      // passing in `persist: true` to avoid them being\n      // discarded by IE during template cloning\n      prepend(createAnchor('v-start', true), el);\n      el.appendChild(createAnchor('v-end', true));\n    }\n    return el;\n  }\n\n  /**\n   * Process the template option.\n   * If the replace option is true this will swap the $el.\n   *\n   * @param {Element} el\n   * @param {Object} options\n   * @return {Element|DocumentFragment}\n   */\n\n  function transcludeTemplate(el, options) {\n    var template = options.template;\n    var frag = parseTemplate(template, true);\n    if (frag) {\n      var replacer = frag.firstChild;\n      var tag = replacer.tagName && replacer.tagName.toLowerCase();\n      if (options.replace) {\n        /* istanbul ignore if */\n        if (el === document.body) {\n          'development' !== 'production' && warn('You are mounting an instance with a template to ' + '<body>. This will replace <body> entirely. You ' + 'should probably use `replace: false` here.');\n        }\n        // there are many cases where the instance must\n        // become a fragment instance: basically anything that\n        // can create more than 1 root nodes.\n        if (\n        // multi-children template\n        frag.childNodes.length > 1 ||\n        // non-element template\n        replacer.nodeType !== 1 ||\n        // single nested component\n        tag === 'component' || resolveAsset(options, 'components', tag) || hasBindAttr(replacer, 'is') ||\n        // element directive\n        resolveAsset(options, 'elementDirectives', tag) ||\n        // for block\n        replacer.hasAttribute('v-for') ||\n        // if block\n        replacer.hasAttribute('v-if')) {\n          return frag;\n        } else {\n          options._replacerAttrs = extractAttrs(replacer);\n          mergeAttrs(el, replacer);\n          return replacer;\n        }\n      } else {\n        el.appendChild(frag);\n        return el;\n      }\n    } else {\n      'development' !== 'production' && warn('Invalid template option: ' + template);\n    }\n  }\n\n  /**\n   * Helper to extract a component container's attributes\n   * into a plain object array.\n   *\n   * @param {Element} el\n   * @return {Array}\n   */\n\n  function extractAttrs(el) {\n    if (el.nodeType === 1 && el.hasAttributes()) {\n      return toArray(el.attributes);\n    }\n  }\n\n  /**\n   * Merge the attributes of two elements, and make sure\n   * the class names are merged properly.\n   *\n   * @param {Element} from\n   * @param {Element} to\n   */\n\n  function mergeAttrs(from, to) {\n    var attrs = from.attributes;\n    var i = attrs.length;\n    var name, value;\n    while (i--) {\n      name = attrs[i].name;\n      value = attrs[i].value;\n      if (!to.hasAttribute(name) && !specialCharRE.test(name)) {\n        to.setAttribute(name, value);\n      } else if (name === 'class') {\n        value.split(/\\s+/).forEach(function (cls) {\n          addClass(to, cls);\n        });\n      }\n    }\n  }\n\n  var compiler = Object.freeze({\n    compile: compile,\n    compileAndLinkProps: compileAndLinkProps,\n    compileRoot: compileRoot,\n    transclude: transclude\n  });\n\n  function stateMixin (Vue) {\n\n    /**\n     * Accessor for `$data` property, since setting $data\n     * requires observing the new object and updating\n     * proxied properties.\n     */\n\n    Object.defineProperty(Vue.prototype, '$data', {\n      get: function get() {\n        return this._data;\n      },\n      set: function set(newData) {\n        if (newData !== this._data) {\n          this._setData(newData);\n        }\n      }\n    });\n\n    /**\n     * Setup the scope of an instance, which contains:\n     * - observed data\n     * - computed properties\n     * - user methods\n     * - meta properties\n     */\n\n    Vue.prototype._initState = function () {\n      this._initProps();\n      this._initMeta();\n      this._initMethods();\n      this._initData();\n      this._initComputed();\n    };\n\n    /**\n     * Initialize props.\n     */\n\n    Vue.prototype._initProps = function () {\n      var options = this.$options;\n      var el = options.el;\n      var props = options.props;\n      if (props && !el) {\n        'development' !== 'production' && warn('Props will not be compiled if no `el` option is ' + 'provided at instantiation.');\n      }\n      // make sure to convert string selectors into element now\n      el = options.el = query(el);\n      this._propsUnlinkFn = el && el.nodeType === 1 && props\n      // props must be linked in proper scope if inside v-for\n      ? compileAndLinkProps(this, el, props, this._scope) : null;\n    };\n\n    /**\n     * Initialize the data.\n     */\n\n    Vue.prototype._initData = function () {\n      var propsData = this._data;\n      var optionsDataFn = this.$options.data;\n      var optionsData = optionsDataFn && optionsDataFn();\n      if (optionsData) {\n        this._data = optionsData;\n        for (var prop in propsData) {\n          if ('development' !== 'production' && hasOwn(optionsData, prop)) {\n            warn('Data field \"' + prop + '\" is already defined ' + 'as a prop. Use prop default value instead.');\n          }\n          if (this._props[prop].raw !== null || !hasOwn(optionsData, prop)) {\n            set(optionsData, prop, propsData[prop]);\n          }\n        }\n      }\n      var data = this._data;\n      // proxy data on instance\n      var keys = Object.keys(data);\n      var i, key;\n      i = keys.length;\n      while (i--) {\n        key = keys[i];\n        this._proxy(key);\n      }\n      // observe data\n      observe(data, this);\n    };\n\n    /**\n     * Swap the instance's $data. Called in $data's setter.\n     *\n     * @param {Object} newData\n     */\n\n    Vue.prototype._setData = function (newData) {\n      newData = newData || {};\n      var oldData = this._data;\n      this._data = newData;\n      var keys, key, i;\n      // unproxy keys not present in new data\n      keys = Object.keys(oldData);\n      i = keys.length;\n      while (i--) {\n        key = keys[i];\n        if (!(key in newData)) {\n          this._unproxy(key);\n        }\n      }\n      // proxy keys not already proxied,\n      // and trigger change for changed values\n      keys = Object.keys(newData);\n      i = keys.length;\n      while (i--) {\n        key = keys[i];\n        if (!hasOwn(this, key)) {\n          // new property\n          this._proxy(key);\n        }\n      }\n      oldData.__ob__.removeVm(this);\n      observe(newData, this);\n      this._digest();\n    };\n\n    /**\n     * Proxy a property, so that\n     * vm.prop === vm._data.prop\n     *\n     * @param {String} key\n     */\n\n    Vue.prototype._proxy = function (key) {\n      if (!isReserved(key)) {\n        // need to store ref to self here\n        // because these getter/setters might\n        // be called by child scopes via\n        // prototype inheritance.\n        var self = this;\n        Object.defineProperty(self, key, {\n          configurable: true,\n          enumerable: true,\n          get: function proxyGetter() {\n            return self._data[key];\n          },\n          set: function proxySetter(val) {\n            self._data[key] = val;\n          }\n        });\n      }\n    };\n\n    /**\n     * Unproxy a property.\n     *\n     * @param {String} key\n     */\n\n    Vue.prototype._unproxy = function (key) {\n      if (!isReserved(key)) {\n        delete this[key];\n      }\n    };\n\n    /**\n     * Force update on every watcher in scope.\n     */\n\n    Vue.prototype._digest = function () {\n      for (var i = 0, l = this._watchers.length; i < l; i++) {\n        this._watchers[i].update(true); // shallow updates\n      }\n    };\n\n    /**\n     * Setup computed properties. They are essentially\n     * special getter/setters\n     */\n\n    function noop() {}\n    Vue.prototype._initComputed = function () {\n      var computed = this.$options.computed;\n      if (computed) {\n        for (var key in computed) {\n          var userDef = computed[key];\n          var def = {\n            enumerable: true,\n            configurable: true\n          };\n          if (typeof userDef === 'function') {\n            def.get = makeComputedGetter(userDef, this);\n            def.set = noop;\n          } else {\n            def.get = userDef.get ? userDef.cache !== false ? makeComputedGetter(userDef.get, this) : bind$1(userDef.get, this) : noop;\n            def.set = userDef.set ? bind$1(userDef.set, this) : noop;\n          }\n          Object.defineProperty(this, key, def);\n        }\n      }\n    };\n\n    function makeComputedGetter(getter, owner) {\n      var watcher = new Watcher(owner, getter, null, {\n        lazy: true\n      });\n      return function computedGetter() {\n        if (watcher.dirty) {\n          watcher.evaluate();\n        }\n        if (Dep.target) {\n          watcher.depend();\n        }\n        return watcher.value;\n      };\n    }\n\n    /**\n     * Setup instance methods. Methods must be bound to the\n     * instance since they might be passed down as a prop to\n     * child components.\n     */\n\n    Vue.prototype._initMethods = function () {\n      var methods = this.$options.methods;\n      if (methods) {\n        for (var key in methods) {\n          this[key] = bind$1(methods[key], this);\n        }\n      }\n    };\n\n    /**\n     * Initialize meta information like $index, $key & $value.\n     */\n\n    Vue.prototype._initMeta = function () {\n      var metas = this.$options._meta;\n      if (metas) {\n        for (var key in metas) {\n          defineReactive(this, key, metas[key]);\n        }\n      }\n    };\n  }\n\n  var eventRE = /^v-on:|^@/;\n\n  function eventsMixin (Vue) {\n\n    /**\n     * Setup the instance's option events & watchers.\n     * If the value is a string, we pull it from the\n     * instance's methods by name.\n     */\n\n    Vue.prototype._initEvents = function () {\n      var options = this.$options;\n      if (options._asComponent) {\n        registerComponentEvents(this, options.el);\n      }\n      registerCallbacks(this, '$on', options.events);\n      registerCallbacks(this, '$watch', options.watch);\n    };\n\n    /**\n     * Register v-on events on a child component\n     *\n     * @param {Vue} vm\n     * @param {Element} el\n     */\n\n    function registerComponentEvents(vm, el) {\n      var attrs = el.attributes;\n      var name, handler;\n      for (var i = 0, l = attrs.length; i < l; i++) {\n        name = attrs[i].name;\n        if (eventRE.test(name)) {\n          name = name.replace(eventRE, '');\n          handler = (vm._scope || vm._context).$eval(attrs[i].value, true);\n          vm.$on(name.replace(eventRE), handler);\n        }\n      }\n    }\n\n    /**\n     * Register callbacks for option events and watchers.\n     *\n     * @param {Vue} vm\n     * @param {String} action\n     * @param {Object} hash\n     */\n\n    function registerCallbacks(vm, action, hash) {\n      if (!hash) return;\n      var handlers, key, i, j;\n      for (key in hash) {\n        handlers = hash[key];\n        if (isArray(handlers)) {\n          for (i = 0, j = handlers.length; i < j; i++) {\n            register(vm, action, key, handlers[i]);\n          }\n        } else {\n          register(vm, action, key, handlers);\n        }\n      }\n    }\n\n    /**\n     * Helper to register an event/watch callback.\n     *\n     * @param {Vue} vm\n     * @param {String} action\n     * @param {String} key\n     * @param {Function|String|Object} handler\n     * @param {Object} [options]\n     */\n\n    function register(vm, action, key, handler, options) {\n      var type = typeof handler;\n      if (type === 'function') {\n        vm[action](key, handler, options);\n      } else if (type === 'string') {\n        var methods = vm.$options.methods;\n        var method = methods && methods[handler];\n        if (method) {\n          vm[action](key, method, options);\n        } else {\n          'development' !== 'production' && warn('Unknown method: \"' + handler + '\" when ' + 'registering callback for ' + action + ': \"' + key + '\".');\n        }\n      } else if (handler && type === 'object') {\n        register(vm, action, key, handler.handler, handler);\n      }\n    }\n\n    /**\n     * Setup recursive attached/detached calls\n     */\n\n    Vue.prototype._initDOMHooks = function () {\n      this.$on('hook:attached', onAttached);\n      this.$on('hook:detached', onDetached);\n    };\n\n    /**\n     * Callback to recursively call attached hook on children\n     */\n\n    function onAttached() {\n      if (!this._isAttached) {\n        this._isAttached = true;\n        this.$children.forEach(callAttach);\n      }\n    }\n\n    /**\n     * Iterator to call attached hook\n     *\n     * @param {Vue} child\n     */\n\n    function callAttach(child) {\n      if (!child._isAttached && inDoc(child.$el)) {\n        child._callHook('attached');\n      }\n    }\n\n    /**\n     * Callback to recursively call detached hook on children\n     */\n\n    function onDetached() {\n      if (this._isAttached) {\n        this._isAttached = false;\n        this.$children.forEach(callDetach);\n      }\n    }\n\n    /**\n     * Iterator to call detached hook\n     *\n     * @param {Vue} child\n     */\n\n    function callDetach(child) {\n      if (child._isAttached && !inDoc(child.$el)) {\n        child._callHook('detached');\n      }\n    }\n\n    /**\n     * Trigger all handlers for a hook\n     *\n     * @param {String} hook\n     */\n\n    Vue.prototype._callHook = function (hook) {\n      var handlers = this.$options[hook];\n      if (handlers) {\n        for (var i = 0, j = handlers.length; i < j; i++) {\n          handlers[i].call(this);\n        }\n      }\n      this.$emit('hook:' + hook);\n    };\n  }\n\n  function noop() {}\n\n  /**\n   * A directive links a DOM element with a piece of data,\n   * which is the result of evaluating an expression.\n   * It registers a watcher with the expression and calls\n   * the DOM update function when a change is triggered.\n   *\n   * @param {String} name\n   * @param {Node} el\n   * @param {Vue} vm\n   * @param {Object} descriptor\n   *                 - {String} name\n   *                 - {Object} def\n   *                 - {String} expression\n   *                 - {Array<Object>} [filters]\n   *                 - {Boolean} literal\n   *                 - {String} attr\n   *                 - {String} raw\n   * @param {Object} def - directive definition object\n   * @param {Vue} [host] - transclusion host component\n   * @param {Object} [scope] - v-for scope\n   * @param {Fragment} [frag] - owner fragment\n   * @constructor\n   */\n  function Directive(descriptor, vm, el, host, scope, frag) {\n    this.vm = vm;\n    this.el = el;\n    // copy descriptor properties\n    this.descriptor = descriptor;\n    this.name = descriptor.name;\n    this.expression = descriptor.expression;\n    this.arg = descriptor.arg;\n    this.modifiers = descriptor.modifiers;\n    this.filters = descriptor.filters;\n    this.literal = this.modifiers && this.modifiers.literal;\n    // private\n    this._locked = false;\n    this._bound = false;\n    this._listeners = null;\n    // link context\n    this._host = host;\n    this._scope = scope;\n    this._frag = frag;\n    // store directives on node in dev mode\n    if ('development' !== 'production' && this.el) {\n      this.el._vue_directives = this.el._vue_directives || [];\n      this.el._vue_directives.push(this);\n    }\n  }\n\n  /**\n   * Initialize the directive, mixin definition properties,\n   * setup the watcher, call definition bind() and update()\n   * if present.\n   *\n   * @param {Object} def\n   */\n\n  Directive.prototype._bind = function () {\n    var name = this.name;\n    var descriptor = this.descriptor;\n\n    // remove attribute\n    if ((name !== 'cloak' || this.vm._isCompiled) && this.el && this.el.removeAttribute) {\n      var attr = descriptor.attr || 'v-' + name;\n      if (attr !== 'class') {\n        this.el.removeAttribute(attr);\n      } else {\n        // for class interpolations, only remove the parts that\n        // need to be interpolated.\n        setClass(this.el, removeTags(this.el.getAttribute('class')).trim().replace(/\\s+/g, ' '));\n      }\n    }\n\n    // copy def properties\n    var def = descriptor.def;\n    if (typeof def === 'function') {\n      this.update = def;\n    } else {\n      extend(this, def);\n    }\n\n    // setup directive params\n    this._setupParams();\n\n    // initial bind\n    if (this.bind) {\n      this.bind();\n    }\n    this._bound = true;\n\n    if (this.literal) {\n      this.update && this.update(descriptor.raw);\n    } else if ((this.expression || this.modifiers) && (this.update || this.twoWay) && !this._checkStatement()) {\n      // wrapped updater for context\n      var dir = this;\n      if (this.update) {\n        this._update = function (val, oldVal) {\n          if (!dir._locked) {\n            dir.update(val, oldVal);\n          }\n        };\n      } else {\n        this._update = noop;\n      }\n      var preProcess = this._preProcess ? bind$1(this._preProcess, this) : null;\n      var postProcess = this._postProcess ? bind$1(this._postProcess, this) : null;\n      var watcher = this._watcher = new Watcher(this.vm, this.expression, this._update, // callback\n      {\n        filters: this.filters,\n        twoWay: this.twoWay,\n        deep: this.deep,\n        preProcess: preProcess,\n        postProcess: postProcess,\n        scope: this._scope\n      });\n      // v-model with inital inline value need to sync back to\n      // model instead of update to DOM on init. They would\n      // set the afterBind hook to indicate that.\n      if (this.afterBind) {\n        this.afterBind();\n      } else if (this.update) {\n        this.update(watcher.value);\n      }\n    }\n  };\n\n  /**\n   * Setup all param attributes, e.g. track-by,\n   * transition-mode, etc...\n   */\n\n  Directive.prototype._setupParams = function () {\n    if (!this.params) {\n      return;\n    }\n    var params = this.params;\n    // swap the params array with a fresh object.\n    this.params = Object.create(null);\n    var i = params.length;\n    var key, val, mappedKey;\n    while (i--) {\n      key = params[i];\n      mappedKey = camelize(key);\n      val = getBindAttr(this.el, key);\n      if (val != null) {\n        // dynamic\n        this._setupParamWatcher(mappedKey, val);\n      } else {\n        // static\n        val = getAttr(this.el, key);\n        if (val != null) {\n          this.params[mappedKey] = val === '' ? true : val;\n        }\n      }\n    }\n  };\n\n  /**\n   * Setup a watcher for a dynamic param.\n   *\n   * @param {String} key\n   * @param {String} expression\n   */\n\n  Directive.prototype._setupParamWatcher = function (key, expression) {\n    var self = this;\n    var called = false;\n    var unwatch = (this._scope || this.vm).$watch(expression, function (val, oldVal) {\n      self.params[key] = val;\n      // since we are in immediate mode,\n      // only call the param change callbacks if this is not the first update.\n      if (called) {\n        var cb = self.paramWatchers && self.paramWatchers[key];\n        if (cb) {\n          cb.call(self, val, oldVal);\n        }\n      } else {\n        called = true;\n      }\n    }, {\n      immediate: true\n    });(this._paramUnwatchFns || (this._paramUnwatchFns = [])).push(unwatch);\n  };\n\n  /**\n   * Check if the directive is a function caller\n   * and if the expression is a callable one. If both true,\n   * we wrap up the expression and use it as the event\n   * handler.\n   *\n   * e.g. on-click=\"a++\"\n   *\n   * @return {Boolean}\n   */\n\n  Directive.prototype._checkStatement = function () {\n    var expression = this.expression;\n    if (expression && this.acceptStatement && !isSimplePath(expression)) {\n      var fn = parseExpression(expression).get;\n      var scope = this._scope || this.vm;\n      var handler = function handler(e) {\n        scope.$event = e;\n        fn.call(scope, scope);\n        scope.$event = null;\n      };\n      if (this.filters) {\n        handler = scope._applyFilters(handler, null, this.filters);\n      }\n      this.update(handler);\n      return true;\n    }\n  };\n\n  /**\n   * Set the corresponding value with the setter.\n   * This should only be used in two-way directives\n   * e.g. v-model.\n   *\n   * @param {*} value\n   * @public\n   */\n\n  Directive.prototype.set = function (value) {\n    /* istanbul ignore else */\n    if (this.twoWay) {\n      this._withLock(function () {\n        this._watcher.set(value);\n      });\n    } else if ('development' !== 'production') {\n      warn('Directive.set() can only be used inside twoWay' + 'directives.');\n    }\n  };\n\n  /**\n   * Execute a function while preventing that function from\n   * triggering updates on this directive instance.\n   *\n   * @param {Function} fn\n   */\n\n  Directive.prototype._withLock = function (fn) {\n    var self = this;\n    self._locked = true;\n    fn.call(self);\n    nextTick(function () {\n      self._locked = false;\n    });\n  };\n\n  /**\n   * Convenience method that attaches a DOM event listener\n   * to the directive element and autometically tears it down\n   * during unbind.\n   *\n   * @param {String} event\n   * @param {Function} handler\n   */\n\n  Directive.prototype.on = function (event, handler) {\n    on$1(this.el, event, handler);(this._listeners || (this._listeners = [])).push([event, handler]);\n  };\n\n  /**\n   * Teardown the watcher and call unbind.\n   */\n\n  Directive.prototype._teardown = function () {\n    if (this._bound) {\n      this._bound = false;\n      if (this.unbind) {\n        this.unbind();\n      }\n      if (this._watcher) {\n        this._watcher.teardown();\n      }\n      var listeners = this._listeners;\n      var i;\n      if (listeners) {\n        i = listeners.length;\n        while (i--) {\n          off(this.el, listeners[i][0], listeners[i][1]);\n        }\n      }\n      var unwatchFns = this._paramUnwatchFns;\n      if (unwatchFns) {\n        i = unwatchFns.length;\n        while (i--) {\n          unwatchFns[i]();\n        }\n      }\n      if ('development' !== 'production' && this.el) {\n        this.el._vue_directives.$remove(this);\n      }\n      this.vm = this.el = this._watcher = this._listeners = null;\n    }\n  };\n\n  function lifecycleMixin (Vue) {\n\n    /**\n     * Update v-ref for component.\n     *\n     * @param {Boolean} remove\n     */\n\n    Vue.prototype._updateRef = function (remove) {\n      var ref = this.$options._ref;\n      if (ref) {\n        var refs = (this._scope || this._context).$refs;\n        if (remove) {\n          if (refs[ref] === this) {\n            refs[ref] = null;\n          }\n        } else {\n          refs[ref] = this;\n        }\n      }\n    };\n\n    /**\n     * Transclude, compile and link element.\n     *\n     * If a pre-compiled linker is available, that means the\n     * passed in element will be pre-transcluded and compiled\n     * as well - all we need to do is to call the linker.\n     *\n     * Otherwise we need to call transclude/compile/link here.\n     *\n     * @param {Element} el\n     * @return {Element}\n     */\n\n    Vue.prototype._compile = function (el) {\n      var options = this.$options;\n\n      // transclude and init element\n      // transclude can potentially replace original\n      // so we need to keep reference; this step also injects\n      // the template and caches the original attributes\n      // on the container node and replacer node.\n      var original = el;\n      el = transclude(el, options);\n      this._initElement(el);\n\n      // handle v-pre on root node (#2026)\n      if (el.nodeType === 1 && getAttr(el, 'v-pre') !== null) {\n        return;\n      }\n\n      // root is always compiled per-instance, because\n      // container attrs and props can be different every time.\n      var contextOptions = this._context && this._context.$options;\n      var rootLinker = compileRoot(el, options, contextOptions);\n\n      // compile and link the rest\n      var contentLinkFn;\n      var ctor = this.constructor;\n      // component compilation can be cached\n      // as long as it's not using inline-template\n      if (options._linkerCachable) {\n        contentLinkFn = ctor.linker;\n        if (!contentLinkFn) {\n          contentLinkFn = ctor.linker = compile(el, options);\n        }\n      }\n\n      // link phase\n      // make sure to link root with prop scope!\n      var rootUnlinkFn = rootLinker(this, el, this._scope);\n      var contentUnlinkFn = contentLinkFn ? contentLinkFn(this, el) : compile(el, options)(this, el);\n\n      // register composite unlink function\n      // to be called during instance destruction\n      this._unlinkFn = function () {\n        rootUnlinkFn();\n        // passing destroying: true to avoid searching and\n        // splicing the directives\n        contentUnlinkFn(true);\n      };\n\n      // finally replace original\n      if (options.replace) {\n        replace(original, el);\n      }\n\n      this._isCompiled = true;\n      this._callHook('compiled');\n      return el;\n    };\n\n    /**\n     * Initialize instance element. Called in the public\n     * $mount() method.\n     *\n     * @param {Element} el\n     */\n\n    Vue.prototype._initElement = function (el) {\n      if (el instanceof DocumentFragment) {\n        this._isFragment = true;\n        this.$el = this._fragmentStart = el.firstChild;\n        this._fragmentEnd = el.lastChild;\n        // set persisted text anchors to empty\n        if (this._fragmentStart.nodeType === 3) {\n          this._fragmentStart.data = this._fragmentEnd.data = '';\n        }\n        this._fragment = el;\n      } else {\n        this.$el = el;\n      }\n      this.$el.__vue__ = this;\n      this._callHook('beforeCompile');\n    };\n\n    /**\n     * Create and bind a directive to an element.\n     *\n     * @param {String} name - directive name\n     * @param {Node} node   - target node\n     * @param {Object} desc - parsed directive descriptor\n     * @param {Object} def  - directive definition object\n     * @param {Vue} [host] - transclusion host component\n     * @param {Object} [scope] - v-for scope\n     * @param {Fragment} [frag] - owner fragment\n     */\n\n    Vue.prototype._bindDir = function (descriptor, node, host, scope, frag) {\n      this._directives.push(new Directive(descriptor, this, node, host, scope, frag));\n    };\n\n    /**\n     * Teardown an instance, unobserves the data, unbind all the\n     * directives, turn off all the event listeners, etc.\n     *\n     * @param {Boolean} remove - whether to remove the DOM node.\n     * @param {Boolean} deferCleanup - if true, defer cleanup to\n     *                                 be called later\n     */\n\n    Vue.prototype._destroy = function (remove, deferCleanup) {\n      if (this._isBeingDestroyed) {\n        if (!deferCleanup) {\n          this._cleanup();\n        }\n        return;\n      }\n\n      var destroyReady;\n      var pendingRemoval;\n\n      var self = this;\n      // Cleanup should be called either synchronously or asynchronoysly as\n      // callback of this.$remove(), or if remove and deferCleanup are false.\n      // In any case it should be called after all other removing, unbinding and\n      // turning of is done\n      var cleanupIfPossible = function cleanupIfPossible() {\n        if (destroyReady && !pendingRemoval && !deferCleanup) {\n          self._cleanup();\n        }\n      };\n\n      // remove DOM element\n      if (remove && this.$el) {\n        pendingRemoval = true;\n        this.$remove(function () {\n          pendingRemoval = false;\n          cleanupIfPossible();\n        });\n      }\n\n      this._callHook('beforeDestroy');\n      this._isBeingDestroyed = true;\n      var i;\n      // remove self from parent. only necessary\n      // if parent is not being destroyed as well.\n      var parent = this.$parent;\n      if (parent && !parent._isBeingDestroyed) {\n        parent.$children.$remove(this);\n        // unregister ref (remove: true)\n        this._updateRef(true);\n      }\n      // destroy all children.\n      i = this.$children.length;\n      while (i--) {\n        this.$children[i].$destroy();\n      }\n      // teardown props\n      if (this._propsUnlinkFn) {\n        this._propsUnlinkFn();\n      }\n      // teardown all directives. this also tearsdown all\n      // directive-owned watchers.\n      if (this._unlinkFn) {\n        this._unlinkFn();\n      }\n      i = this._watchers.length;\n      while (i--) {\n        this._watchers[i].teardown();\n      }\n      // remove reference to self on $el\n      if (this.$el) {\n        this.$el.__vue__ = null;\n      }\n\n      destroyReady = true;\n      cleanupIfPossible();\n    };\n\n    /**\n     * Clean up to ensure garbage collection.\n     * This is called after the leave transition if there\n     * is any.\n     */\n\n    Vue.prototype._cleanup = function () {\n      if (this._isDestroyed) {\n        return;\n      }\n      // remove self from owner fragment\n      // do it in cleanup so that we can call $destroy with\n      // defer right when a fragment is about to be removed.\n      if (this._frag) {\n        this._frag.children.$remove(this);\n      }\n      // remove reference from data ob\n      // frozen object may not have observer.\n      if (this._data.__ob__) {\n        this._data.__ob__.removeVm(this);\n      }\n      // Clean up references to private properties and other\n      // instances. preserve reference to _data so that proxy\n      // accessors still work. The only potential side effect\n      // here is that mutating the instance after it's destroyed\n      // may affect the state of other components that are still\n      // observing the same object, but that seems to be a\n      // reasonable responsibility for the user rather than\n      // always throwing an error on them.\n      this.$el = this.$parent = this.$root = this.$children = this._watchers = this._context = this._scope = this._directives = null;\n      // call the last hook...\n      this._isDestroyed = true;\n      this._callHook('destroyed');\n      // turn off all instance listeners.\n      this.$off();\n    };\n  }\n\n  function miscMixin (Vue) {\n\n    /**\n     * Apply a list of filter (descriptors) to a value.\n     * Using plain for loops here because this will be called in\n     * the getter of any watcher with filters so it is very\n     * performance sensitive.\n     *\n     * @param {*} value\n     * @param {*} [oldValue]\n     * @param {Array} filters\n     * @param {Boolean} write\n     * @return {*}\n     */\n\n    Vue.prototype._applyFilters = function (value, oldValue, filters, write) {\n      var filter, fn, args, arg, offset, i, l, j, k;\n      for (i = 0, l = filters.length; i < l; i++) {\n        filter = filters[i];\n        fn = resolveAsset(this.$options, 'filters', filter.name);\n        if ('development' !== 'production') {\n          assertAsset(fn, 'filter', filter.name);\n        }\n        if (!fn) continue;\n        fn = write ? fn.write : fn.read || fn;\n        if (typeof fn !== 'function') continue;\n        args = write ? [value, oldValue] : [value];\n        offset = write ? 2 : 1;\n        if (filter.args) {\n          for (j = 0, k = filter.args.length; j < k; j++) {\n            arg = filter.args[j];\n            args[j + offset] = arg.dynamic ? this.$get(arg.value) : arg.value;\n          }\n        }\n        value = fn.apply(this, args);\n      }\n      return value;\n    };\n\n    /**\n     * Resolve a component, depending on whether the component\n     * is defined normally or using an async factory function.\n     * Resolves synchronously if already resolved, otherwise\n     * resolves asynchronously and caches the resolved\n     * constructor on the factory.\n     *\n     * @param {String} id\n     * @param {Function} cb\n     */\n\n    Vue.prototype._resolveComponent = function (id, cb) {\n      var factory = resolveAsset(this.$options, 'components', id);\n      if ('development' !== 'production') {\n        assertAsset(factory, 'component', id);\n      }\n      if (!factory) {\n        return;\n      }\n      // async component factory\n      if (!factory.options) {\n        if (factory.resolved) {\n          // cached\n          cb(factory.resolved);\n        } else if (factory.requested) {\n          // pool callbacks\n          factory.pendingCallbacks.push(cb);\n        } else {\n          factory.requested = true;\n          var cbs = factory.pendingCallbacks = [cb];\n          factory(function resolve(res) {\n            if (isPlainObject(res)) {\n              res = Vue.extend(res);\n            }\n            // cache resolved\n            factory.resolved = res;\n            // invoke callbacks\n            for (var i = 0, l = cbs.length; i < l; i++) {\n              cbs[i](res);\n            }\n          }, function reject(reason) {\n            'development' !== 'production' && warn('Failed to resolve async component: ' + id + '. ' + (reason ? '\\nReason: ' + reason : ''));\n          });\n        }\n      } else {\n        // normal component\n        cb(factory);\n      }\n    };\n  }\n\n  function globalAPI (Vue) {\n\n    /**\n     * Expose useful internals\n     */\n\n    Vue.util = util;\n    Vue.config = config;\n    Vue.set = set;\n    Vue['delete'] = del;\n    Vue.nextTick = nextTick;\n\n    /**\n     * The following are exposed for advanced usage / plugins\n     */\n\n    Vue.compiler = compiler;\n    Vue.FragmentFactory = FragmentFactory;\n    Vue.internalDirectives = internalDirectives;\n    Vue.parsers = {\n      path: path,\n      text: text$1,\n      template: template,\n      directive: directive,\n      expression: expression\n    };\n\n    /**\n     * Each instance constructor, including Vue, has a unique\n     * cid. This enables us to create wrapped \"child\n     * constructors\" for prototypal inheritance and cache them.\n     */\n\n    Vue.cid = 0;\n    var cid = 1;\n\n    /**\n     * Class inheritance\n     *\n     * @param {Object} extendOptions\n     */\n\n    Vue.extend = function (extendOptions) {\n      extendOptions = extendOptions || {};\n      var Super = this;\n      var isFirstExtend = Super.cid === 0;\n      if (isFirstExtend && extendOptions._Ctor) {\n        return extendOptions._Ctor;\n      }\n      var name = extendOptions.name || Super.options.name;\n      if ('development' !== 'production') {\n        if (!/^[a-zA-Z][\\w-]+$/.test(name)) {\n          warn('Invalid component name: ' + name);\n          name = null;\n        }\n      }\n      var Sub = createClass(name || 'VueComponent');\n      Sub.prototype = Object.create(Super.prototype);\n      Sub.prototype.constructor = Sub;\n      Sub.cid = cid++;\n      Sub.options = mergeOptions(Super.options, extendOptions);\n      Sub['super'] = Super;\n      // allow further extension\n      Sub.extend = Super.extend;\n      // create asset registers, so extended classes\n      // can have their private assets too.\n      config._assetTypes.forEach(function (type) {\n        Sub[type] = Super[type];\n      });\n      // enable recursive self-lookup\n      if (name) {\n        Sub.options.components[name] = Sub;\n      }\n      // cache constructor\n      if (isFirstExtend) {\n        extendOptions._Ctor = Sub;\n      }\n      return Sub;\n    };\n\n    /**\n     * A function that returns a sub-class constructor with the\n     * given name. This gives us much nicer output when\n     * logging instances in the console.\n     *\n     * @param {String} name\n     * @return {Function}\n     */\n\n    function createClass(name) {\n      return new Function('return function ' + classify(name) + ' (options) { this._init(options) }')();\n    }\n\n    /**\n     * Plugin system\n     *\n     * @param {Object} plugin\n     */\n\n    Vue.use = function (plugin) {\n      /* istanbul ignore if */\n      if (plugin.installed) {\n        return;\n      }\n      // additional parameters\n      var args = toArray(arguments, 1);\n      args.unshift(this);\n      if (typeof plugin.install === 'function') {\n        plugin.install.apply(plugin, args);\n      } else {\n        plugin.apply(null, args);\n      }\n      plugin.installed = true;\n      return this;\n    };\n\n    /**\n     * Apply a global mixin by merging it into the default\n     * options.\n     */\n\n    Vue.mixin = function (mixin) {\n      Vue.options = mergeOptions(Vue.options, mixin);\n    };\n\n    /**\n     * Create asset registration methods with the following\n     * signature:\n     *\n     * @param {String} id\n     * @param {*} definition\n     */\n\n    config._assetTypes.forEach(function (type) {\n      Vue[type] = function (id, definition) {\n        if (!definition) {\n          return this.options[type + 's'][id];\n        } else {\n          /* istanbul ignore if */\n          if ('development' !== 'production') {\n            if (type === 'component' && (commonTagRE.test(id) || reservedTagRE.test(id))) {\n              warn('Do not use built-in or reserved HTML elements as component ' + 'id: ' + id);\n            }\n          }\n          if (type === 'component' && isPlainObject(definition)) {\n            definition.name = id;\n            definition = Vue.extend(definition);\n          }\n          this.options[type + 's'][id] = definition;\n          return definition;\n        }\n      };\n    });\n  }\n\n  var filterRE = /[^|]\\|[^|]/;\n\n  function dataAPI (Vue) {\n\n    /**\n     * Get the value from an expression on this vm.\n     *\n     * @param {String} exp\n     * @param {Boolean} [asStatement]\n     * @return {*}\n     */\n\n    Vue.prototype.$get = function (exp, asStatement) {\n      var res = parseExpression(exp);\n      if (res) {\n        if (asStatement && !isSimplePath(exp)) {\n          var self = this;\n          return function statementHandler() {\n            self.$arguments = toArray(arguments);\n            res.get.call(self, self);\n            self.$arguments = null;\n          };\n        } else {\n          try {\n            return res.get.call(this, this);\n          } catch (e) {}\n        }\n      }\n    };\n\n    /**\n     * Set the value from an expression on this vm.\n     * The expression must be a valid left-hand\n     * expression in an assignment.\n     *\n     * @param {String} exp\n     * @param {*} val\n     */\n\n    Vue.prototype.$set = function (exp, val) {\n      var res = parseExpression(exp, true);\n      if (res && res.set) {\n        res.set.call(this, this, val);\n      }\n    };\n\n    /**\n     * Delete a property on the VM\n     *\n     * @param {String} key\n     */\n\n    Vue.prototype.$delete = function (key) {\n      del(this._data, key);\n    };\n\n    /**\n     * Watch an expression, trigger callback when its\n     * value changes.\n     *\n     * @param {String|Function} expOrFn\n     * @param {Function} cb\n     * @param {Object} [options]\n     *                 - {Boolean} deep\n     *                 - {Boolean} immediate\n     * @return {Function} - unwatchFn\n     */\n\n    Vue.prototype.$watch = function (expOrFn, cb, options) {\n      var vm = this;\n      var parsed;\n      if (typeof expOrFn === 'string') {\n        parsed = parseDirective(expOrFn);\n        expOrFn = parsed.expression;\n      }\n      var watcher = new Watcher(vm, expOrFn, cb, {\n        deep: options && options.deep,\n        sync: options && options.sync,\n        filters: parsed && parsed.filters\n      });\n      if (options && options.immediate) {\n        cb.call(vm, watcher.value);\n      }\n      return function unwatchFn() {\n        watcher.teardown();\n      };\n    };\n\n    /**\n     * Evaluate a text directive, including filters.\n     *\n     * @param {String} text\n     * @param {Boolean} [asStatement]\n     * @return {String}\n     */\n\n    Vue.prototype.$eval = function (text, asStatement) {\n      // check for filters.\n      if (filterRE.test(text)) {\n        var dir = parseDirective(text);\n        // the filter regex check might give false positive\n        // for pipes inside strings, so it's possible that\n        // we don't get any filters here\n        var val = this.$get(dir.expression, asStatement);\n        return dir.filters ? this._applyFilters(val, null, dir.filters) : val;\n      } else {\n        // no filter\n        return this.$get(text, asStatement);\n      }\n    };\n\n    /**\n     * Interpolate a piece of template text.\n     *\n     * @param {String} text\n     * @return {String}\n     */\n\n    Vue.prototype.$interpolate = function (text) {\n      var tokens = parseText(text);\n      var vm = this;\n      if (tokens) {\n        if (tokens.length === 1) {\n          return vm.$eval(tokens[0].value) + '';\n        } else {\n          return tokens.map(function (token) {\n            return token.tag ? vm.$eval(token.value) : token.value;\n          }).join('');\n        }\n      } else {\n        return text;\n      }\n    };\n\n    /**\n     * Log instance data as a plain JS object\n     * so that it is easier to inspect in console.\n     * This method assumes console is available.\n     *\n     * @param {String} [path]\n     */\n\n    Vue.prototype.$log = function (path) {\n      var data = path ? getPath(this._data, path) : this._data;\n      if (data) {\n        data = clean(data);\n      }\n      // include computed fields\n      if (!path) {\n        for (var key in this.$options.computed) {\n          data[key] = clean(this[key]);\n        }\n      }\n      console.log(data);\n    };\n\n    /**\n     * \"clean\" a getter/setter converted object into a plain\n     * object copy.\n     *\n     * @param {Object} - obj\n     * @return {Object}\n     */\n\n    function clean(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    }\n  }\n\n  function domAPI (Vue) {\n\n    /**\n     * Convenience on-instance nextTick. The callback is\n     * auto-bound to the instance, and this avoids component\n     * modules having to rely on the global Vue.\n     *\n     * @param {Function} fn\n     */\n\n    Vue.prototype.$nextTick = function (fn) {\n      nextTick(fn, this);\n    };\n\n    /**\n     * Append instance to target\n     *\n     * @param {Node} target\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition] - defaults to true\n     */\n\n    Vue.prototype.$appendTo = function (target, cb, withTransition) {\n      return insert(this, target, cb, withTransition, append, appendWithTransition);\n    };\n\n    /**\n     * Prepend instance to target\n     *\n     * @param {Node} target\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition] - defaults to true\n     */\n\n    Vue.prototype.$prependTo = function (target, cb, withTransition) {\n      target = query(target);\n      if (target.hasChildNodes()) {\n        this.$before(target.firstChild, cb, withTransition);\n      } else {\n        this.$appendTo(target, cb, withTransition);\n      }\n      return this;\n    };\n\n    /**\n     * Insert instance before target\n     *\n     * @param {Node} target\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition] - defaults to true\n     */\n\n    Vue.prototype.$before = function (target, cb, withTransition) {\n      return insert(this, target, cb, withTransition, beforeWithCb, beforeWithTransition);\n    };\n\n    /**\n     * Insert instance after target\n     *\n     * @param {Node} target\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition] - defaults to true\n     */\n\n    Vue.prototype.$after = function (target, cb, withTransition) {\n      target = query(target);\n      if (target.nextSibling) {\n        this.$before(target.nextSibling, cb, withTransition);\n      } else {\n        this.$appendTo(target.parentNode, cb, withTransition);\n      }\n      return this;\n    };\n\n    /**\n     * Remove instance from DOM\n     *\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition] - defaults to true\n     */\n\n    Vue.prototype.$remove = function (cb, withTransition) {\n      if (!this.$el.parentNode) {\n        return cb && cb();\n      }\n      var inDocument = this._isAttached && inDoc(this.$el);\n      // if we are not in document, no need to check\n      // for transitions\n      if (!inDocument) withTransition = false;\n      var self = this;\n      var realCb = function realCb() {\n        if (inDocument) self._callHook('detached');\n        if (cb) cb();\n      };\n      if (this._isFragment) {\n        removeNodeRange(this._fragmentStart, this._fragmentEnd, this, this._fragment, realCb);\n      } else {\n        var op = withTransition === false ? removeWithCb : removeWithTransition;\n        op(this.$el, this, realCb);\n      }\n      return this;\n    };\n\n    /**\n     * Shared DOM insertion function.\n     *\n     * @param {Vue} vm\n     * @param {Element} target\n     * @param {Function} [cb]\n     * @param {Boolean} [withTransition]\n     * @param {Function} op1 - op for non-transition insert\n     * @param {Function} op2 - op for transition insert\n     * @return vm\n     */\n\n    function insert(vm, target, cb, withTransition, op1, op2) {\n      target = query(target);\n      var targetIsDetached = !inDoc(target);\n      var op = withTransition === false || targetIsDetached ? op1 : op2;\n      var shouldCallHook = !targetIsDetached && !vm._isAttached && !inDoc(vm.$el);\n      if (vm._isFragment) {\n        mapNodeRange(vm._fragmentStart, vm._fragmentEnd, function (node) {\n          op(node, target, vm);\n        });\n        cb && cb();\n      } else {\n        op(vm.$el, target, vm, cb);\n      }\n      if (shouldCallHook) {\n        vm._callHook('attached');\n      }\n      return vm;\n    }\n\n    /**\n     * Check for selectors\n     *\n     * @param {String|Element} el\n     */\n\n    function query(el) {\n      return typeof el === 'string' ? document.querySelector(el) : el;\n    }\n\n    /**\n     * Append operation that takes a callback.\n     *\n     * @param {Node} el\n     * @param {Node} target\n     * @param {Vue} vm - unused\n     * @param {Function} [cb]\n     */\n\n    function append(el, target, vm, cb) {\n      target.appendChild(el);\n      if (cb) cb();\n    }\n\n    /**\n     * InsertBefore operation that takes a callback.\n     *\n     * @param {Node} el\n     * @param {Node} target\n     * @param {Vue} vm - unused\n     * @param {Function} [cb]\n     */\n\n    function beforeWithCb(el, target, vm, cb) {\n      before(el, target);\n      if (cb) cb();\n    }\n\n    /**\n     * Remove operation that takes a callback.\n     *\n     * @param {Node} el\n     * @param {Vue} vm - unused\n     * @param {Function} [cb]\n     */\n\n    function removeWithCb(el, vm, cb) {\n      remove(el);\n      if (cb) cb();\n    }\n  }\n\n  function eventsAPI (Vue) {\n\n    /**\n     * Listen on the given `event` with `fn`.\n     *\n     * @param {String} event\n     * @param {Function} fn\n     */\n\n    Vue.prototype.$on = function (event, fn) {\n      (this._events[event] || (this._events[event] = [])).push(fn);\n      modifyListenerCount(this, event, 1);\n      return this;\n    };\n\n    /**\n     * Adds an `event` listener that will be invoked a single\n     * time then automatically removed.\n     *\n     * @param {String} event\n     * @param {Function} fn\n     */\n\n    Vue.prototype.$once = function (event, fn) {\n      var self = this;\n      function on() {\n        self.$off(event, on);\n        fn.apply(this, arguments);\n      }\n      on.fn = fn;\n      this.$on(event, on);\n      return this;\n    };\n\n    /**\n     * Remove the given callback for `event` or all\n     * registered callbacks.\n     *\n     * @param {String} event\n     * @param {Function} fn\n     */\n\n    Vue.prototype.$off = function (event, fn) {\n      var cbs;\n      // all\n      if (!arguments.length) {\n        if (this.$parent) {\n          for (event in this._events) {\n            cbs = this._events[event];\n            if (cbs) {\n              modifyListenerCount(this, event, -cbs.length);\n            }\n          }\n        }\n        this._events = {};\n        return this;\n      }\n      // specific event\n      cbs = this._events[event];\n      if (!cbs) {\n        return this;\n      }\n      if (arguments.length === 1) {\n        modifyListenerCount(this, event, -cbs.length);\n        this._events[event] = null;\n        return this;\n      }\n      // specific handler\n      var cb;\n      var i = cbs.length;\n      while (i--) {\n        cb = cbs[i];\n        if (cb === fn || cb.fn === fn) {\n          modifyListenerCount(this, event, -1);\n          cbs.splice(i, 1);\n          break;\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Trigger an event on self.\n     *\n     * @param {String} event\n     * @return {Boolean} shouldPropagate\n     */\n\n    Vue.prototype.$emit = function (event) {\n      var cbs = this._events[event];\n      var shouldPropagate = !cbs;\n      if (cbs) {\n        cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n        var args = toArray(arguments, 1);\n        for (var i = 0, l = cbs.length; i < l; i++) {\n          var res = cbs[i].apply(this, args);\n          if (res === true) {\n            shouldPropagate = true;\n          }\n        }\n      }\n      return shouldPropagate;\n    };\n\n    /**\n     * Recursively broadcast an event to all children instances.\n     *\n     * @param {String} event\n     * @param {...*} additional arguments\n     */\n\n    Vue.prototype.$broadcast = function (event) {\n      // if no child has registered for this event,\n      // then there's no need to broadcast.\n      if (!this._eventsCount[event]) return;\n      var children = this.$children;\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i];\n        var shouldPropagate = child.$emit.apply(child, arguments);\n        if (shouldPropagate) {\n          child.$broadcast.apply(child, arguments);\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Recursively propagate an event up the parent chain.\n     *\n     * @param {String} event\n     * @param {...*} additional arguments\n     */\n\n    Vue.prototype.$dispatch = function () {\n      this.$emit.apply(this, arguments);\n      var parent = this.$parent;\n      while (parent) {\n        var shouldPropagate = parent.$emit.apply(parent, arguments);\n        parent = shouldPropagate ? parent.$parent : null;\n      }\n      return this;\n    };\n\n    /**\n     * Modify the listener counts on all parents.\n     * This bookkeeping allows $broadcast to return early when\n     * no child has listened to a certain event.\n     *\n     * @param {Vue} vm\n     * @param {String} event\n     * @param {Number} count\n     */\n\n    var hookRE = /^hook:/;\n    function modifyListenerCount(vm, event, count) {\n      var parent = vm.$parent;\n      // hooks do not get broadcasted so no need\n      // to do bookkeeping for them\n      if (!parent || !count || hookRE.test(event)) return;\n      while (parent) {\n        parent._eventsCount[event] = (parent._eventsCount[event] || 0) + count;\n        parent = parent.$parent;\n      }\n    }\n  }\n\n  function lifecycleAPI (Vue) {\n\n    /**\n     * Set instance target element and kick off the compilation\n     * process. The passed in `el` can be a selector string, an\n     * existing Element, or a DocumentFragment (for block\n     * instances).\n     *\n     * @param {Element|DocumentFragment|string} el\n     * @public\n     */\n\n    Vue.prototype.$mount = function (el) {\n      if (this._isCompiled) {\n        'development' !== 'production' && warn('$mount() should be called only once.');\n        return;\n      }\n      el = query(el);\n      if (!el) {\n        el = document.createElement('div');\n      }\n      this._compile(el);\n      this._initDOMHooks();\n      if (inDoc(this.$el)) {\n        this._callHook('attached');\n        ready.call(this);\n      } else {\n        this.$once('hook:attached', ready);\n      }\n      return this;\n    };\n\n    /**\n     * Mark an instance as ready.\n     */\n\n    function ready() {\n      this._isAttached = true;\n      this._isReady = true;\n      this._callHook('ready');\n    }\n\n    /**\n     * Teardown the instance, simply delegate to the internal\n     * _destroy.\n     */\n\n    Vue.prototype.$destroy = function (remove, deferCleanup) {\n      this._destroy(remove, deferCleanup);\n    };\n\n    /**\n     * Partially compile a piece of DOM and return a\n     * decompile function.\n     *\n     * @param {Element|DocumentFragment} el\n     * @param {Vue} [host]\n     * @return {Function}\n     */\n\n    Vue.prototype.$compile = function (el, host, scope, frag) {\n      return compile(el, this.$options, true)(this, el, host, scope, frag);\n    };\n  }\n\n  /**\n   * The exposed Vue constructor.\n   *\n   * API conventions:\n   * - public API methods/properties are prefixed with `$`\n   * - internal methods/properties are prefixed with `_`\n   * - non-prefixed properties are assumed to be proxied user\n   *   data.\n   *\n   * @constructor\n   * @param {Object} [options]\n   * @public\n   */\n\n  function Vue(options) {\n    this._init(options);\n  }\n\n  // install internals\n  initMixin(Vue);\n  stateMixin(Vue);\n  eventsMixin(Vue);\n  lifecycleMixin(Vue);\n  miscMixin(Vue);\n\n  // install APIs\n  globalAPI(Vue);\n  dataAPI(Vue);\n  domAPI(Vue);\n  eventsAPI(Vue);\n  lifecycleAPI(Vue);\n\n  var convertArray = vFor._postProcess;\n\n  /**\n   * Limit filter for arrays\n   *\n   * @param {Number} n\n   * @param {Number} offset (Decimal expected)\n   */\n\n  function limitBy(arr, n, offset) {\n    offset = offset ? parseInt(offset, 10) : 0;\n    return typeof n === 'number' ? arr.slice(offset, offset + n) : arr;\n  }\n\n  /**\n   * Filter filter for arrays\n   *\n   * @param {String} search\n   * @param {String} [delimiter]\n   * @param {String} ...dataKeys\n   */\n\n  function filterBy(arr, search, delimiter) {\n    arr = convertArray(arr);\n    if (search == null) {\n      return arr;\n    }\n    if (typeof search === 'function') {\n      return arr.filter(search);\n    }\n    // cast to lowercase string\n    search = ('' + search).toLowerCase();\n    // allow optional `in` delimiter\n    // because why not\n    var n = delimiter === 'in' ? 3 : 2;\n    // extract and flatten keys\n    var keys = toArray(arguments, n).reduce(function (prev, cur) {\n      return prev.concat(cur);\n    }, []);\n    var res = [];\n    var item, key, val, j;\n    for (var i = 0, l = arr.length; i < l; i++) {\n      item = arr[i];\n      val = item && item.$value || item;\n      j = keys.length;\n      if (j) {\n        while (j--) {\n          key = keys[j];\n          if (key === '$key' && contains(item.$key, search) || contains(getPath(val, key), search)) {\n            res.push(item);\n            break;\n          }\n        }\n      } else if (contains(item, search)) {\n        res.push(item);\n      }\n    }\n    return res;\n  }\n\n  /**\n   * Filter filter for arrays\n   *\n   * @param {String} sortKey\n   * @param {String} reverse\n   */\n\n  function orderBy(arr, sortKey, reverse) {\n    arr = convertArray(arr);\n    if (!sortKey) {\n      return arr;\n    }\n    var order = reverse && reverse < 0 ? -1 : 1;\n    // sort on a copy to avoid mutating original array\n    return arr.slice().sort(function (a, b) {\n      if (sortKey !== '$key') {\n        if (isObject(a) && '$value' in a) a = a.$value;\n        if (isObject(b) && '$value' in b) b = b.$value;\n      }\n      a = isObject(a) ? getPath(a, sortKey) : a;\n      b = isObject(b) ? getPath(b, sortKey) : b;\n      return a === b ? 0 : a > b ? order : -order;\n    });\n  }\n\n  /**\n   * String contain helper\n   *\n   * @param {*} val\n   * @param {String} search\n   */\n\n  function contains(val, search) {\n    var i;\n    if (isPlainObject(val)) {\n      var keys = Object.keys(val);\n      i = keys.length;\n      while (i--) {\n        if (contains(val[keys[i]], search)) {\n          return true;\n        }\n      }\n    } else if (isArray(val)) {\n      i = val.length;\n      while (i--) {\n        if (contains(val[i], search)) {\n          return true;\n        }\n      }\n    } else if (val != null) {\n      return val.toString().toLowerCase().indexOf(search) > -1;\n    }\n  }\n\n  var digitsRE = /(\\d{3})(?=\\d)/g;\n\n  // asset collections must be a plain object.\n  var filters = {\n\n    orderBy: orderBy,\n    filterBy: filterBy,\n    limitBy: limitBy,\n\n    /**\n     * Stringify value.\n     *\n     * @param {Number} indent\n     */\n\n    json: {\n      read: function read(value, indent) {\n        return typeof value === 'string' ? value : JSON.stringify(value, null, Number(indent) || 2);\n      },\n      write: function write(value) {\n        try {\n          return JSON.parse(value);\n        } catch (e) {\n          return value;\n        }\n      }\n    },\n\n    /**\n     * 'abc' => 'Abc'\n     */\n\n    capitalize: function capitalize(value) {\n      if (!value && value !== 0) return '';\n      value = value.toString();\n      return value.charAt(0).toUpperCase() + value.slice(1);\n    },\n\n    /**\n     * 'abc' => 'ABC'\n     */\n\n    uppercase: function uppercase(value) {\n      return value || value === 0 ? value.toString().toUpperCase() : '';\n    },\n\n    /**\n     * 'AbC' => 'abc'\n     */\n\n    lowercase: function lowercase(value) {\n      return value || value === 0 ? value.toString().toLowerCase() : '';\n    },\n\n    /**\n     * 12345 => $12,345.00\n     *\n     * @param {String} sign\n     */\n\n    currency: function currency(value, _currency) {\n      value = parseFloat(value);\n      if (!isFinite(value) || !value && value !== 0) return '';\n      _currency = _currency != null ? _currency : '$';\n      var stringified = Math.abs(value).toFixed(2);\n      var _int = stringified.slice(0, -3);\n      var i = _int.length % 3;\n      var head = i > 0 ? _int.slice(0, i) + (_int.length > 3 ? ',' : '') : '';\n      var _float = stringified.slice(-3);\n      var sign = value < 0 ? '-' : '';\n      return _currency + sign + head + _int.slice(i).replace(digitsRE, '$1,') + _float;\n    },\n\n    /**\n     * 'item' => 'items'\n     *\n     * @params\n     *  an array of strings corresponding to\n     *  the single, double, triple ... forms of the word to\n     *  be pluralized. When the number to be pluralized\n     *  exceeds the length of the args, it will use the last\n     *  entry in the array.\n     *\n     *  e.g. ['single', 'double', 'triple', 'multiple']\n     */\n\n    pluralize: function pluralize(value) {\n      var args = toArray(arguments, 1);\n      return args.length > 1 ? args[value % 10 - 1] || args[args.length - 1] : args[0] + (value === 1 ? '' : 's');\n    },\n\n    /**\n     * Debounce a handler function.\n     *\n     * @param {Function} handler\n     * @param {Number} delay = 300\n     * @return {Function}\n     */\n\n    debounce: function debounce(handler, delay) {\n      if (!handler) return;\n      if (!delay) {\n        delay = 300;\n      }\n      return _debounce(handler, delay);\n    }\n  };\n\n  var partial = {\n\n    priority: 1750,\n\n    params: ['name'],\n\n    // watch changes to name for dynamic partials\n    paramWatchers: {\n      name: function name(value) {\n        vIf.remove.call(this);\n        if (value) {\n          this.insert(value);\n        }\n      }\n    },\n\n    bind: function bind() {\n      this.anchor = createAnchor('v-partial');\n      replace(this.el, this.anchor);\n      this.insert(this.params.name);\n    },\n\n    insert: function insert(id) {\n      var partial = resolveAsset(this.vm.$options, 'partials', id);\n      if ('development' !== 'production') {\n        assertAsset(partial, 'partial', id);\n      }\n      if (partial) {\n        this.factory = new FragmentFactory(this.vm, partial);\n        vIf.insert.call(this);\n      }\n    },\n\n    unbind: function unbind() {\n      if (this.frag) {\n        this.frag.destroy();\n      }\n    }\n  };\n\n  // This is the elementDirective that handles <content>\n  // transclusions. It relies on the raw content of an\n  // instance being stored as `$options._content` during\n  // the transclude phase.\n\n  // We are exporting two versions, one for named and one\n  // for unnamed, because the unnamed slots must be compiled\n  // AFTER all named slots have selected their content. So\n  // we need to give them different priorities in the compilation\n  // process. (See #1965)\n\n  var slot = {\n\n    priority: 1750,\n\n    bind: function bind() {\n      var host = this.vm;\n      var raw = host.$options._content;\n      if (!raw) {\n        this.fallback();\n        return;\n      }\n      var context = host._context;\n      var slotName = this.params && this.params.name;\n      if (!slotName) {\n        // Default slot\n        this.tryCompile(extractFragment(raw.childNodes, raw, true), context, host);\n      } else {\n        // Named slot\n        var selector = '[slot=\"' + slotName + '\"]';\n        var nodes = raw.querySelectorAll(selector);\n        if (nodes.length) {\n          this.tryCompile(extractFragment(nodes, raw), context, host);\n        } else {\n          this.fallback();\n        }\n      }\n    },\n\n    tryCompile: function tryCompile(content, context, host) {\n      if (content.hasChildNodes()) {\n        this.compile(content, context, host);\n      } else {\n        this.fallback();\n      }\n    },\n\n    compile: function compile(content, context, host) {\n      if (content && context) {\n        var scope = host ? host._scope : this._scope;\n        this.unlink = context.$compile(content, host, scope, this._frag);\n      }\n      if (content) {\n        replace(this.el, content);\n      } else {\n        remove(this.el);\n      }\n    },\n\n    fallback: function fallback() {\n      this.compile(extractContent(this.el, true), this.vm);\n    },\n\n    unbind: function unbind() {\n      if (this.unlink) {\n        this.unlink();\n      }\n    }\n  };\n\n  var namedSlot = extend(extend({}, slot), {\n    priority: slot.priority + 1,\n    params: ['name']\n  });\n\n  /**\n   * Extract qualified content nodes from a node list.\n   *\n   * @param {NodeList} nodes\n   * @param {Element} parent\n   * @param {Boolean} main\n   * @return {DocumentFragment}\n   */\n\n  function extractFragment(nodes, parent, main) {\n    var frag = document.createDocumentFragment();\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n      // if this is the main outlet, we want to skip all\n      // previously selected nodes;\n      // otherwise, we want to mark the node as selected.\n      // clone the node so the original raw content remains\n      // intact. this ensures proper re-compilation in cases\n      // where the outlet is inside a conditional block\n      if (main && !node.__v_selected) {\n        append(node);\n      } else if (!main && node.parentNode === parent) {\n        node.__v_selected = true;\n        append(node);\n      }\n    }\n    return frag;\n\n    function append(node) {\n      if (isTemplate(node) && !node.hasAttribute('v-if') && !node.hasAttribute('v-for')) {\n        node = parseTemplate(node);\n      }\n      node = cloneNode(node);\n      frag.appendChild(node);\n    }\n  }\n\n  var elementDirectives = {\n    slot: slot,\n    _namedSlot: namedSlot, // same as slot but with higher priority\n    partial: partial\n  };\n\n  Vue.version = '1.0.12';\n\n  /**\n   * Vue and every constructor that extends Vue has an\n   * associated options object, which can be accessed during\n   * compilation steps as `this.constructor.options`.\n   *\n   * These can be seen as the default options of every\n   * Vue instance.\n   */\n\n  Vue.options = {\n    directives: publicDirectives,\n    elementDirectives: elementDirectives,\n    filters: filters,\n    transitions: {},\n    components: {},\n    partials: {},\n    replace: true\n  };\n\n  // devtools global hook\n  /* istanbul ignore if */\n  if ('development' !== 'production' && inBrowser) {\n    if (window.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n      window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit('init', Vue);\n    } else if (/Chrome\\/\\d+/.test(navigator.userAgent)) {\n      console.log('Download the Vue Devtools for a better development experience:\\n' + 'https://github.com/vuejs/vue-devtools');\n    }\n  }\n\n  return Vue;\n\n}));\n"]}