!function(e,t){function i(i,r){this.panel=i||t.createElement("div"),this.consts=r||e.feature_list,this.markId="__debug_mark",this.submitBtnId="__btnOk",this.selectId="__branchSelect",this.panelClassName="debug_panel_private",this.isShow=!1,this.width="80%",n.innerStyle.setPrivateClassName=this.panelClassName,this.init()}var n={$:function(e){return t.getElementById(e)},css:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},addEvent:function(e,t,i){n.$(e).addEventListener(t,i)},removeEvent:function(e,t,i){n.$(e).removeEventListener(t,i)},setCookie:function(t,i,n){var r=t+"="+e.escape(i);if(n>0){var a=new Date;a.setTime(a.getTime()+3600*n*24*1e3),r=r+"; expires="+a.toGMTString()+";path=/"}document.cookie=r+";path=/"},removeCookie:function(t){var i=(new Date).getTime()-1;document.cookie=t+"="+e.escape(n.getCookie(t))+";expires="+new Date(i).toUTCString()},getCookie:function(t){var i=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!==i?e.unescape(i[2]):""},innerStyle:function(e,i,r){var a=n.innerStyle.setPrivateClassName,s=n.$("debug_private"),o=s||t.createElement("style");if(!s){o.id="debug_private";var d=t.getElementsByTagName("head")[0]||t.body;d.appendChild(o)}for(var l in i)if(i.hasOwnProperty(l)){var h,c=!r&&a;/^-\d+$/gi.test(l)?h=e+" { "+(c?"."+a+" "+i[l]:i[l])+"}":(h=e+" {"+l+":"+i[l]+"}",h=c?"."+a+" "+h:h),o.styleSheet?o.styleSheet.cssText=h:o.appendChild(t.createTextNode(h))}}};i.prototype={constructor:i,setClass:function(){var e=this.isShow;n.innerStyle(".btn",{background:"#3498db;","background-image":"-webkit-linear-gradient(top, #3498db, #2980b9);","-webkit-border-radius":"28;","-moz-border-radius":"28;","border-radius":"28px;","font-family":"Arial;",color:"#ffffff;","font-size":"14px;",padding:"10px 20px 10px 20px;",display:"block","margin-top":"10px",border:"none","text-decoration":"none;"}),n.innerStyle(".btn:hover",{background:"#3cb0fd;","background-image":"-webkit-linear-gradient(top, #3cb0fd, #3498db);","text-decoration":"none;"}),n.innerStyle("li",{"margin-top":"10px;"}),n.innerStyle("ul",{color:"#000;",padding:"0px;",margin:"100px 10px 10px 30px;","list-style-type":"none;","max-height":"200px;","overflow-y":"scroll"}),n.innerStyle(".debug_panel_private",{width:this.width,height:"100%",color:"#fff","box-shadow":"rgba(80, 80, 80, 0.41) 0 0 3px 3px",position:"fixed","z-index":"999999999",bottom:"0%",right:e?this.width:"-"+this.width,transition:"all .3s ease","padding-left":"5px;","background-color":"rgba(255, 255, 255, 1)"},!0),n.innerStyle(".toggle_trigger",{position:"absolute",top:"50%","margin-top":"-15px",height:"0px",width:"0px","border-width":"15px;","border-style":"dashed dashed dashed dashed ;","border-color":"transparent transparent transparent transparent ;",left:"-15px",display:"block","-webkit-transform":"rotate(90deg);","border-left":"15px solid #e66161;","border-top":"15px solid #e66161;","border-right":"15px solid #e66161;"})},createDiv:function(){var e=this,i=this.panel;i.className=this.panelClassName,this.panel.innerHTML="<ul>"+function(){for(var t="",i=0;i<e.consts.length;i++){var n=e.consts[i],r=n.is_current?'checked="true"':"";t+='<li><input name="'+e.selectId+'" type="radio" '+r+' value="'+n.id+'">'+n.branch_title+"</li>"}return t}()+'</ul><a href="javascript:;" id="'+this.markId+'" class="toggle_trigger"></a><input type="button" class="btn" id="'+this.submitBtnId+'" value="确定" />',t.body.appendChild(this.panel)},bindEvents:function(){var e=this;n.addEvent(this.markId,"click",function(){e.isShow?e.hidePanel():e.showPanel()}),n.addEvent(this.submitBtnId,"click",function(){for(var i=t.getElementsByName(e.selectId),r="",a=0;a<i.length;a++){var s=i[a];if(s.checked){r=s.value;break}}r||alert("请选择一个分支");var o=e.findData(r);for(var d in o)o.hasOwnProperty(d)&&(n.setCookie(d,o[d]),console.log(r,d,o[d],o));location.reload()})},findData:function(e){for(var t=0;t<this.consts.length;t++)if(this.consts[t].id===e)return this.consts[t]},showPanel:function(){this.panel.style.right="0%",n.css(n.$(this.markId),{"-webkit-transform":"rotate(270deg)",left:"-5px"}),n.css(this.panel,{right:"0%"}),this.isShow=!0},hidePanel:function(){n.css(n.$(this.markId),{"-webkit-transform":"rotate(90deg)",left:"-15px"}),n.css(this.panel,{right:"-"+this.width}),this.isShow=!1},init:function(){this.setClass(),this.createDiv(),this.bindEvents()}},e.addEventListener("load",function(){e.debugTools=new i})}(this,document);