{"version":3,"sources":["mods/storage/cookie.js"],"names":["define","require","exports","module","setCookie","name","value","expiresHours","cookieString","escape","date","Date","setTime","getTime","toGMTString","document","cookie","getCookie","arr","match","RegExp","unescape","removeCookie"],"mappings":";;AAAA;;;;;;;AAOAA,OAAO,wBAAP,EAAiC,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;;AAEnE,KAAIC,YAAY,SAAZA,SAAY,CAACC,IAAD,EAAOC,KAAP,EAAcC,YAAd,EAA+B;AAC9C,MAAIC,eAAeH,OAAO,GAAP,GAAaI,OAAOH,KAAP,CAAhC;AACA;AACA,MAAIC,eAAe,CAAnB,EAAsB;AACrB,OAAIG,OAAO,IAAIC,IAAJ,EAAX;AACAD,QAAKE,OAAL,CAAaF,KAAKG,OAAL,KAAiBN,eAAe,IAAf,GAAsB,EAAtB,GAA2B,IAAzD;AACAC,kBAAeA,eAAe,WAAf,GAA6BE,KAAKI,WAAL,EAA7B,GAAkD,SAAjE;AACA;AACDC,WAASC,MAAT,GAAkBR,eAAe,SAAjC;AACA,EATD;;AAWA,KAAIS,YAAY,SAAZA,SAAY,CAACZ,IAAD,EAAU;AACzB,MAAIa,MAAMH,SAASC,MAAT,CAAgBG,KAAhB,CAAsB,IAAIC,MAAJ,CAAW,UAAUf,IAAV,GAAiB,eAA5B,CAAtB,CAAV;AACA,MAAIa,QAAQ,IAAZ,EAAkB;AACjB,UAAOG,SAASH,IAAI,CAAJ,CAAT,CAAP;AACA;AACD,SAAO,EAAP;AACA,EAND;;AAQA,KAAII,eAAe,SAAfA,YAAe,CAACjB,IAAD,EAAU;AAC5B,MAAIK,OAAO,IAAIC,IAAJ,GAAWE,OAAX,KAAuB,CAAlC;AACAE,WAASC,MAAT,GAAkBX,OAAO,GAAP,GAAaI,OAAOQ,UAAUZ,IAAV,CAAP,CAAb,GAAuC,WAAvC,GAAqD,IAAIM,IAAJ,CAASD,IAAT,EAAeI,WAAf,EAArD,GAAoF,UAAtG;AACA,EAHD;;AAKAX,QAAOD,OAAP,GAAiB;AAChBE,sBADgB;AAEhBa,sBAFgB;AAGhBK;AAHgB,EAAjB;AAKA,CA/BD","file":"../../../../mods/storage/cookie.js","sourcesContent":["/*\r\n    name:cookie_model.js\r\n    description:本地存储cookie\r\n    anthor:luoxiaowei\r\n    data:2016-11-04\r\n */\r\n\r\ndefine(\"mods/storage/cookie.js\", function(require, exports, module) {\r\n\r\n\tlet setCookie = (name, value, expiresHours) => {\r\n\t\tlet cookieString = name + \"=\" + escape(value);\r\n\t\t//判断是否设置过期时间\r\n\t\tif (expiresHours > 0) {\r\n\t\t\tlet date = new Date();\r\n\t\t\tdate.setTime(date.getTime() + expiresHours * 3600 * 24 * 1000);\r\n\t\t\tcookieString = cookieString + \";expires=\" + date.toGMTString() + \";path=/\";\r\n\t\t}\r\n\t\tdocument.cookie = cookieString + \";path=/\";\r\n\t};\r\n\r\n\tlet getCookie = (name) => {\r\n\t\tlet arr = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\"));\r\n\t\tif (arr !== null) {\r\n\t\t\treturn unescape(arr[2]);\r\n\t\t}\r\n\t\treturn \"\";\r\n\t};\r\n\r\n\tlet removeCookie = (name) => {\r\n\t\tlet date = new Date().getTime() - 1;\r\n\t\tdocument.cookie = name + \"=\" + escape(getCookie(name)) + \";expires=\" + new Date(date).toGMTString() + \"; path=/\";\r\n\t};\r\n\r\n\tmodule.exports = {\r\n\t\tsetCookie,\r\n\t\tgetCookie,\r\n\t\tremoveCookie\r\n\t};\r\n})"]}