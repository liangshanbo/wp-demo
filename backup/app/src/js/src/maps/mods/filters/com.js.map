{"version":3,"sources":["mods/filters/com.js"],"names":["define","require","exports","module","Vue","filter","url","size","test","res","match","Array","isArray","price","isNaN","Math","round","toFixed","time","separator","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","dateStr"],"mappings":";;AAAC;;;;;;;AAODA,OAAO,qBAAP,EAA8B,UAAUC,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoC;AACjE,KAAMC,MAAMH,QAAQ,KAAR,CAAZ;;AAEAG,KAAIC,MAAJ,CAAW,QAAX,EAAoB,UAASC,GAAT,EAAaC,IAAb,EAAmB;AACtC,MAAG,OAAOD,GAAP,KAAe,QAAf,IAA4B,mBAAD,CAAsBE,IAAtB,CAA2BF,GAA3B,CAA9B,EAA8D;AAC7D,OAAIG,MAAMH,IAAII,KAAJ,CAAU,uBAAV,CAAV;AACA,UAAOD,OAAOE,MAAMC,OAAN,CAAcH,GAAd,CAAP,GAA6BA,IAAI,CAAJ,KAAUF,OAAQ,MAAOA,IAAf,GAAuB,EAAjC,IAAuCE,IAAI,CAAJ,CAApE,GAA8EH,GAArF;AACA,GAHD,MAGK;AACJ,UAAOA,GAAP;AACA;AACD,EAPD;;AASAF,KAAIC,MAAJ,CAAW,OAAX,EAAmB,UAASQ,KAAT,EAAeN,IAAf,EAAqB;AACvC,MAAGO,MAAMD,KAAN,CAAH,EAAgB;AACf,UAAOA,KAAP;AACA;AACD,SAAON,OAAOQ,KAAKC,KAAL,CAAWH,QAAM,GAAjB,EAAsBI,OAAtB,CAA8BV,IAA9B,CAAP,GAA6CQ,KAAKC,KAAL,CAAWH,QAAM,GAAjB,CAApD;AACA,EALD;;AAOAT,KAAIC,MAAJ,CAAW,OAAX,EAAmB,UAASQ,KAAT,EAAgB;AAClC,SAAOA,QAAQ,IAAf;AACA,EAFD;;AAIAT,KAAIC,MAAJ,CAAW,MAAX,EAAkB,UAASa,IAAT,EAAeC,SAAf,EAA0B;AAC1C,MAAIC,OAAOF,OAAO,IAAIG,IAAJ,CAASH,IAAT,CAAP,GAAwB,IAAIG,IAAJ,EAAnC;AACA,MAAIC,OAAOF,KAAKG,WAAL,EAAX;AACA,MAAIC,QAASJ,KAAKK,QAAL,KAAkB,CAAnB,GAAwB,CAAxB,GAA6BL,KAAKK,QAAL,KAAkB,CAA/C,GAAoD,OAAOL,KAAKK,QAAL,KAAkB,CAAzB,CAAhE;AACE,MAAIC,MAAMN,KAAKO,OAAL,KAAiB,CAAjB,GAAqBP,KAAKO,OAAL,EAArB,GAAsC,MAAMP,KAAKO,OAAL,EAAtD;AACF,MAAIC,OAAOR,KAAKS,QAAL,KAAkB,CAAlB,GAAsBT,KAAKS,QAAL,EAAtB,GAAwC,MAAMT,KAAKS,QAAL,EAAzD;AACA,MAAIC,SAASV,KAAKW,UAAL,KAAoB,CAApB,GAAwBX,KAAKW,UAAL,EAAxB,GAA4C,MAAMX,KAAKW,UAAL,EAA/D;AACA,MAAIC,SAASZ,KAAKa,UAAL,KAAoB,CAApB,GAAwBb,KAAKa,UAAL,EAAxB,GAA4C,MAAMb,KAAKa,UAAL,EAA/D;AACA,MAAIC,UAAU,EAAd;AACA,MAAIf,SAAJ,EAAe;AACde,cAAWR,MAAMP,SAAN,GAAkBK,KAAlB,GAA0BL,SAA1B,GAAsCG,IAAjD;AACA,GAFD,MAEO;AACNY,cAAWR,MAAM,GAAN,GAAYF,KAAZ,GAAoB,GAApB,GAA0BF,IAArC;AACA;AACD,SAAOY,OAAP;AACD,EAfD;AAgBA,CAvCD","file":"../../../../mods/filters/com.js","sourcesContent":[" /*\r\n * @date 20170410\r\n * 页面引用\r\n * 公共过滤器\r\n </script>\r\n */\r\n\r\ndefine('mods/filters/com.js', function (require, exports, module) {\r\n\tconst Vue = require('vue');\r\n\r\n\tVue.filter('imgbed',function(url,size) {\r\n\t\tif(typeof url === 'string' && (/\\.(jpg|png|gif)$/i).test(url)){\r\n\t\t\tvar res = url.match(/(.*)(\\.(jpg|png|gif))/);\r\n\t\t\treturn res && Array.isArray(res) ? (res[0] + (size ? ('.' +  size) : '') + res[2]) : url; \r\n\t\t}else{\r\n\t\t\treturn url;\r\n\t\t}\r\n\t});\r\n\r\n\tVue.filter('money',function(price,size) {\r\n\t\tif(isNaN(price)){\r\n\t\t\treturn price;\r\n\t\t}\r\n\t\treturn size ? Math.round(price/100).toFixed(size) : Math.round(price/100);\r\n\t});\r\n\r\n\tVue.filter('price',function(price) {\r\n\t\treturn price + '. ';\r\n\t});\r\n\r\n\tVue.filter('time',function(time, separator) {\r\n\t \tvar date = time ? new Date(time) : new Date();\r\n\t \tvar year = date.getFullYear();\r\n\t \tvar month = (date.getMonth() + 1) > 9 ? (date.getMonth() + 1) : '0' + (date.getMonth() + 1);\r\n\t    var day = date.getDate() > 9 ? date.getDate() : '0' + date.getDate();\r\n\t \tvar hour = date.getHours() > 9 ? date.getHours() : '0' + date.getHours();\r\n\t \tvar minute = date.getMinutes() > 9 ? date.getMinutes() : '0' + date.getMinutes();\r\n\t \tvar second = date.getSeconds() > 9 ? date.getSeconds() : '0' + date.getSeconds();\r\n\t \tvar dateStr = '';\r\n\t \tif (separator) {\r\n\t \t\tdateStr += day + separator + month + separator + year;\r\n\t \t} else {\r\n\t \t\tdateStr += day + '/' + month + '/' + year;\r\n\t \t}\r\n\t \treturn dateStr;\r\n\t});\r\n});"]}