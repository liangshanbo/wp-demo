{"version":3,"sources":["conf/game/slot_app.js"],"names":["define","require","exports","module","Login","appInterface","Slot","SlotApp","props","callback","errback","getLoginStatus","self","gotoLogin","data","_get_bonus","url","location","hostname","indexOf","call","title","desc","imgUrl","wapcsspath","link","shareType","code","setTimeout","reload","msg","toast","callApp"],"mappings":";;;;;;;;;;AAAA;;;;;AAKAA,OAAO,oBAAP,EAA6B,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AAC5D,QAAIC,QAAQH,QAAQ,kBAAR,CAAZ;AAAA,QACII,eAAeJ,QAAQ,oBAAR,CADnB;AAAA,QAEIK,OAAOL,QAAQ,uBAAR,CAFX;;AAIA;AACA;AACA;;AAP4D,QAStDM,OATsD;AAAA;;AAUxD,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,qHACTA,KADS;AAElB;;AAZuD;AAAA;AAAA,sCAa9CC,QAb8C,EAapCC,OAboC,EAa3B;AACzBN,sBAAMO,cAAN,CAAqBF,QAArB,EAA+BC,OAA/B;AACH;AAfuD;AAAA;AAAA,kCAgBlDD,QAhBkD,EAgBxC;AACZ,oBAAIG,OAAO,IAAX;AACAR,sBAAMS,SAAN,CAAgB,UAASC,IAAT,EAAe;AAC3BF,yBAAKG,UAAL;AACAN,6BAASK,IAAT;AACH,iBAHD;AAIH;AAtBuD;AAAA;AAAA,oCAuBhD;AACJ,oBAAIF,OAAO,IAAX;AAAA,oBACII,MAAMC,SAASC,QADnB;AAEA,oBAAIF,IAAIG,OAAJ,CAAY,KAAZ,IAAqB,CAAzB,EAA4B;AACxBH,0BAAM,0BAAN;AACH,iBAFD,MAEO,IAAIA,IAAIG,OAAJ,CAAY,KAAZ,IAAqB,CAAzB,EAA4B;AAC/BH,0BAAM,0BAAN;AACH,iBAFM,MAEA;AACHA,0BAAM,uBAAN;AACH;AACDA,uBAAO,eAAP;AACAX,6BAAae,IAAb,CAAkB,eAAlB,EAAmC;AAC/BC,2BAAO,aADwB;AAE/BC,0BAAM,cAFyB;AAG/BC,4BAAQC,aAAa,gCAHU;AAI/BC,0BAAMT,GAJyB;AAK/B;AACAU,+BAAW;AANoB,iBAAnC,EAOG,UAASZ,IAAT,EAAe;AACd,wBAAIA,KAAKa,IAAL,KAAc,GAAlB,EAAuB;AACnBC,mCAAW,YAAW;AAClBX,qCAASY,MAAT;AACH,yBAFD,EAEG,GAFH;AAGH;AACJ,iBAbD;AAcH;AAhDuD;AAAA;AAAA,kCAiDlDC,GAjDkD,EAiD7C;AACPzB,6BAAa0B,KAAb,CAAmBD,GAAnB;AACH;AAnDuD;AAAA;AAAA,uCAoD7C;AAAE;AACTzB,6BAAa2B,OAAb,CAAqB,yBAArB,EAA+C,YAAW,CAEzD,CAFD;AAGH;AAxDuD;;AAAA;AAAA,MAStC1B,IATsC;;AA2D5D,QAAIC,OAAJ;AACH,CA5DD","file":"../../../../conf/game/slot_app.js","sourcesContent":["/**\r\n * @title: 老虎机-调用客户端\r\n * @time:  2017-03-16\r\n * @author: wangchunpeng\r\n */\r\ndefine(\"conf/game/slot_app\", function(require, exports, module) {\r\n    let Login = require(\"mods/login/index\"),\r\n        appInterface = require(\"utils/appInterface\"),\r\n        Slot = require(\"conf/game/slotmachine\");\r\n\r\n    // let Cookie = require(\"mods/storage/cookie\");\r\n    // Cookie.setCookie(\"gomeplus-userid\", \"100036421577\", 1);\r\n    // Cookie.setCookie(\"gomeplus-usertoken\", \"3374950166d14e7a91f13f8ce33dea5d\", 1); //TODO\r\n\r\n    class SlotApp extends Slot {\r\n        constructor(props) {\r\n            super(props);\r\n        }\r\n        get_login(callback, errback) {\r\n            Login.getLoginStatus(callback, errback);\r\n        }\r\n        login(callback) {\r\n            let self = this;\r\n            Login.gotoLogin(function(data) {\r\n                self._get_bonus();\r\n                callback(data);\r\n            });\r\n        }\r\n        share() {\r\n            let self = this,\r\n                url = location.hostname;\r\n            if (url.indexOf(\"dev\") > 0) {\r\n                url = \"http://m-dev.gomeplus.in\";\r\n            } else if (url.indexOf(\"pre\") > 0) {\r\n                url = \"http://m-pre.gomeplus.in\";\r\n            } else {\r\n                url = \"https://m.gomeplus.in\";\r\n            }\r\n            url += \"/hy/game/slot\";\r\n            appInterface.call(\"/common/share\", {\r\n                title: \"SlotMachine\",\r\n                desc: \"Slot Machine\",\r\n                imgUrl: wapcsspath + \"/images/game/laohuji/share.gif\",\r\n                link: url,\r\n                // link: wapcsspath + \"/images/game/laohuji/share.gif\",\r\n                shareType: \"gameShare\"\r\n            }, function(data) {\r\n                if (data.code === 200) {\r\n                    setTimeout(function() {\r\n                        location.reload();\r\n                    }, 200);\r\n                }\r\n            });\r\n        }\r\n        toast(msg) {\r\n            appInterface.toast(msg);\r\n        }\r\n        callGift() { // 调起app的\"我的账户\"页面\r\n            appInterface.callApp(\"/member/mineBalanceOpen\",function() {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    new SlotApp();\r\n});\r\n"]}