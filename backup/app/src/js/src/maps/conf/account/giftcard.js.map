{"version":3,"sources":["conf/account/giftcard.js"],"names":["define","require","exports","module","$","appInterface","init","bindCopyEvents","bindHelpLayerEvents","on","nativeCopy","attr","$body","$helpButton","$helpArea","$closeHelpButton","find","click","css","msg","call","data","code","toast"],"mappings":";;AAAA;;;;;;;;;;;AAWAA,OAAO,0BAAP,EAAmC,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AAClE,QAAMC,IAAIH,QAAQ,GAAR,CAAV;AACA,QAAMI,eAAeJ,QAAQ,oBAAR,CAArB;;AAEAK;;AAEA,aAASA,IAAT,GAAgB;AACZC;AACAC;AACH;;AAED,aAASD,cAAT,GAA0B;AACtBH,UAAE,aAAF,EAAiBK,EAAjB,CAAoB,OAApB,EAA6B,WAA7B,EAA0C,YAAW;AACjDC,uBAAWN,EAAE,IAAF,EAAQO,IAAR,CAAa,qBAAb,CAAX;AACH,SAFD;AAGH;AACD,aAASH,mBAAT,GAA+B;AAC3B,YAAII,QAAQR,EAAE,MAAF,CAAZ;AACA,YAAIS,cAAcT,EAAE,WAAF,CAAlB;AACA,YAAIU,YAAYV,EAAE,OAAF,CAAhB;AACA,YAAIW,mBAAmBD,UAAUE,IAAV,CAAe,YAAf,CAAvB;AACAH,oBAAYI,KAAZ,CAAkB,YAAW;AACzBH,sBAAUI,GAAV,CAAc,SAAd,EAAyB,OAAzB;AACAN,kBAAMM,GAAN,CAAU,YAAV,EAAwB,QAAxB;AACH,SAHD;AAIAH,yBAAiBE,KAAjB,CAAuB,YAAW;AAC9BH,sBAAUI,GAAV,CAAc,SAAd,EAAyB,MAAzB;AACAN,kBAAMM,GAAN,CAAU,YAAV,EAAwB,MAAxB;AACH,SAHD;AAIH;AACD,aAASR,UAAT,CAAoBS,GAApB,EAAyB;AACrBd,qBAAae,IAAb,CACI,cADJ,EAEI,EAAED,QAAF,EAFJ,EAGI,UAASE,IAAT,EAAe;AACX,gBAAIA,KAAKC,IAAL,KAAc,GAAlB,EAAuB;AACnBjB,6BAAakB,KAAb,CAAmB,QAAnB;AACH,aAFD,MAEO;AACHlB,6BAAakB,KAAb,CAAmB,yCAAnB;AACH;AACJ,SATL;AAWH;AACJ,CA3CD","file":"../../../../conf/account/giftcard.js","sourcesContent":["/**\r\n * 我的礼品卡 - 内嵌\r\n * @author 张恩铭\r\n * @date 20170324\r\n * 页面引用\r\n *  <script src=\"__PUBLIC__/js/lithe.js\"\r\n data-config=\"config.js\"\r\n data-debug=\"true\"\r\n data-main=\"conf/account/giftcard.js\">\r\n </script>\r\n */\r\ndefine('conf/account/giftcard.js', function(require, exports, module) {\r\n    const $ = require('$');\r\n    const appInterface = require(\"utils/appInterface\");\r\n\r\n    init();\r\n\r\n    function init() {\r\n        bindCopyEvents();\r\n        bindHelpLayerEvents();\r\n    }\r\n\r\n    function bindCopyEvents() {\r\n        $('.cards-list').on('click', '.copy-btn', function() {\r\n            nativeCopy($(this).attr('data-clipboard-text'));\r\n        });\r\n    }\r\n    function bindHelpLayerEvents() {\r\n        let $body = $('body');\r\n        let $helpButton = $('.help-btn');\r\n        let $helpArea = $('.mask');\r\n        let $closeHelpButton = $helpArea.find('.close-btn');\r\n        $helpButton.click(function() {\r\n            $helpArea.css('display', 'block');\r\n            $body.css('overflow-y', 'hidden');\r\n        });\r\n        $closeHelpButton.click(function() {\r\n            $helpArea.css('display', 'none');\r\n            $body.css('overflow-y', 'auto');\r\n        });\r\n    }\r\n    function nativeCopy(msg) {\r\n        appInterface.call(\r\n            '/common/copy',\r\n            { msg },\r\n            function(data) {\r\n                if (data.code === 200) {\r\n                    appInterface.toast('Copied');\r\n                } else {\r\n                    appInterface.toast('Auto-copy failed. Please copy manually.');\r\n                }\r\n            }\r\n        );\r\n    }\r\n});\r\n"]}