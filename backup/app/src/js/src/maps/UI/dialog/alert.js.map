{"version":3,"sources":["UI/dialog/alert.js"],"names":["define","require","exports","module","pcom","alerter","text","btn","callback","undefined","box","one","html","addElement","innerHTML","onclick","hideBox","remliste","addliste","showBox","prompt","alertBox","title","confirmBtn","cancelBtn","flog","cancelCallback","_alertNewBox","confirmId","cancelId","confirmbtn","cancelbtn","layer","all","id","alertSecond","time","timer","fn","setTimeout","window","addEventListener","move","onmousewheel","removeEventListener","e","preventDefault","returnValue","stopPropagation"],"mappings":"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","file":"../../../../UI/dialog/alert.js","sourcesContent":["/*\r\n name:alert.js\r\n description:新版普通弹窗引用 有回调\r\n anthor:huangyihai\r\n */\r\n\r\ndefine(\"UI/dialog/alert.js\", function(require, exports, module) {\r\n    let pcom = require('UI/dialog/dialog_com.js');\r\n\r\n    function alerter(text, btn = \"确定\", callback = undefined) {\r\n        let box = pcom.one('#alert_er');\r\n        if (!box) {\r\n            let html = `<div class=\"m-dialog\"><div class=\"dialog-tit\">${text}</div><div class=\"dialog-btn\" id=\"confirm\"><div id=\"sub_btn\">${btn}</div></div></div>`;\r\n            box = pcom.addElement(html, \"m-mask-private\", \"alert_er\");\r\n        } else {\r\n            pcom.one('#alert_er .dialog-tit').innerHTML = text;\r\n            pcom.one('#alert_er #sub_btn').innerHTML = btn;\r\n        }\r\n        pcom.one('#alert_er #confirm').onclick = () => {\r\n            pcom.hideBox(box);\r\n            remliste();\r\n            callback && callback();\r\n        };\r\n        addliste();\r\n        pcom.showBox(box);\r\n    }\r\n\r\n    function prompt(text, btn = \"确定\", callback = undefined) {\r\n        alerter(\"提示:\" + text, btn, callback);\r\n    }\r\n\r\n    function alertBox(text, title, callback, confirmBtn, cancelBtn, flog, cancelCallback) {\r\n        if (title !== \"\") {\r\n            _alertNewBox(text, title, callback, confirmBtn, cancelBtn, flog, cancelCallback)\r\n            return;\r\n        }\r\n        let confirmId = flog ? \"cancel\" : \"confirm\",\r\n            cancelId = flog ? \"confirm\" : \"cancel\",\r\n            confirmbtn = confirmBtn ? confirmBtn : \"确定\",\r\n            cancelbtn = cancelBtn ? cancelBtn : \"取消\",\r\n            layer = pcom.one('#alert_confirm');\r\n        if (!layer) {\r\n            let html = `<div class=\"m-dialog\"><div class=\"dialog-tit\">${text}</div><div class=\"dialog-btn\"><div id=\"${cancelId}\">${cancelbtn}</div><div id=\"${confirmId}\">${confirmbtn}</div></div></div>`;\r\n            layer = pcom.addElement(html, \"m-mask-private\", \"alert_confirm\");\r\n        } else {\r\n            pcom.all('#alert_confirm .dialog-btn div')[0].id = cancelId;\r\n            pcom.all('#alert_confirm .dialog-btn div')[1].id = confirmId;\r\n            pcom.one('#alert_confirm .dialog-tit').innerHTML = text;\r\n            pcom.one('#alert_confirm #' + confirmId + '').innerHTML = confirmbtn;\r\n            pcom.one('#alert_confirm #' + cancelId + '').innerHTML = cancelbtn;\r\n        }\r\n        addliste();\r\n        pcom.one('#alert_confirm #confirm').onclick = () => {\r\n            pcom.hideBox(layer);\r\n            remliste();\r\n            callback && callback();\r\n        };\r\n        pcom.one('#alert_confirm #cancel').onclick = () => {\r\n            pcom.hideBox(layer);\r\n            remliste();\r\n            cancelCallback && cancelCallback();\r\n        };\r\n        pcom.showBox(layer);\r\n    }\r\n\r\n    function _alertNewBox(text, title, callback, confirmBtn, cancelBtn, flog, cancelCallback) { //有title\r\n        let confirmId = flog ? \"cancel\" : \"confirm\",\r\n            cancelId = flog ? \"confirm\" : \"cancel\",\r\n            confirmbtn = confirmBtn ? confirmBtn : \"确定\",\r\n            cancelbtn = cancelBtn ? cancelBtn : \"取消\",\r\n            layer = pcom.one('#alert_newconfirm');\r\n\r\n        if (!layer) {\r\n            let html = `<div class=\"m-dialog m-dialog-auto\"><div class=\"dialog-tit\">${title}</div><div class=\"dialog-txt\">${text}</div><div class=\"dialog-btn\"><div id=\"${cancelId}\">${cancelbtn}</div><div id=\"${confirmId}\">${confirmbtn}</div></div></div>`;\r\n            layer = pcom.addElement(html, \"m-mask-private\", \"alert_newconfirm\");\r\n        } else {\r\n            pcom.all('#alert_newconfirm .dialog-btn div')[0].id = cancelId;\r\n            pcom.all('#alert_newconfirm .dialog-btn div')[1].id = confirmId;\r\n            pcom.one('#alert_newconfirm .dialog-tit').innerHTML = title;\r\n            pcom.one('#alert_newconfirm .dialog-txt').innerHTML = text;\r\n            pcom.one('#alert_newconfirm #' + confirmId + '').innerHTML = confirmbtn;\r\n            pcom.one('#alert_newconfirm #' + cancelId + '').innerHTML = cancelbtn;\r\n        }\r\n        pcom.one('#alert_newconfirm #confirm').onclick = () => {\r\n            pcom.hideBox(layer);\r\n            remliste();\r\n            callback && callback();\r\n        };\r\n        pcom.one('#alert_newconfirm #cancel').onclick = () => {\r\n            pcom.hideBox(layer);\r\n            remliste();\r\n            cancelCallback && cancelCallback();\r\n        };\r\n        addliste();\r\n        pcom.showBox(layer);\r\n    }\r\n\r\n    function alertSecond(text, time = 1500) {\r\n        let box = pcom.one('#alert_second');\r\n        if (!box) {\r\n            let html = `<div class=\"toast-txt\">${text}</div>`;\r\n            box = pcom.addElement(html, \"m-toast m-toast-auto\", \"alert_second\");\r\n        } else {\r\n            pcom.one('#alert_second .toast-txt').innerHTML = text;\r\n        }\r\n        pcom.showBox(box);\r\n        timer(function() {\r\n            pcom.hideBox(box);\r\n        }, time);\r\n    }\r\n\r\n    function timer(fn, time) {\r\n        setTimeout(fn, time)\r\n    }\r\n    //禁止滚动\r\n    function addliste() {\r\n        window.addEventListener('touchmove', move);\r\n        window.onmousewheel = function() {\r\n            return false\r\n        }; //禁止鼠标滚轴滚动\r\n    }\r\n    //取消禁止滚动\r\n    function remliste() {\r\n        window.removeEventListener('touchmove', move);\r\n        window.onmousewheel = function() {\r\n            return true\r\n        }; //开启鼠标滚轴滚动\r\n    }\r\n\r\n    function move(e) {\r\n        e.preventDefault && e.preventDefault();\r\n        e.returnValue = false;\r\n        e.stopPropagation && e.stopPropagation();\r\n        return false;\r\n    }\r\n    module.exports = { alerter, alertSecond, addliste, remliste, alertBox, prompt };\r\n});\r\n"]}