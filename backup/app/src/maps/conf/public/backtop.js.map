{"version":3,"sources":["conf/public/backtop.js"],"names":["define","require","exports","module","selector","BackTop","winHeight","window","innerHeight","div","one","_init","self","addClick","_goTop","bind","addEventListener","document","body","scrollTop","style","display","interval","setInterval","top","clearInterval"],"mappings":";;;;;;AAAA;;;;;;;AAOAA,OAAO,qBAAP,EAA8B,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;;AAEhE,KAAIC,WAAWH,QAAQ,iBAAR,CAAf;;AAFgE,KAI1DI,OAJ0D;AAK/D,qBAAc;AAAA;;AACb,QAAKC,SAAL,GAAiBC,OAAOC,WAAxB;AACA,QAAKC,GAAL,GAAWL,SAASM,GAAT,CAAa,YAAb,KAA8BN,SAASM,GAAT,CAAa,SAAb,CAAzC;AACA,QAAKC,KAAL;AACA;;AAT8D;AAAA;AAAA,2BAUxD;AAAA;;AACN,QAAG,KAAKF,GAAR,EAAY;AAAA;AACX,UAAIG,YAAJ;AACAR,eAASS,QAAT,CAAkB,MAAKJ,GAAvB,EAA2B,MAAKK,MAAL,CAAYC,IAAZ,OAA3B;AACAR,aAAOS,gBAAP,CAAwB,QAAxB,EAAiC,YAAU;AAC1C,WAAGC,SAASC,IAAT,CAAcC,SAAd,GAA0BP,KAAKN,SAAlC,EAA4C;AAC3CM,aAAKH,GAAL,CAASW,KAAT,CAAeC,OAAf,GAAyB,OAAzB;AACA,QAFD,MAEK;AACJT,aAAKH,GAAL,CAASW,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACA;AACD,OAND,EAME,KANF;AAHW;AAUX;AACD;AACA;AAvB8D;AAAA;AAAA,4BAwBvD;AACP,QAAIC,WAAWC,YAAY,YAAU;AACpC,SAAIJ,YAAYF,SAASC,IAAT,CAAcC,SAA9B;AACA,SAAGA,YAAY,CAAf,EAAiB;AAChB,UAAIK,MAAML,YAAY,GAAtB;AACAF,eAASC,IAAT,CAAcC,SAAd,GAA0BK,MAAM,CAAN,GAAUA,GAAV,GAAgB,CAA1C;AACA,MAHD,MAGK;AACJF,kBAAYG,cAAcH,QAAd,CAAZ;AACA;AACD,KARc,EAQb,EARa,CAAf;AASA;AAlC8D;;AAAA;AAAA;;AAqChEnB,QAAOD,OAAP,GAAiB,IAAIG,OAAJ,EAAjB;AAEA,CAvCD","file":"../../../js_es6/conf/public/backtop.js","sourcesContent":["/**\n * 页面回到顶部\n * @author wanglonghai\n * @date 20161129\n * 全站通用\n </script>\n */\ndefine('conf/public/backtop', function(require, exports, module) {\n\n\tvar selector = require('common/selector');\n\t\n\tclass BackTop {\n\t\tconstructor() {\n\t\t\tthis.winHeight = window.innerHeight;\n\t\t\tthis.div = selector.one('#returntop') || selector.one('.go-top'); \n\t\t\tthis._init();\n\t\t}\n\t\t_init(){\n\t\t\tif(this.div){\n\t\t\t\tlet self = this;\n\t\t\t\tselector.addClick(this.div,this._goTop.bind(this));\n\t\t\t\twindow.addEventListener('scroll',function(){\n\t\t\t\t\tif(document.body.scrollTop > self.winHeight){\n\t\t\t\t\t\tself.div.style.display = 'block';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.div.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t},false);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t_goTop(){\n\t\t\tlet interval = setInterval(function(){\n\t\t\t\tlet scrollTop = document.body.scrollTop;\n\t\t\t\tif(scrollTop > 0){\n\t\t\t\t\tlet top = scrollTop - 100;\n\t\t\t\t\tdocument.body.scrollTop = top > 0 ? top : 0; \n\t\t\t\t}else{\n\t\t\t\t\tinterval && clearInterval(interval);\n\t\t\t\t}\n\t\t\t},10);\t\n\t\t}\n\t}\n\n\tmodule.exports = new BackTop();\n\n});"]}