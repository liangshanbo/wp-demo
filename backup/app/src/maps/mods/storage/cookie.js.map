{"version":3,"sources":["mods/storage/cookie.js"],"names":["define","require","exports","module","setCookie","name","value","expiresHours","cookieString","escape","date","Date","setTime","getTime","toGMTString","document","cookie","getCookie","arr","match","RegExp","unescape","removeCookie","toUTCString"],"mappings":";;AAAA;;;;;;;AAOAA,OAAO,wBAAP,EAAiC,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;;AAEnE,KAAIC,YAAY,SAAZA,SAAY,CAACC,IAAD,EAAMC,KAAN,EAAYC,YAAZ,EAA6B;AAC5C,MAAIC,eAAeH,OAAO,GAAP,GAAaI,OAAOH,KAAP,CAAhC;AACA;AACG,MAAGC,eAAe,CAAlB,EAAoB;AAChB,OAAIG,OAAO,IAAIC,IAAJ,EAAX;AACAD,QAAKE,OAAL,CAAaF,KAAKG,OAAL,KAAiBN,eAAe,IAAf,GAAsB,EAAtB,GAA2B,IAAzD;AACAC,kBAAeA,eAAe,WAAf,GAA6BE,KAAKI,WAAL,EAA7B,GAAkD,SAAjE;AACH;AACDC,WAASC,MAAT,GAAkBR,eAAa,SAA/B;AACH,EATD;;AAWA,KAAIS,YAAY,SAAZA,SAAY,CAACZ,IAAD,EAAU;AACzB,MAAIa,MAAMH,SAASC,MAAT,CAAgBG,KAAhB,CAAsB,IAAIC,MAAJ,CAAW,UAAUf,IAAV,GAAiB,eAA5B,CAAtB,CAAV;AACG,MAAGa,OAAO,IAAV,EAAgB,OAAOG,SAASH,IAAI,CAAJ,CAAT,CAAP,CAAyB,OAAO,EAAP;AAC5C,EAHD;;AAKA,KAAII,eAAe,SAAfA,YAAe,CAACjB,IAAD,EAAU;AAC5B,MAAIK,OAAO,IAAIC,IAAJ,GAAWE,OAAX,KAAqB,CAAhC;AACGE,WAASC,MAAT,GAAkBX,OAAO,GAAP,GAAaI,OAAOQ,UAAUZ,IAAV,CAAP,CAAb,GAAuC,WAAvC,GAAqD,IAAIM,IAAJ,CAASD,IAAT,EAAea,WAAf,EAAvE;AACH,EAHD;;AAKApB,QAAOD,OAAP,GAAiB,EAACE,oBAAD,EAAWa,oBAAX,EAAqBK,0BAArB,EAAjB;AACA,CAxBD","file":"../../../js_es6/mods/storage/cookie.js","sourcesContent":["/*\n    name:cookie_model.js\n    description:本地存储cookie\n    anthor:luoxiaowei\n    data:2016-11-04\n */\n\ndefine(\"mods/storage/cookie.js\", function(require, exports, module) {\n\n\tlet setCookie = (name,value,expiresHours) => {\n\t\tlet cookieString = name + \"=\" + escape(value);\n\t\t//判断是否设置过期时间\n\t    if(expiresHours > 0){\n\t        let date = new Date();\n\t        date.setTime(date.getTime() + expiresHours * 3600 * 24 * 1000);\n\t        cookieString = cookieString + \";expires=\" + date.toGMTString() + \";path=/\";\n\t    }\n\t    document.cookie = cookieString+\";path=/\";\n\t};\n\n\tlet getCookie = (name) => {\n\t\tlet arr = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\"));\n\t    if(arr != null) return unescape(arr[2]); return \"\";\n\t};\n\n\tlet removeCookie = (name) => {\n\t\tlet date = new Date().getTime()-1;\n\t    document.cookie = name + \"=\" + escape(getCookie(name)) + \";expires=\" + new Date(date).toUTCString();\n\t};\n\n\tmodule.exports = {setCookie,getCookie,removeCookie};\n})"]}