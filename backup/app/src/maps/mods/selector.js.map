{"version":3,"sources":["mods/selector.js"],"names":["define","require","exports","module","type","doc","window","document","selector_obj","FastClick","elment","fn","firstX","firstY","tapDelay","tapTimeout","lastClickTime","trackingClickStart","clickEvent","init","element","onclick","addEventListener","ontouchstart","bind","ontouchend","event","targetTouches","length","timeStamp","preventDefault","touch","pageX","pageY","Math","abs","Base","elements","_init","map","Array","prototype","slice","call","name","arguments","isString","Events","on","_each","OPClass","value","classList","add","_checkName","contains","remove","Attr","hasAttribute","temp_value","getAttribute","test","JSON","parse","e","console","log","isObject","stringify","setAttribute","removeAttribute","_dataset","ds","dataset","isType","attr","Css","key","style","Elements","w","_WH","h","display","hm","tt","_dom","el","_insert","appendChild","_docFrag","firstElementChild","parentNode","removeChild","select","children","sel","WorH","pos","text","insertAdjacentHTML","df","DocumentFragment","i","Selector","cache","selector","context","ele","trim","startsWith","querySelector","querySelectorAll"],"mappings":"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","file":"../../js_es6/mods/selector.js","sourcesContent":["/**\r\n * 原生选择器\r\n * @author wanglonghai\r\n * @date 20161125\r\n * 选择器\r\n </script>\r\n */\r\ndefine('mods/selector', function(require, exports, module) {\r\n\r\n\trequire('lib/polyfill/string');\r\n\tconst type = require('mods/type');\r\n\tlet doc = window.document,\r\n\t\tselector_obj;\r\n\r\n\tclass FastClick {\r\n\t\tconstructor(elment, fn) {\r\n\t\t\tthis.firstX = 0;\r\n\t\t\tthis.firstY = 0;\r\n\t\t\tthis.tapDelay = 20;\r\n\t\t\tthis.tapTimeout = 700;\r\n\t\t\tthis.lastClickTime = 0;\r\n\t\t\tthis.trackingClickStart = 0;\r\n\t\t\tthis.clickEvent = null;\r\n\t\t\tthis.init(element, fn);\r\n\t\t}\r\n\r\n\t\tinit(element, fn) {\r\n\t\t\tthis.clickEvent = fn;\r\n\t\t\telement.onclick = null;\r\n\t\t\telement.addEventListener('touchstart', this.ontouchstart.bind(this), false);\r\n\t\t\telement.addEventListener('touchend', this.ontouchend.bind(this), false);\r\n\t\t}\r\n\r\n\t\tontouchstart(event) {\r\n\t\t\tif (event.targetTouches.length > 1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\ttouch = event.targetTouches[0];\r\n\t\t\tthis.firstX = touch.pageX;\r\n\t\t\tthis.firstY = touch.pageY;\r\n\t\t\tthis.trackingClickStart = event.timeStamp;\r\n\t\t}\r\n\r\n\t\tontouchend(event) {\r\n\t\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (Math.abs(event.pageX - this.firstX) > 10 || Math.abs(event.pageY - this.firstY)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tthis.clickEvent(event);\r\n\t\t\tthis.trackingClickStart = 0;\r\n\t\t\tthis.lastClickTime = event.timeStamp;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Base {\r\n\t\tconstructor(elements) {\r\n\t\t\tthis.elements = this._init(elements);\r\n\t\t\tthis.element = this.elements && this.elements[0];\r\n\t\t}\r\n\r\n\t\t_each(fn) {\r\n\t\t\tthis.elements.map(fn);\r\n\t\t}\r\n\t\t_init(elements) {\r\n\t\t\tif (elements) {\r\n\t\t\t\tif (length in elements) {\r\n\t\t\t\t\treturn Array.prototype.slice.call(elements);\r\n\t\t\t\t}\r\n\t\t\t\treturn [elements];\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t_checkName(name) {\r\n\t\t\treturn !!(arguments.length === 1 && type.isString(name));\r\n\t\t}\r\n\t}\r\n\r\n\tclass Events extends Base {\r\n\r\n\t\tclick(fn) {\r\n\t\t\tthis.on('click', fn);\r\n\t\t}\r\n\r\n\t\ttap(fn) {\r\n\t\t\tthis.on('tap', fn);\r\n\t\t}\r\n\r\n\t\tkeyup(fn) {\r\n\t\t\tthis.on('keyup', fn);\r\n\t\t}\r\n\r\n\t\tkeydown(fn) {\r\n\t\t\tthis.on('keydown', fn);\r\n\t\t}\r\n\r\n\t\ton(type, fn) {\r\n\t\t\tif ((type === 'click' || type === 'tap') && 'ontouchstart' in window) {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\tnew FastClick(element, fn);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.addEventListener(type, fn, false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tclass OPClass extends Events {\r\n\r\n\t\taddClass(value) {\r\n\t\t\tif (arguments.length == 1) {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.classList.add(value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\thasClass(name) {\r\n\t\t\tif (this._checkName(name)) {\r\n\t\t\t\treturn this.element.classList.contains(name);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tremoveClass(name) {\r\n\t\t\tif (this._checkName(name)) {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.classList.remove(name);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Attr extends OPClass {\r\n\r\n\t\tattr(name, value) {\r\n\t\t\tif (arguments.length === 1 || typeof value === 'undefined') {\r\n\t\t\t\tif (this.element.hasAttribute(name)) {\r\n\t\t\t\t\tlet temp_value = this.element.getAttribute(name);\r\n\t\t\t\t\tif (/^(\\{|\\[).*(\\}|\\])$/.test(temp_value)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treturn JSON.parse(temp_value);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.log('JSON.parse error');\r\n\t\t\t\t\t\t\treturn temp_value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn temp_value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (arguments.length === 2) {\r\n\t\t\t\tvalue = type.isObject(value) ? JSON.stringify(value) : value;\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.setAttribute(name, value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tremoveAttr(name) {\r\n\t\t\tif (this._checkName(name)) {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.removeAttribute(name);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tdata(name, value) {\r\n\t\t\treturn this._dataset(name, value);\r\n\t\t}\r\n\r\n\t\t_dataset(name, value) {\r\n\t\t\tif ('dataset' in this.element) {\r\n\t\t\t\tlet ds = this.element.dataset;\r\n\t\t\t\tif (type.isType('DOMStringMap')(ds)) {\r\n\t\t\t\t\tif (typeof value === 'undefined') {\r\n\t\t\t\t\t\treturn name in ds ? ds[name] : false;\r\n\t\t\t\t\t} else if (arguments.length === 2) {\r\n\t\t\t\t\t\tds[name] = value;\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn this.attr('data-' + name, value);\r\n\t\t\t}\r\n\t\t\treturn this.attr('data-' + name, value);\r\n\t\t}\r\n\t}\r\n\r\n\tclass Css extends Attr {\r\n\r\n\t\tcss(name, value) {\r\n\t\t\tif (arguments.length === 1) {\r\n\t\t\t\tif (type.isObject(name)) {\r\n\t\t\t\t\tfor (let key in name) {\r\n\t\t\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\t\t\telement.style[key] = name[key];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (type.isString(name)) {\r\n\t\t\t\t\treturn this.element.style[name];\r\n\t\t\t\t}\r\n\t\t\t} else if (arguments.length === 2) {\r\n\t\t\t\tthis._each(function(element) {\r\n\t\t\t\t\telement.style[name] = value;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Elements extends Css {\r\n\r\n\t\teach(fn) {\r\n\t\t\tthis._each(function(element) {\r\n\t\t\t\tfn.bind(element)();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twidth(w) {\r\n\t\t\treturn this._WH(w, 'offsetWidth');\r\n\t\t}\r\n\r\n\t\theight(h) {\r\n\t\t\treturn this._WH(h, 'offsetHeight');\r\n\t\t}\r\n\r\n\t\tshow() {\r\n\t\t\tthis._each(function(element) {\r\n\t\t\t\telement.style.display = 'block';\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\thide() {\r\n\t\t\tthis._each(function(element) {\r\n\t\t\t\telement.style.display = 'none';\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\thtml(hm) {\r\n\t\t\treturn this._WH(hm, 'innerHTML');\r\n\t\t}\r\n\r\n\t\ttext(tt) {\r\n\t\t\treturn this._WH(tt, 'innerText');\r\n\t\t}\r\n\r\n\t\tfirst() {\r\n\t\t\treturn this._dom('firstElementChild');\r\n\t\t}\r\n\r\n\t\tlast() {\r\n\t\t\treturn this._dom('lastElementChild');\r\n\t\t}\r\n\r\n\t\tnext() {\r\n\t\t\treturn this._dom('nextElementSibling');\r\n\t\t}\r\n\r\n\t\tprevious() {\r\n\t\t\treturn this._dom('previousElementSibling');\r\n\t\t}\r\n\r\n\t\tparent() {\r\n\t\t\treturn this._dom('parentNode');\r\n\t\t}\r\n\r\n\t\tappend(el) {\r\n\t\t\tif (!this._insert('beforeend', el)) {\r\n\t\t\t\tthis.element.appendChild(this._docFrag(el));\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tbefore(el) {\r\n\t\t\tif (!this._insert('afterbegin', el)) {\r\n\t\t\t\tthis.element.appendChild(this._docFrag(el), this.element.firstElementChild);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tremove() {\r\n\t\t\tthis.element && this.element.parentNode.removeChild(this.element);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tchildren() {\r\n\t\t\treturn selector_obj.select(this.element.children);\r\n\t\t}\r\n\r\n\t\tfind(sel) {\r\n\t\t\treturn selector_obj.select(sel, this.element);\r\n\t\t}\r\n\r\n\t\t_WH(WorH, name) {\r\n\t\t\tif (typeof WorH === 'undefined') {\r\n\t\t\t\treturn this.element[name];\r\n\t\t\t} else {\r\n\t\t\t\tthis.element[name] = WorH;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_dom(name) {\r\n\t\t\treturn this.element[name] ? new Elements(this.element[name]) : false;\r\n\t\t}\r\n\r\n\t\t_insert(pos, text) {\r\n\t\t\tif (type.isString(text) && 'insertAdjacentHTML' in this.element) {\r\n\t\t\t\tthis.element.insertAdjacentHTML(pos, text);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t_docFrag(elements) {\r\n\t\t\tif ('length' in elements) {\r\n\t\t\t\tlet df = new DocumentFragment();\r\n\t\t\t\tfor (let i = 0, el; el = elements[i++];) {\r\n\t\t\t\t\tdf.appendChild(el);\r\n\t\t\t\t}\r\n\t\t\t\treturn df;\r\n\t\t\t}\r\n\t\t\treturn elements;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Selector {\r\n\r\n\t\tconstructor() {\r\n\t\t\tthis.cache = {};\r\n\t\t}\r\n\r\n\t\tselect(selector, context = doc) {\r\n\t\t\tlet ele = selector;\r\n\t\t\tif (type.isString(selector)) {\r\n\t\t\t\tselector = selector.trim();\r\n\t\t\t\tele = selector.startsWith('#') ? context.querySelector(selector) : context.querySelectorAll(selector);\r\n\t\t\t}\r\n\t\t\treturn ele ? (new Elements(ele)) : false;\r\n\t\t}\r\n\t}\r\n\r\n\tselector_obj = new Selector();\r\n\tmodule.exports = function(selector, context) {\r\n\t\treturn selector_obj.select(selector, context);\r\n\t}\r\n});"]}