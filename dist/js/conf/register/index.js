!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=38)}({38:function(e,n,t){"use strict";var o;void 0!==(o=function(e,n,o){function a(){document.getElementById("username").addEventListener("input",function(e){var n=g.val();n.length>=7?(f.phone=!0,"SEND"==h.html()&&h.addClass("verification-active")):(f.phone=!1,h.removeClass("verification-active")),""===n&&setTimeout(function(){g.val("")},50),r()},!1),document.getElementById("verification").addEventListener("input",function(e){var n=p.val();f.verification=n.length>=6,""===n&&setTimeout(function(){p.val("")},50),r()},!1),document.getElementById("password").addEventListener("input",function(e){var n=w.val();w.val(n.replace(/[<> \&]/g,"")),f.pwd=n.length>=6,""===n&&setTimeout(function(){w.val("")},50),r()},!1),_.on("click",function(){_.hasClass("no-select")?(_.removeClass("no-select"),f.agree=!0):(_.addClass("no-select"),f.agree=!1),r()}),h.on("click",function(){ga("send","event","login/sign","sendSMScode_btn_click");var e={mobile:g.val(),type:"REGIST",countryCode:"+"+m.areaPhone.html().split("+")[1]};h.hasClass("verification-active")&&(h.removeClass("verification-active"),u.checkPhone({dom:h,params:e,callback:function(e){E=e,v.setItem("rst"+g.val(),e),v.setItem("rsttime",1*new Date)}}))}),O.on("click",function(){ga("send","event","login/sign","sign_comfirm_btn_click"),O.children("a").hasClass("disabled")||i()}),m.areaPhone.on("click",function(){m.area.show(),m.content.hide()}),m.area.on("click","dd",function(){var e=c(this).attr("countryCode"),n=c(this).attr("code");m.areaPhone.html(n+" "+e),m.area.hide(),m.content.show(),c("#country").find("dt").removeClass("fixed")}),m.cancel.on("click",function(){m.area.hide(),m.content.show()})}function r(){f.phone&&f.pwd&&f.verification&&f.agree?O.children("a").removeClass("disabled"):O.children("a").addClass("disabled")}function i(){1*new Date-v.getItem("rsttime")<=6e5&&v.getItem("rst"+g.val())?E=v.getItem("rst"+g.val()):(v.removeItem("rst"+g.val()),v.removeItem("rsttime"));var e={};if(e.smsCode=p.val(),e.smsToken=E,e.mobile=g.val(),e.password=w.val(),e.countryCode="+"+m.areaPhone.html().split("+")[1],!l.password(e.password))return void d.alertSecond("Please enter a password with 6 to 20 digits, including letters, digitals or symbols.");s.post({url:"/api/user/user",data:e,success:function(e){200==e.code?d.alertSecond("SIGN UP success",function(){v.removeItem("rst"+g.val()),v.removeItem("rsttime"),s.query({url:"/api/cashback/plan",data:{planId:"PLAN_1493806065175"},success:function(e){200===e.code&&e.data.plan&&e.data.plan.id?location.assign("/hy/op/newgift"):location.assign("/")}})},500):(p.val(""),d.alertSecond(e.message))},error:function(){}})}var c=t(!function(){var e=new Error('Cannot find module "$"');throw e.code="MODULE_NOT_FOUND",e}()),s=t(!function(){var e=new Error('Cannot find module "utils/async/ajax.js"');throw e.code="MODULE_NOT_FOUND",e}()),l=t(!function(){var e=new Error('Cannot find module "mods/check/input.js"');throw e.code="MODULE_NOT_FOUND",e}()),d=t(!function(){var e=new Error('Cannot find module "UI/dialog/alert"');throw e.code="MODULE_NOT_FOUND",e}()),u=t(!function(){var e=new Error('Cannot find module "mods/send_verification"');throw e.code="MODULE_NOT_FOUND",e}()),v=t(!function(){var e=new Error('Cannot find module "mods/storage/storage.js"');throw e.code="MODULE_NOT_FOUND",e}());t(!function(){var e=new Error('Cannot find module "mods/country_area.js"');throw e.code="MODULE_NOT_FOUND",e}());var f={phone:!1,verification:!1,agree:!0,pwd:!1},m={areaPhone:c("#register_area"),area:c("#area"),content:c("#content"),cancel:c("#area_cancel")},h=c("#send"),g=c("#username"),p=c("#verification"),w=c("#password"),_=c("#agree"),O=c("#register"),C=c(".register-agreement-href"),E=void 0;!function(){a()}(),C.on("click",function(){ga("send","event","login/sign","sign_protocol_click")})}.call(n,t,n,e))&&(e.exports=o)}});
//# sourceMappingURL=index.js.map