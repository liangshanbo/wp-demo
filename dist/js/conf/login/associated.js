!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=21)}({21:function(e,n,t){"use strict";var o;void 0!==(o=function(e,n,o){var a=(t(!function(){var e=new Error('Cannot find module "mods/check/input.js"');throw e.code="MODULE_NOT_FOUND",e}()),t(!function(){var e=new Error('Cannot find module "UI/dialog/alert.js"');throw e.code="MODULE_NOT_FOUND",e}())),r=t(!function(){var e=new Error('Cannot find module "utils/async/ajax.js"');throw e.code="MODULE_NOT_FOUND",e}()),i=t(!function(){var e=new Error('Cannot find module "mods/send_verification"');throw e.code="MODULE_NOT_FOUND",e}()),c=t(!function(){var e=new Error('Cannot find module "mods/storage/storage"');throw e.code="MODULE_NOT_FOUND",e}());t(!function(){var e=new Error('Cannot find module "$"');throw e.code="MODULE_NOT_FOUND",e}()),t(!function(){var e=new Error('Cannot find module "mods/country_area.js"');throw e.code="MODULE_NOT_FOUND",e}());var s=$("#username"),l=$("#send"),d=$("#verification"),u=$("#next"),f={phone:!1,verification:!1},v=void 0,m={areaPhone:$("#register_area"),area:$("#area"),content:$("#content"),cancel:$("#area_cancel")},h=function(){f.phone&&f.verification?u.children("a").removeClass("disabled"):u.children("a").addClass("disabled")},p=function(e){r.post({url:"/api/user/thirdPartyAccountRegister",data:e,success:function(e){console.log(e),200===e.code?a.alertSecond("Associated success",function(){location.replace("/")},1e3):a.alertSecond(e.message)},error:function(){}})};!function(){document.getElementById("username").addEventListener("input",function(e){var n=s.val();n.length>=7?(f.phone=!0,"SEND"===l.text()&&l.addClass("verification-active")):(f.phone=!1,l.removeClass("verification-active")),""===n&&setTimeout(function(){s.val("")},50),h()},!1),document.getElementById("verification").addEventListener("input",function(e){var n=d.val();n.length>=6?f.verification=!0:f.verification=!1,""===n&&setTimeout(function(){d.val("")},50),h()},!1),l.on("click",function(){var e={mobile:s.val(),type:"BINDPHONE",countryCode:"+"+m.areaPhone.html().split("+")[1]};l.hasClass("verification-active")&&(l.removeClass("verification-active"),i.checkPhone({dom:l,params:e,callback:function(e){v=e,c.setItem("asc"+s.val(),e),c.setItem("asctime",1*new Date)}}))}),u.on("click",function(){ga("send","event","login/sign","sign_mobilephone_relevance_confirm"),1*new Date-c.getItem("asctime")<=6e5&&c.getItem("asc"+s.val())?v=c.getItem("asc"+s.val()):(c.removeItem("asc"+s.val()),c.removeItem("asctime"));var e=s.val(),n=c.getItem("ascToken"),t={mobile:e,smsCode:d.val(),smsToken:v,countryCode:"+"+m.areaPhone.html().split("+")[1],thirdParty:{type:n.thirdPartyAccountType,id:n.id,name:n.name,facePicUrl:n.facePicUrl}};p(t)}),m.areaPhone.on("click",function(){m.area.show(),m.content.hide()}),m.area.on("click","dd",function(){var e=$(this).attr("countryCode"),n=$(this).attr("code");m.areaPhone.html(n+" "+e),m.area.hide(),m.content.show()}),m.cancel.on("click",function(){m.area.hide(),m.content.show()})}()}.call(n,t,n,e))&&(e.exports=o)}});
//# sourceMappingURL=associated.js.map