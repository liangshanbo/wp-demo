{"version":3,"sources":["webpack:///hy/op/newgift.js","webpack:///webpack/bootstrap e88654c60313c2e6e044?9e99*","webpack:///./src/js/conf/hy/op/newgift.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","7","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_AMD_DEFINE_RESULT__","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","undefined","require","e","Error","code","dlApp","Share","Ajax","Login","$mask","$","$modal","userId","hasLogin","userinfo","window","shareFB","picture","wapcsspath","href","location","replace","pathname","shareType","type","NewGift","this","bindEvents","_init","_getRed","self","on","internal","isLogin","share","login","dl","show","find","hide","showRedPacket","indexOf","query","url","data","status","pageNum","pageSize","success","orders","cashback","html","flag","$redclose","siblings","callback","errback","layer_show"],"mappings":"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","file":"hy\\op\\newgift.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 7:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\n * @title:新人礼\n * @time:  2017-05-04\n */\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n    __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"$\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var dlApp = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/dlApp\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Share = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/share/shareDialog\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Ajax = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/async/ajax\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Login = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/login\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n    var $mask = $(\".mask\"),\n        $modal = $(\".modal\");\n    var userId = \"\",\n        hasLogin = false;\n    if (userinfo) {\n        userId = userinfo[\"user\"][\"id\"];\n        hasLogin = true;\n    }\n    window.userId = userId;\n    window.hasLogin = hasLogin;\n    var shareFB = new Share({\n        picture: wapcsspath + \"/images/game/luckydraw/share.jpg\",\n        href: location.href.replace(location.pathname, \"/invite/regist\"),\n        shareType: \"gameShare\",\n        type: \"gif\"\n    });\n\n    var NewGift = function () {\n        function NewGift() {\n            _classCallCheck(this, NewGift);\n\n            this.bindEvents();\n            this._init();\n        }\n\n        _createClass(NewGift, [{\n            key: \"_init\",\n            value: function _init() {\n                var self = this;\n                self._getRed();\n            }\n        }, {\n            key: \"bindEvents\",\n            value: function bindEvents() {\n                var self = this;\n                $(\".btn01\").on(\"click\", function () {\n                    internal.isLogin(function () {\n                        internal.share();\n                    }, function () {\n                        Login.login();\n                    });\n                });\n                $(\".btn02\").on(\"click\", function () {\n                    dlApp.dl();\n                });\n                $(\".view a\").on(\"click\", function () {\n                    $modal.show();\n                });\n                $modal.find(\".close\").on(\"click\", function () {\n                    $modal.hide();\n                });\n                $mask.find(\".close\").on(\"click\", function () {\n                    $mask.hide();\n                });\n                $mask.find(\".red-close\").on(\"click\", function () {\n                    self.showRedPacket();\n                });\n                $mask.find(\".btn-more\").on(\"click\", function () {\n                    $mask.hide();\n                    internal.share();\n                });\n            }\n        }, {\n            key: \"_getRed\",\n            value: function _getRed() {\n                var self = this;\n                internal.isLogin(function () {\n                    var url = location.href;\n                    if (url.indexOf(\"source=banner\") < 0) {\n                        self.showRedPacket(1);\n                    }\n                    Ajax.query({\n                        url: \"/api/ext/cashback/details\",\n                        data: {\n                            status: \"ALL\",\n                            pageNum: 1,\n                            pageSize: 10,\n                            type: \"USERREGISTER\"\n                        },\n                        success: function success(data) {\n                            if (data.code === 200 && data.data.orders) {\n                                var orders = data.data.orders;\n                                if (orders && orders.length) {\n                                    var cashback = orders[0][\"cashBackAmount\"];\n                                    $mask.find(\".money\").html(cashback[\"symbol\"] + cashback[\"amount\"] / 100);\n                                }\n                            }\n                        }\n                    });\n                }, function () {});\n            }\n\n            /**\n             * @title: 打开红包弹框\n             * @param: flag 是否直接是打开的状态\n             */\n\n        }, {\n            key: \"showRedPacket\",\n            value: function showRedPacket(flag) {\n                var $redclose = $mask.find(\".red-close\");\n                if (flag) {\n                    $mask.find(\".close\").hide();\n                    $redclose.show().siblings().hide();\n                } else {\n                    $mask.find(\".close\").show();\n                    $redclose.hide().siblings().show();\n                }\n                $mask.show();\n            }\n        }]);\n\n        return NewGift;\n    }();\n\n    var internal = {\n        isLogin: function isLogin(callback, errback) {\n            if (userinfo) {\n                callback();\n            } else {\n                errback();\n            }\n        },\n        share: function share() {\n            shareFB.layer_show();\n        }\n    };\n\n    new NewGift();\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceMappingURL=../../../../maps/conf/hy/op/newgift.js.map\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// hy/op/newgift.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e88654c60313c2e6e044","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @title:新人礼\n * @time:  2017-05-04\n */\ndefine(\"conf/hy/op/newgift\", function (require, exports, module) {\n    require(\"$\");\n    var dlApp = require(\"utils/dlApp\"),\n        Share = require('mods/share/shareDialog'),\n        Ajax = require(\"utils/async/ajax\"),\n        Login = require(\"mods/login\");\n\n    var $mask = $(\".mask\"),\n        $modal = $(\".modal\");\n    var userId = \"\",\n        hasLogin = false;\n    if (userinfo) {\n        userId = userinfo[\"user\"][\"id\"];\n        hasLogin = true;\n    }\n    window.userId = userId;\n    window.hasLogin = hasLogin;\n    var shareFB = new Share({\n        picture: wapcsspath + \"/images/game/luckydraw/share.jpg\",\n        href: location.href.replace(location.pathname, \"/invite/regist\"),\n        shareType: \"gameShare\",\n        type: \"gif\"\n    });\n\n    var NewGift = function () {\n        function NewGift() {\n            _classCallCheck(this, NewGift);\n\n            this.bindEvents();\n            this._init();\n        }\n\n        _createClass(NewGift, [{\n            key: \"_init\",\n            value: function _init() {\n                var self = this;\n                self._getRed();\n            }\n        }, {\n            key: \"bindEvents\",\n            value: function bindEvents() {\n                var self = this;\n                $(\".btn01\").on(\"click\", function () {\n                    internal.isLogin(function () {\n                        internal.share();\n                    }, function () {\n                        Login.login();\n                    });\n                });\n                $(\".btn02\").on(\"click\", function () {\n                    dlApp.dl();\n                });\n                $(\".view a\").on(\"click\", function () {\n                    $modal.show();\n                });\n                $modal.find(\".close\").on(\"click\", function () {\n                    $modal.hide();\n                });\n                $mask.find(\".close\").on(\"click\", function () {\n                    $mask.hide();\n                });\n                $mask.find(\".red-close\").on(\"click\", function () {\n                    self.showRedPacket();\n                });\n                $mask.find(\".btn-more\").on(\"click\", function () {\n                    $mask.hide();\n                    internal.share();\n                });\n            }\n        }, {\n            key: \"_getRed\",\n            value: function _getRed() {\n                var self = this;\n                internal.isLogin(function () {\n                    var url = location.href;\n                    if (url.indexOf(\"source=banner\") < 0) {\n                        self.showRedPacket(1);\n                    }\n                    Ajax.query({\n                        url: \"/api/ext/cashback/details\",\n                        data: {\n                            status: \"ALL\",\n                            pageNum: 1,\n                            pageSize: 10,\n                            type: \"USERREGISTER\"\n                        },\n                        success: function success(data) {\n                            if (data.code === 200 && data.data.orders) {\n                                var orders = data.data.orders;\n                                if (orders && orders.length) {\n                                    var cashback = orders[0][\"cashBackAmount\"];\n                                    $mask.find(\".money\").html(cashback[\"symbol\"] + cashback[\"amount\"] / 100);\n                                }\n                            }\n                        }\n                    });\n                }, function () {});\n            }\n\n            /**\n             * @title: 打开红包弹框\n             * @param: flag 是否直接是打开的状态\n             */\n\n        }, {\n            key: \"showRedPacket\",\n            value: function showRedPacket(flag) {\n                var $redclose = $mask.find(\".red-close\");\n                if (flag) {\n                    $mask.find(\".close\").hide();\n                    $redclose.show().siblings().hide();\n                } else {\n                    $mask.find(\".close\").show();\n                    $redclose.hide().siblings().show();\n                }\n                $mask.show();\n            }\n        }]);\n\n        return NewGift;\n    }();\n\n    var internal = {\n        isLogin: function isLogin(callback, errback) {\n            if (userinfo) {\n                callback();\n            } else {\n                errback();\n            }\n        },\n        share: function share() {\n            shareFB.layer_show();\n        }\n    };\n\n    new NewGift();\n});\n//# sourceMappingURL=../../../../maps/conf/hy/op/newgift.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/conf/hy/op/newgift.js"],"sourceRoot":""}