!function(n){function e(i){if(o[i])return o[i].exports;var t=o[i]={i:i,l:!1,exports:{}};return n[i].call(t.exports,t,t.exports,e),t.l=!0,t.exports}var o={};e.m=n,e.c=o,e.i=function(n){return n},e.d=function(n,o,i){e.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=7)}({7:function(n,e,o){"use strict";function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r=function(){function n(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,o,i){return o&&n(e.prototype,o),i&&n(e,i),e}}();void 0!==(t=function(n,e,t){o(!function(){var n=new Error('Cannot find module "$"');throw n.code="MODULE_NOT_FOUND",n}());var c=o(!function(){var n=new Error('Cannot find module "utils/dlApp"');throw n.code="MODULE_NOT_FOUND",n}()),a=o(!function(){var n=new Error('Cannot find module "mods/share/shareDialog"');throw n.code="MODULE_NOT_FOUND",n}()),u=o(!function(){var n=new Error('Cannot find module "utils/async/ajax"');throw n.code="MODULE_NOT_FOUND",n}()),s=o(!function(){var n=new Error('Cannot find module "mods/login"');throw n.code="MODULE_NOT_FOUND",n}()),f=$(".mask"),l=$(".modal"),d="",h=!1;userinfo&&(d=userinfo.user.id,h=!0),window.userId=d,window.hasLogin=h;var w=new a({picture:wapcsspath+"/images/game/luckydraw/share.jpg",href:location.href.replace(location.pathname,"/invite/regist"),shareType:"gameShare",type:"gif"}),p=function(){function n(){i(this,n),this.bindEvents(),this._init()}return r(n,[{key:"_init",value:function(){this._getRed()}},{key:"bindEvents",value:function(){var n=this;$(".btn01").on("click",function(){v.isLogin(function(){v.share()},function(){s.login()})}),$(".btn02").on("click",function(){c.dl()}),$(".view a").on("click",function(){l.show()}),l.find(".close").on("click",function(){l.hide()}),f.find(".close").on("click",function(){f.hide()}),f.find(".red-close").on("click",function(){n.showRedPacket()}),f.find(".btn-more").on("click",function(){f.hide(),v.share()})}},{key:"_getRed",value:function(){var n=this;v.isLogin(function(){location.href.indexOf("source=banner")<0&&n.showRedPacket(1),u.query({url:"/api/ext/cashback/details",data:{status:"ALL",pageNum:1,pageSize:10,type:"USERREGISTER"},success:function(n){if(200===n.code&&n.data.orders){var e=n.data.orders;if(e&&e.length){var o=e[0].cashBackAmount;f.find(".money").html(o.symbol+o.amount/100)}}}})},function(){})}},{key:"showRedPacket",value:function(n){var e=f.find(".red-close");n?(f.find(".close").hide(),e.show().siblings().hide()):(f.find(".close").show(),e.hide().siblings().show()),f.show()}}]),n}(),v={isLogin:function(n,e){userinfo?n():e()},share:function(){w.layer_show()}};new p}.call(e,o,e,n))&&(n.exports=t)}});
//# sourceMappingURL=newgift.js.map