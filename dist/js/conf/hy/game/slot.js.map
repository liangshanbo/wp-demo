{"version":3,"sources":["webpack:///hy/game/slot.js","webpack:///webpack/bootstrap e88654c60313c2e6e044?9e99******","webpack:///./src/js/conf/hy/game/slot.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","2","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_typeof","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","__WEBPACK_AMD_DEFINE_RESULT__","Symbol","iterator","obj","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","undefined","require","userId","hasLogin","window","userinfo","user","id","Slot","e","Error","code","UI","_login","Share","appCall","Mobile","dlApp","shareFB","title","description","picture","wapcsspath","shareType","type","success","alertSecond","setTimeout","location","reload","failed","_Slot","SlotH5","this","_this","getPrototypeOf","_superinit","callH5","url","_share_init","$popup","$","$download","get_login","show","isIOS","find","hide","scroll","document","body","scrollTop","on","download","fbAsyncInit","FB","init","appId","xfbml","version","AppEvents","logPageView","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","callback","errback","login","layer_show","msg","dl"],"mappings":"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","file":"hy\\game\\slot.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\n/**\n * @title: 老虎机\n * @time:  2017-03-08\n * @author: wangchunpeng\n * 子类需实现方法 [login,get_login,toast]\n */\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n    var userId = \"\",\n        hasLogin = false;\n    if (window.userinfo) {\n        userId = userinfo.user.id;\n        hasLogin = true;\n    }\n    window.userId = userId;\n    window.hasLogin = hasLogin;\n    var Slot = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"conf/hy/game/slotmachine\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        UI = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"UI/dialog/alert.js\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        _login = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/login\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Share = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/share/shareDialog\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        appCall = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/appCall\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Mobile = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/check/mobile\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        dlApp = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/dlApp\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n    var shareFB = new Share({\n        title: \"SlotMachine\",\n        description: \"Slot Machine\",\n        picture: wapcsspath + \"/images/game/laohuji/share.gif\",\n        shareType: \"gameShare\",\n        type: \"gif\",\n        success: function success() {\n            UI.alertSecond(\"share success\");\n            setTimeout(function () {\n                location.reload();\n            }, 200);\n        },\n        failed: function failed() {\n            UI.alertSecond(\"share failed\");\n        }\n    });\n\n    var SlotH5 = function (_Slot) {\n        _inherits(SlotH5, _Slot);\n\n        function SlotH5(props) {\n            _classCallCheck(this, SlotH5);\n\n            var _this = _possibleConstructorReturn(this, (SlotH5.__proto__ || Object.getPrototypeOf(SlotH5)).call(this, props));\n\n            var self = _this;\n            _this._superinit();\n            appCall.callH5({\n                url: \"/game/slotmachine\"\n            });\n            setTimeout(function () {\n                self._share_init();\n            }, 0);\n            return _this;\n        }\n\n        _createClass(SlotH5, [{\n            key: \"_superinit\",\n            value: function _superinit() {\n                var hasLogin = false,\n                    $popup = $(\"#popup\"),\n                    self = this,\n                    $download = $(\"#download\");\n\n                self.get_login(function () {\n                    $(\".btns .btn_download\").show();\n                    $download.show();\n                    hasLogin = true;\n                }, function () {});\n\n                if (hasLogin) {\n                    if (Mobile.isIOS) {\n                        $download.find(\".down_android\").hide();\n                        $download.find(\".down_ios\").show();\n                    }\n                    $(window).scroll(function () {\n                        if (document.body.scrollTop > 0) {\n                            $download.hide();\n                        } else {\n                            $download.show();\n                        }\n                    });\n                    $popup.find(\".download li.no\").on(\"click\", function () {\n                        $popup.hide();\n                    });\n                    $popup.find(\".download li.yes\").on(\"click\", function () {\n                        self.download();\n                    });\n                    $download.on(\"click\", function () {\n                        self.download();\n                    });\n                }\n            }\n        }, {\n            key: \"_share_init\",\n            value: function _share_init() {\n                window.fbAsyncInit = function () {\n                    FB.init({\n                        appId: '125552021295455',\n                        xfbml: true,\n                        version: 'v2.8'\n                    });\n                    FB.AppEvents.logPageView();\n                };\n                (function (d, s, id) {\n                    var js,\n                        fjs = d.getElementsByTagName(s)[0];\n                    if (d.getElementById(id)) {\n                        return;\n                    }\n                    js = d.createElement(s);\n                    js.id = id;\n                    js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6\";\n                    fjs.parentNode.insertBefore(js, fjs);\n                })(document, 'script', 'facebook-jssdk');\n            }\n        }, {\n            key: \"get_login\",\n            value: function get_login(callback, errback) {\n                if (userinfo) {\n                    callback();\n                } else {\n                    errback();\n                }\n            }\n        }, {\n            key: \"login\",\n            value: function login(callback) {\n                _login.login();\n            }\n        }, {\n            key: \"share\",\n            value: function share() {\n                shareFB.layer_show();\n            }\n        }, {\n            key: \"toast\",\n            value: function toast(msg) {\n                UI.alertSecond(msg);\n            }\n        }, {\n            key: \"download\",\n            value: function download() {\n                dlApp.dl();\n            }\n        }]);\n\n        return SlotH5;\n    }(Slot);\n\n    new SlotH5();\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceMappingURL=../../../../maps/conf/hy/game/slot.js.map\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// hy/game/slot.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e88654c60313c2e6e044","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @title: 老虎机\n * @time:  2017-03-08\n * @author: wangchunpeng\n * 子类需实现方法 [login,get_login,toast]\n */\ndefine(\"conf/hy/game/slot\", function (require, exports, module) {\n    var userId = \"\",\n        hasLogin = false;\n    if (window.userinfo) {\n        userId = userinfo.user.id;\n        hasLogin = true;\n    }\n    window.userId = userId;\n    window.hasLogin = hasLogin;\n    var Slot = require(\"conf/hy/game/slotmachine\"),\n        UI = require('UI/dialog/alert.js'),\n        _login = require('mods/login'),\n        Share = require('mods/share/shareDialog'),\n        appCall = require(\"utils/appCall\"),\n        Mobile = require(\"mods/check/mobile\"),\n        dlApp = require(\"utils/dlApp\");\n\n    var shareFB = new Share({\n        title: \"SlotMachine\",\n        description: \"Slot Machine\",\n        picture: wapcsspath + \"/images/game/laohuji/share.gif\",\n        shareType: \"gameShare\",\n        type: \"gif\",\n        success: function success() {\n            UI.alertSecond(\"share success\");\n            setTimeout(function () {\n                location.reload();\n            }, 200);\n        },\n        failed: function failed() {\n            UI.alertSecond(\"share failed\");\n        }\n    });\n\n    var SlotH5 = function (_Slot) {\n        _inherits(SlotH5, _Slot);\n\n        function SlotH5(props) {\n            _classCallCheck(this, SlotH5);\n\n            var _this = _possibleConstructorReturn(this, (SlotH5.__proto__ || Object.getPrototypeOf(SlotH5)).call(this, props));\n\n            var self = _this;\n            _this._superinit();\n            appCall.callH5({\n                url: \"/game/slotmachine\"\n            });\n            setTimeout(function () {\n                self._share_init();\n            }, 0);\n            return _this;\n        }\n\n        _createClass(SlotH5, [{\n            key: \"_superinit\",\n            value: function _superinit() {\n                var hasLogin = false,\n                    $popup = $(\"#popup\"),\n                    self = this,\n                    $download = $(\"#download\");\n\n                self.get_login(function () {\n                    $(\".btns .btn_download\").show();\n                    $download.show();\n                    hasLogin = true;\n                }, function () {});\n\n                if (hasLogin) {\n                    if (Mobile.isIOS) {\n                        $download.find(\".down_android\").hide();\n                        $download.find(\".down_ios\").show();\n                    }\n                    $(window).scroll(function () {\n                        if (document.body.scrollTop > 0) {\n                            $download.hide();\n                        } else {\n                            $download.show();\n                        }\n                    });\n                    $popup.find(\".download li.no\").on(\"click\", function () {\n                        $popup.hide();\n                    });\n                    $popup.find(\".download li.yes\").on(\"click\", function () {\n                        self.download();\n                    });\n                    $download.on(\"click\", function () {\n                        self.download();\n                    });\n                }\n            }\n        }, {\n            key: \"_share_init\",\n            value: function _share_init() {\n                window.fbAsyncInit = function () {\n                    FB.init({\n                        appId: '125552021295455',\n                        xfbml: true,\n                        version: 'v2.8'\n                    });\n                    FB.AppEvents.logPageView();\n                };\n                (function (d, s, id) {\n                    var js,\n                        fjs = d.getElementsByTagName(s)[0];\n                    if (d.getElementById(id)) {\n                        return;\n                    }\n                    js = d.createElement(s);\n                    js.id = id;\n                    js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6\";\n                    fjs.parentNode.insertBefore(js, fjs);\n                })(document, 'script', 'facebook-jssdk');\n            }\n        }, {\n            key: \"get_login\",\n            value: function get_login(callback, errback) {\n                if (userinfo) {\n                    callback();\n                } else {\n                    errback();\n                }\n            }\n        }, {\n            key: \"login\",\n            value: function login(callback) {\n                _login.login();\n            }\n        }, {\n            key: \"share\",\n            value: function share() {\n                shareFB.layer_show();\n            }\n        }, {\n            key: \"toast\",\n            value: function toast(msg) {\n                UI.alertSecond(msg);\n            }\n        }, {\n            key: \"download\",\n            value: function download() {\n                dlApp.dl();\n            }\n        }]);\n\n        return SlotH5;\n    }(Slot);\n\n    new SlotH5();\n});\n//# sourceMappingURL=../../../../maps/conf/hy/game/slot.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/conf/hy/game/slot.js"],"sourceRoot":""}