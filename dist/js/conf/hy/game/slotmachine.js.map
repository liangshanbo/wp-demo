{"version":3,"sources":["webpack:///hy/game/slotmachine.js","webpack:///webpack/bootstrap e88654c60313c2e6e044?9e99*****","webpack:///./src/js/conf/hy/game/slotmachine.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","3","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_AMD_DEFINE_RESULT__","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","undefined","require","e","Error","code","Ajax","Swiper","Mobile","Storage","internal","WIN","LOSE","$price","$","Slot","this","playing","isToggleing","u","total_bonus_amount","data","bFirstRule","bFirstReward","num","result","_init","bindEvent","self","on","get_login","_ajax_playing","_go_btn_reset","login","hasClass","_sign","$self","type","addClass","toggleClass","attr","share","_popup","$popup","find","hide","_get_bonus","setTimeout","_pricebeat","time","_get_time","getItem","_set_sign_dis","removeClass","post","url","success","setItem","toast","_get_task_data","_set_bonus_num","message","query","pageNum","pageSize","amount","totalAmount","_set_bonus_amount","_set_reward","bonuses","symbol","countBalance","_set_task","$reward","$ul","str","style","html","eq","bonus","append","timestamp","date","Date","year","getFullYear","month","getMonth","day","getDate","h","getHours","getMinutes","obj","$task","split","$dds","k","isAdd","$nums","parseInt","css","_go","error","$lis","status","bonusStatus","arr","bonusLevel","random","Math","floor","each","index","animate","backgroundPositionY","duration","easing","complete","bonusAmount","valueOf","isAutoHide","show","siblings","pagination","isIOS","slidesPerView","direction"],"mappings":"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","file":"hy\\game\\slotmachine.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\n * @title: 老虎机\n * @time:  2017-03-08\n * @author: wangchunpeng\n * 子类需实现方法 [login,get_login,toast]\n */\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n    __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"$\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"lib/zeptojs/fx\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var Ajax = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/async/ajax\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Swiper = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/swiper\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Mobile = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/check/mobile\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())),\n        Storage = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/storage/storage\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n    var internal = {\n        WIN: [[1, 0, 1], [0, 0, 1], [0, 1, 1], [0, 1, 0], [1, 0, 0]],\n        LOSE: [[0, 0, 0], [1, 1, 1], [1, 1, 0]]\n    };\n    var $price = $(\"#main .head .price\");\n\n    var Slot = function () {\n        function Slot() {\n            _classCallCheck(this, Slot);\n\n            this.playing = false;\n            this.isToggleing = false;\n            this.u = 800 / 5; // 每个奖项占的大小\n            this.total_bonus_amount = 0; // 该用户的所有的中奖金额\n            this.data = {\n                bFirstRule: true, //规则弹框 只第一次的时候初始化\n                bFirstReward: true,\n                num: 1, // 转动的倍数\n                result: {} //中间结果\n            };\n            this._init();\n            this.bindEvent();\n        }\n\n        _createClass(Slot, [{\n            key: \"bindEvent\",\n            value: function bindEvent() {\n                var self = this;\n                $(\".go\").on(\"click\", function () {\n                    // GOGO\n                    if (self.playing) {\n                        return;\n                    }\n                    self.playing = true;\n                    self.get_login(function () {\n                        //每次玩都去请求是否是登录状态\n                        self._ajax_playing();\n                    }, function () {\n                        self._go_btn_reset();\n                        self.login(function () {});\n                    });\n                });\n                $(\".sign\").on(\"click\", function () {\n                    // 签到\n                    if ($(this).hasClass(\"disable\")) {\n                        return;\n                    }\n                    self._sign();\n                });\n                $(\".btn\").on(\"touchstart touchend\", function (e) {\n                    var self = this,\n                        $self = $(this);\n                    if ($self.hasClass(\"go\")) {\n                        if (e.type == \"touchstart\" && !self.playing) {\n                            $self.addClass(\"active\");\n                        }\n                    } else {\n                        $self.toggleClass(\"active\");\n                    }\n                });\n                $(\".btns li\").on(\"click\", function () {\n                    var type = $(this).attr(\"type\");\n                    if (type == \"share\") {\n                        self.get_login(function () {\n                            self.share();\n                        }, function () {\n                            self.login(function () {\n                                self.share();\n                            });\n                        });\n                        return;\n                    }\n                    self._popup(type);\n                });\n                $(\".price\").on(\"click\", function () {\n                    // 点击获奖数额--弹框\n                    self.get_login(function () {\n                        self._popup(\"reward\");\n                    }, function () {\n                        self.login();\n                    });\n                });\n                var $popup = $(\"#popup\");\n                $popup.find(\".close\").on(\"click\", function () {\n                    $popup.hide();\n                });\n                $popup.find(\".share img\").on(\"click\", function () {\n                    self.share();\n                });\n            }\n        }, {\n            key: \"_init\",\n            value: function _init() {\n                var self = this;\n                this.get_login(function (data) {\n                    self._get_bonus();\n                }, function () {});\n                setTimeout(function () {\n                    self._pricebeat();\n                }, 1000);\n\n                var time = self._get_time();\n                if (Storage.getItem(\"slot_\" + time)) {\n                    self._set_sign_dis();\n                }\n            }\n        }, {\n            key: \"_go_btn_reset\",\n            value: function _go_btn_reset() {\n                // Go按钮去除active\n                this.playing = false;\n                $(\".go\").removeClass(\"active\");\n            }\n        }, {\n            key: \"_pricebeat\",\n            value: function _pricebeat() {\n                var self = this;\n                $price.toggleClass(\"active\");\n                setTimeout(function () {\n                    self._pricebeat();\n                }, 1000);\n            }\n        }, {\n            key: \"_sign\",\n            value: function _sign() {\n                //签到\n                var self = this;\n                this.get_login(function (data) {\n                    Ajax.post({\n                        url: \"/api/activity/signing\",\n                        success: function success(data) {\n                            var time = self._get_time();\n                            Storage.setItem(\"slot_\" + time, 1);\n                            self._set_sign_dis();\n                            if (data.code == 200) {\n                                self.toast(\"sign success\");\n                                self._get_task_data(); //重新获取\n                                self._set_bonus_num(5, true);\n                            } else {\n                                self.toast(data.message);\n                            }\n                        }\n                    });\n                }, function () {\n                    self.login();\n                });\n            }\n        }, {\n            key: \"_set_sign_dis\",\n            value: function _set_sign_dis() {\n                $(\"#main .foot .sign\").addClass(\"disable\");\n            }\n        }, {\n            key: \"_get_bonus\",\n            value: function _get_bonus() {\n                // 获取该用户的抽奖次数、金额\n                var self = this;\n                self._get_task_data();\n                Ajax.query({\n                    url: \"/api/activity/slots/bonuses\",\n                    data: {\n                        pageNum: 1,\n                        pageSize: 6\n                    },\n                    success: function success(data) {\n                        if (data.code == 200) {\n                            var amount = data.data.totalAmount.amount;\n                            self._set_bonus_amount(amount);\n                            self._set_reward(data.data.bonuses, data.data.totalAmount.symbol);\n                        }\n                    }\n                });\n            }\n        }, {\n            key: \"_get_task_data\",\n            value: function _get_task_data() {\n                // 获取该用户任务状态\n                var self = this;\n                Ajax.query({\n                    url: \"/api/activity/slots/asset\",\n                    success: function success(data) {\n                        if (data.code == 200) {\n                            self._set_bonus_num(data.data.countBalance);\n                            self._set_task(data.data);\n                        } else {\n                            self.toast(data.message);\n                        }\n                    }\n                });\n            }\n        }, {\n            key: \"_set_reward\",\n            value: function _set_reward(bonuses, symbol) {\n                // 该用户中奖信息\n                var $reward = $(\"#popup .reward\"),\n                    $ul = $reward.find(\"ul\"),\n                    str = \"\",\n                    self = this,\n                    style = \"\";\n                if (symbol) {\n                    $reward.find(\".title span.symbol\").html(symbol);\n                }\n                if ($ul.find(\"li\").length > 0) {\n                    style = $ul.find(\"li\").eq(0).attr(\"style\");\n                }\n                for (var i = 0, l = bonuses.length; i < l; i++) {\n                    var bonus = bonuses[i];\n                    str += \"<li class='swiper-slide' style='\" + style + \"'>\";\n                    str += self._get_time(bonus[\"bonusTime\"]) + \" get \" + bonus[\"amount\"][\"amount\"] / 100 + \" ₹\";\n                    str += \"</li>\";\n                }\n                $ul.append(str);\n            }\n        }, {\n            key: \"_get_time\",\n            value: function _get_time(timestamp) {\n                var date = timestamp ? new Date(timestamp) : new Date(),\n                    year = date.getFullYear(),\n                    month = date.getMonth() + 1,\n                    day = date.getDate();\n                month = month > 9 ? month : \"0\" + month;\n                day = day > 9 ? day : \"0\" + day;\n                if (timestamp) {\n                    var h = date.getHours(),\n                        m = date.getMinutes();\n                    h = h > 9 ? h : \"0\" + h;\n                    m = m > 9 ? m : \"0\" + m;\n                    return year + \" \" + month + \".\" + day + \" \" + h + \":\" + m;\n                } else {\n                    return year + \"_\" + month + \"_\" + day;\n                }\n            }\n        }, {\n            key: \"_set_task\",\n            value: function _set_task(obj) {\n                //该用户任务完成情况\n                var $task = $(\"#popup .task\");\n                for (var key in obj) {\n                    if (obj[key] === \"COMPLETED\") {\n                        $task.find(\"li.\" + key).addClass(\"active\");\n                    }\n                }\n            }\n        }, {\n            key: \"_set_bonus_amount\",\n            value: function _set_bonus_amount(amount) {\n                // 设置中奖金额\n                if (amount <= 0) {\n                    return;\n                }\n                amount = amount / 100;\n                this.total_bonus_amount += amount; //加上之前加载出来的\n                amount = this.total_bonus_amount;\n                $(\"#popup .reward .amount\").html(amount); //设置弹框的总中奖金额\n                amount = (amount + \"\").split(\"\");\n                var $dds = $(\".head .price dd\"),\n                    k = amount.length,\n                    l = $dds.length;\n                for (var i = amount.length; i > 0; i--) {\n                    $dds.eq(l - 1 - k + i).html(amount[i - 1]);\n                }\n            }\n        }, {\n            key: \"_set_bonus_num\",\n            value: function _set_bonus_num(num, isAdd) {\n                //设置剩余抽奖次数\n                var $nums = $(\".ctls .nums\");\n                if (isAdd) {\n                    num += parseInt($nums.html());\n                }\n                $nums.html(num);\n            }\n        }, {\n            key: \"_ajax_playing\",\n            value: function _ajax_playing() {\n                // 请求接口是否中奖\n                var self = this;\n                Ajax.post({\n                    url: \"/api/activity/slots/gamePlaying\",\n                    success: function success(data) {\n                        if (data.code != 200) {\n                            self.toast(\"Your chance is 0, you can get through the task to get more chance to win!\");\n                            self._go_btn_reset();\n                            return;\n                        }\n                        self.data.result = data;\n                        var $lis = $(\".content li\");\n                        $lis.css(\"backgroundPositionY\", 0);\n                        self.data.num = 1;\n                        self._go();\n                    },\n                    error: function error() {\n                        self._go_btn_reset();\n                        self.data.result = {};\n                    }\n                });\n            }\n        }, {\n            key: \"_go\",\n            value: function _go() {\n                //转起来吧\n                var self = this,\n                    $lis = $(\".content li\"),\n                    num = self.data.num++,\n                    result = self.data.result,\n                    status = result.data.bonusStatus,\n\n                //[WIN,LOSE]\n                arr = [];\n                if (status == \"WIN\") {\n                    arr = internal[\"WIN\"][result.data.bonusLevel - 1]; //根据几等奖显示结果\n                } else {\n                    var random = Math.floor(Math.random() * 3);\n                    arr = internal[\"LOSE\"][random];\n                }\n                // console.log(arr);\n                $lis.each(function (i) {\n                    (function (index) {\n                        $lis.eq(index).animate({\n                            // backgroundPositionY: (self.u * (num * 50 + arr[index]) / 100 + 0.1) + \"rem\"\n                            backgroundPositionY: (num * 10 + arr[index]) * -100 + \"%\"\n                        }, {\n                            duration: 3000 + 3000 * index,\n                            easing: \"easeInOutCirc\",\n                            complete: function complete() {\n                                if (index == 2) {\n                                    if (status === \"WIN\") {\n                                        var $popup = $(\"#popup\"),\n                                            data = result.data,\n                                            amount = data.bonusAmount.amount,\n                                            obj = {};\n                                        $popup.find(\".win\").find(\".bonus\").html(amount / 100);\n                                        self._popup(\"win\", true);\n                                        self._set_bonus_amount(amount);\n                                        obj[\"bonusTime\"] = new Date().valueOf();\n                                        obj[\"amount\"] = data.bonusAmount;\n                                        self._set_reward([obj]);\n                                    }\n                                    self._set_bonus_num(result.data.countBalance); //剩余抽奖次数\n                                    self._go_btn_reset();\n                                }\n                            }\n                        });\n                    })(i);\n                });\n            }\n\n            /**\n             * @title: 弹框\n             * @param  {[type]}   type       [description] 弹框类型\n             * @param  {Boolean}  isAutoHide [description] 是否是自动隐藏(3秒隐藏)\n             */\n\n        }, {\n            key: \"_popup\",\n            value: function _popup(type, isAutoHide) {\n                var $popup = $(\"#popup\"),\n                    self = this;\n                if (type == \"win\") {\n                    $popup.find(\".win\").show().siblings().hide();\n                } else if ($popup.find(\".\" + type).length) {\n                    $popup.find(\".box_head\").show();\n                    $popup.find(\".box_deco\").show();\n                    $popup.find(\".box .close\").show();\n                    switch (type) {\n                        case \"rules\":\n                            $popup.find(\".box_deco\").hide();\n                            $popup.find(\".box_head\").hide();\n                            if (self.data.bFirstRule) {\n                                self.data.bFirstRule = false;\n                                setTimeout(function () {\n                                    new Swiper('.rules .swiper-container', {\n                                        pagination: '.swiper-pagination'\n                                    });\n                                }, 0);\n                            }\n                            break;\n                        case \"download\":\n                            $popup.find(\".box_deco\").hide();\n                            $popup.find(\".box_head\").hide();\n                            if (Mobile.isIOS) {\n                                $popup.find(\".android\").hide();\n                            } else {\n                                $popup.find(\".ios\").hide();\n                            }\n                            $popup.find(\".box .close\").hide();\n                            break;\n                        case \"reward\":\n                            if (self.data.bFirstReward && $popup.find(\".reward li\").length > 1) {\n                                self.data.bFirstReward = false;\n                                setTimeout(function () {\n                                    new Swiper('.reward .swiper-container', {\n                                        slidesPerView: 1,\n                                        direction: 'vertical'\n                                    });\n                                }, 0);\n                            }\n                            break;\n                    }\n                    $popup.find(\".box\").show().siblings().hide();\n                    $popup.find(\".box_head>.\" + type).show().siblings().hide();\n                    $popup.find(\".box_content>.\" + type).show().siblings().hide();\n                }\n                $popup.show();\n                if (isAutoHide) {\n                    setTimeout(function () {\n                        $popup.hide();\n                    }, 3000);\n                }\n            }\n        }]);\n\n        return Slot;\n    }();\n\n    module.exports = Slot;\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceMappingURL=../../../../maps/conf/hy/game/slotmachine.js.map\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// hy/game/slotmachine.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e88654c60313c2e6e044","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @title: 老虎机\n * @time:  2017-03-08\n * @author: wangchunpeng\n * 子类需实现方法 [login,get_login,toast]\n */\ndefine(\"conf/hy/game/slotmachine\", function (require, exports, module) {\n    require(\"$\");\n    require(\"lib/zeptojs/fx\");\n    var Ajax = require(\"utils/async/ajax\"),\n        Swiper = require('mods/swiper'),\n        Mobile = require(\"mods/check/mobile\"),\n        Storage = require(\"mods/storage/storage\");\n\n    var internal = {\n        WIN: [[1, 0, 1], [0, 0, 1], [0, 1, 1], [0, 1, 0], [1, 0, 0]],\n        LOSE: [[0, 0, 0], [1, 1, 1], [1, 1, 0]]\n    };\n    var $price = $(\"#main .head .price\");\n\n    var Slot = function () {\n        function Slot() {\n            _classCallCheck(this, Slot);\n\n            this.playing = false;\n            this.isToggleing = false;\n            this.u = 800 / 5; // 每个奖项占的大小\n            this.total_bonus_amount = 0; // 该用户的所有的中奖金额\n            this.data = {\n                bFirstRule: true, //规则弹框 只第一次的时候初始化\n                bFirstReward: true,\n                num: 1, // 转动的倍数\n                result: {} //中间结果\n            };\n            this._init();\n            this.bindEvent();\n        }\n\n        _createClass(Slot, [{\n            key: \"bindEvent\",\n            value: function bindEvent() {\n                var self = this;\n                $(\".go\").on(\"click\", function () {\n                    // GOGO\n                    if (self.playing) {\n                        return;\n                    }\n                    self.playing = true;\n                    self.get_login(function () {\n                        //每次玩都去请求是否是登录状态\n                        self._ajax_playing();\n                    }, function () {\n                        self._go_btn_reset();\n                        self.login(function () {});\n                    });\n                });\n                $(\".sign\").on(\"click\", function () {\n                    // 签到\n                    if ($(this).hasClass(\"disable\")) {\n                        return;\n                    }\n                    self._sign();\n                });\n                $(\".btn\").on(\"touchstart touchend\", function (e) {\n                    var self = this,\n                        $self = $(this);\n                    if ($self.hasClass(\"go\")) {\n                        if (e.type == \"touchstart\" && !self.playing) {\n                            $self.addClass(\"active\");\n                        }\n                    } else {\n                        $self.toggleClass(\"active\");\n                    }\n                });\n                $(\".btns li\").on(\"click\", function () {\n                    var type = $(this).attr(\"type\");\n                    if (type == \"share\") {\n                        self.get_login(function () {\n                            self.share();\n                        }, function () {\n                            self.login(function () {\n                                self.share();\n                            });\n                        });\n                        return;\n                    }\n                    self._popup(type);\n                });\n                $(\".price\").on(\"click\", function () {\n                    // 点击获奖数额--弹框\n                    self.get_login(function () {\n                        self._popup(\"reward\");\n                    }, function () {\n                        self.login();\n                    });\n                });\n                var $popup = $(\"#popup\");\n                $popup.find(\".close\").on(\"click\", function () {\n                    $popup.hide();\n                });\n                $popup.find(\".share img\").on(\"click\", function () {\n                    self.share();\n                });\n            }\n        }, {\n            key: \"_init\",\n            value: function _init() {\n                var self = this;\n                this.get_login(function (data) {\n                    self._get_bonus();\n                }, function () {});\n                setTimeout(function () {\n                    self._pricebeat();\n                }, 1000);\n\n                var time = self._get_time();\n                if (Storage.getItem(\"slot_\" + time)) {\n                    self._set_sign_dis();\n                }\n            }\n        }, {\n            key: \"_go_btn_reset\",\n            value: function _go_btn_reset() {\n                // Go按钮去除active\n                this.playing = false;\n                $(\".go\").removeClass(\"active\");\n            }\n        }, {\n            key: \"_pricebeat\",\n            value: function _pricebeat() {\n                var self = this;\n                $price.toggleClass(\"active\");\n                setTimeout(function () {\n                    self._pricebeat();\n                }, 1000);\n            }\n        }, {\n            key: \"_sign\",\n            value: function _sign() {\n                //签到\n                var self = this;\n                this.get_login(function (data) {\n                    Ajax.post({\n                        url: \"/api/activity/signing\",\n                        success: function success(data) {\n                            var time = self._get_time();\n                            Storage.setItem(\"slot_\" + time, 1);\n                            self._set_sign_dis();\n                            if (data.code == 200) {\n                                self.toast(\"sign success\");\n                                self._get_task_data(); //重新获取\n                                self._set_bonus_num(5, true);\n                            } else {\n                                self.toast(data.message);\n                            }\n                        }\n                    });\n                }, function () {\n                    self.login();\n                });\n            }\n        }, {\n            key: \"_set_sign_dis\",\n            value: function _set_sign_dis() {\n                $(\"#main .foot .sign\").addClass(\"disable\");\n            }\n        }, {\n            key: \"_get_bonus\",\n            value: function _get_bonus() {\n                // 获取该用户的抽奖次数、金额\n                var self = this;\n                self._get_task_data();\n                Ajax.query({\n                    url: \"/api/activity/slots/bonuses\",\n                    data: {\n                        pageNum: 1,\n                        pageSize: 6\n                    },\n                    success: function success(data) {\n                        if (data.code == 200) {\n                            var amount = data.data.totalAmount.amount;\n                            self._set_bonus_amount(amount);\n                            self._set_reward(data.data.bonuses, data.data.totalAmount.symbol);\n                        }\n                    }\n                });\n            }\n        }, {\n            key: \"_get_task_data\",\n            value: function _get_task_data() {\n                // 获取该用户任务状态\n                var self = this;\n                Ajax.query({\n                    url: \"/api/activity/slots/asset\",\n                    success: function success(data) {\n                        if (data.code == 200) {\n                            self._set_bonus_num(data.data.countBalance);\n                            self._set_task(data.data);\n                        } else {\n                            self.toast(data.message);\n                        }\n                    }\n                });\n            }\n        }, {\n            key: \"_set_reward\",\n            value: function _set_reward(bonuses, symbol) {\n                // 该用户中奖信息\n                var $reward = $(\"#popup .reward\"),\n                    $ul = $reward.find(\"ul\"),\n                    str = \"\",\n                    self = this,\n                    style = \"\";\n                if (symbol) {\n                    $reward.find(\".title span.symbol\").html(symbol);\n                }\n                if ($ul.find(\"li\").length > 0) {\n                    style = $ul.find(\"li\").eq(0).attr(\"style\");\n                }\n                for (var i = 0, l = bonuses.length; i < l; i++) {\n                    var bonus = bonuses[i];\n                    str += \"<li class='swiper-slide' style='\" + style + \"'>\";\n                    str += self._get_time(bonus[\"bonusTime\"]) + \" get \" + bonus[\"amount\"][\"amount\"] / 100 + \" ₹\";\n                    str += \"</li>\";\n                }\n                $ul.append(str);\n            }\n        }, {\n            key: \"_get_time\",\n            value: function _get_time(timestamp) {\n                var date = timestamp ? new Date(timestamp) : new Date(),\n                    year = date.getFullYear(),\n                    month = date.getMonth() + 1,\n                    day = date.getDate();\n                month = month > 9 ? month : \"0\" + month;\n                day = day > 9 ? day : \"0\" + day;\n                if (timestamp) {\n                    var h = date.getHours(),\n                        m = date.getMinutes();\n                    h = h > 9 ? h : \"0\" + h;\n                    m = m > 9 ? m : \"0\" + m;\n                    return year + \" \" + month + \".\" + day + \" \" + h + \":\" + m;\n                } else {\n                    return year + \"_\" + month + \"_\" + day;\n                }\n            }\n        }, {\n            key: \"_set_task\",\n            value: function _set_task(obj) {\n                //该用户任务完成情况\n                var $task = $(\"#popup .task\");\n                for (var key in obj) {\n                    if (obj[key] === \"COMPLETED\") {\n                        $task.find(\"li.\" + key).addClass(\"active\");\n                    }\n                }\n            }\n        }, {\n            key: \"_set_bonus_amount\",\n            value: function _set_bonus_amount(amount) {\n                // 设置中奖金额\n                if (amount <= 0) {\n                    return;\n                }\n                amount = amount / 100;\n                this.total_bonus_amount += amount; //加上之前加载出来的\n                amount = this.total_bonus_amount;\n                $(\"#popup .reward .amount\").html(amount); //设置弹框的总中奖金额\n                amount = (amount + \"\").split(\"\");\n                var $dds = $(\".head .price dd\"),\n                    k = amount.length,\n                    l = $dds.length;\n                for (var i = amount.length; i > 0; i--) {\n                    $dds.eq(l - 1 - k + i).html(amount[i - 1]);\n                }\n            }\n        }, {\n            key: \"_set_bonus_num\",\n            value: function _set_bonus_num(num, isAdd) {\n                //设置剩余抽奖次数\n                var $nums = $(\".ctls .nums\");\n                if (isAdd) {\n                    num += parseInt($nums.html());\n                }\n                $nums.html(num);\n            }\n        }, {\n            key: \"_ajax_playing\",\n            value: function _ajax_playing() {\n                // 请求接口是否中奖\n                var self = this;\n                Ajax.post({\n                    url: \"/api/activity/slots/gamePlaying\",\n                    success: function success(data) {\n                        if (data.code != 200) {\n                            self.toast(\"Your chance is 0, you can get through the task to get more chance to win!\");\n                            self._go_btn_reset();\n                            return;\n                        }\n                        self.data.result = data;\n                        var $lis = $(\".content li\");\n                        $lis.css(\"backgroundPositionY\", 0);\n                        self.data.num = 1;\n                        self._go();\n                    },\n                    error: function error() {\n                        self._go_btn_reset();\n                        self.data.result = {};\n                    }\n                });\n            }\n        }, {\n            key: \"_go\",\n            value: function _go() {\n                //转起来吧\n                var self = this,\n                    $lis = $(\".content li\"),\n                    num = self.data.num++,\n                    result = self.data.result,\n                    status = result.data.bonusStatus,\n                    //[WIN,LOSE]\n                arr = [];\n                if (status == \"WIN\") {\n                    arr = internal[\"WIN\"][result.data.bonusLevel - 1]; //根据几等奖显示结果\n                } else {\n                    var random = Math.floor(Math.random() * 3);\n                    arr = internal[\"LOSE\"][random];\n                }\n                // console.log(arr);\n                $lis.each(function (i) {\n                    (function (index) {\n                        $lis.eq(index).animate({\n                            // backgroundPositionY: (self.u * (num * 50 + arr[index]) / 100 + 0.1) + \"rem\"\n                            backgroundPositionY: (num * 10 + arr[index]) * -100 + \"%\"\n                        }, {\n                            duration: 3000 + 3000 * index,\n                            easing: \"easeInOutCirc\",\n                            complete: function complete() {\n                                if (index == 2) {\n                                    if (status === \"WIN\") {\n                                        var $popup = $(\"#popup\"),\n                                            data = result.data,\n                                            amount = data.bonusAmount.amount,\n                                            obj = {};\n                                        $popup.find(\".win\").find(\".bonus\").html(amount / 100);\n                                        self._popup(\"win\", true);\n                                        self._set_bonus_amount(amount);\n                                        obj[\"bonusTime\"] = new Date().valueOf();\n                                        obj[\"amount\"] = data.bonusAmount;\n                                        self._set_reward([obj]);\n                                    }\n                                    self._set_bonus_num(result.data.countBalance); //剩余抽奖次数\n                                    self._go_btn_reset();\n                                }\n                            }\n                        });\n                    })(i);\n                });\n            }\n\n            /**\n             * @title: 弹框\n             * @param  {[type]}   type       [description] 弹框类型\n             * @param  {Boolean}  isAutoHide [description] 是否是自动隐藏(3秒隐藏)\n             */\n\n        }, {\n            key: \"_popup\",\n            value: function _popup(type, isAutoHide) {\n                var $popup = $(\"#popup\"),\n                    self = this;\n                if (type == \"win\") {\n                    $popup.find(\".win\").show().siblings().hide();\n                } else if ($popup.find(\".\" + type).length) {\n                    $popup.find(\".box_head\").show();\n                    $popup.find(\".box_deco\").show();\n                    $popup.find(\".box .close\").show();\n                    switch (type) {\n                        case \"rules\":\n                            $popup.find(\".box_deco\").hide();\n                            $popup.find(\".box_head\").hide();\n                            if (self.data.bFirstRule) {\n                                self.data.bFirstRule = false;\n                                setTimeout(function () {\n                                    new Swiper('.rules .swiper-container', {\n                                        pagination: '.swiper-pagination'\n                                    });\n                                }, 0);\n                            }\n                            break;\n                        case \"download\":\n                            $popup.find(\".box_deco\").hide();\n                            $popup.find(\".box_head\").hide();\n                            if (Mobile.isIOS) {\n                                $popup.find(\".android\").hide();\n                            } else {\n                                $popup.find(\".ios\").hide();\n                            }\n                            $popup.find(\".box .close\").hide();\n                            break;\n                        case \"reward\":\n                            if (self.data.bFirstReward && $popup.find(\".reward li\").length > 1) {\n                                self.data.bFirstReward = false;\n                                setTimeout(function () {\n                                    new Swiper('.reward .swiper-container', {\n                                        slidesPerView: 1,\n                                        direction: 'vertical'\n                                    });\n                                }, 0);\n                            }\n                            break;\n                    }\n                    $popup.find(\".box\").show().siblings().hide();\n                    $popup.find(\".box_head>.\" + type).show().siblings().hide();\n                    $popup.find(\".box_content>.\" + type).show().siblings().hide();\n                }\n                $popup.show();\n                if (isAutoHide) {\n                    setTimeout(function () {\n                        $popup.hide();\n                    }, 3000);\n                }\n            }\n        }]);\n\n        return Slot;\n    }();\n\n    module.exports = Slot;\n});\n//# sourceMappingURL=../../../../maps/conf/hy/game/slotmachine.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/conf/hy/game/slotmachine.js"],"sourceRoot":""}