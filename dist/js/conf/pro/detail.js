!function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=34)}({34:function(t,n,e){"use strict";var o;void 0!==(o=function(t,n,o){function i(){if("1"===f.getCookie("collect")){"1"==m.btns.like.attr("collect")?(l.alertSecond("success"),f.setCookie("collect","0",1/1440)):a(m.params.id,m.btns.like)}$("#swiper-banner").children().length>1?new d(".carousel",{loop:!0,lazyLoading:!0,pagination:".swiper-pagination",onInit:function(){e(!function(){var t=new Error('Cannot find module "utils/async/lazyload.js"');throw t.code="MODULE_NOT_FOUND",t}())},autoplay:3e3}):e(!function(){var t=new Error('Cannot find module "utils/async/lazyload.js"');throw t.code="MODULE_NOT_FOUND",t}()),r()}function r(){m.btns.buy.on("click",function(){c.isLogin(function(){if(f.getCookie("third_layer")){var t=m.btns.buy.attr("data-url")+"&affExtParam1="+userId;location.assign(t||"/")}else m.thirdParty.show()})}),m.btns.like.on("click",function(){var t=m.btns.like.attr("collect"),n=location.pathname+location.search;c.isLogin(function(){if("0"===t)return void a(m.params.id,m.btns.like);s(m.params.id,m.btns.like)},n,"&type=collect")}),m.btns.layerBtn.on("click",function(){m.btns.layerBtn.attr("amount")>100&&m.btns.layer.show()}),m.btns.closeLayer.on("click",function(){m.btns.layer.hide()}),m.btns.showList.length>0&&m.btns.showList.on("click",function(){if("1"===m.skus.attr("isShow"))return void m.skus.attr("isShow","0").find("li").each(function(){$(this).children("span").children().length>4&&$(this).children("span").children().each(function(){$(this).index()>3&&$(this).hide()}),$(this).index()>3&&$(this).hide()});m.skus.attr("isShow","1").find("li,a,del").show()}),m.btns.select.on("click",function(){if($(this).hasClass("active"))return void $(this).removeClass("active");$(this).addClass("active")}),m.btns.confirm.on("click",function(){var t=m.btns.buy.attr("data-url")+"&affExtParam1="+userId;m.btns.select.hasClass("active")&&f.setCookie("third_layer",1,9999),location.assign(t||"/")})}function a(t,n){u.post({url:"/api/user/item?itemId="+t,success:function(t){200===t.code&&(n.attr("collect","1").children("i").addClass("active"),l.alertSecond("success"))},error:function(t){l.alertSecond(t.message)}})}function s(t,n){u.delete({url:"/api/user/item",data:{itemId:t},success:function(t){200===t.code&&(n.attr("collect","0").children("i").removeClass("active"),l.alertSecond("Cancel success"))},error:function(t){l.alertSecond(t.message)}})}e(!function(){var t=new Error('Cannot find module "$"');throw t.code="MODULE_NOT_FOUND",t}());var c=e(!function(){var t=new Error('Cannot find module "mods/login"');throw t.code="MODULE_NOT_FOUND",t}()),l=e(!function(){var t=new Error('Cannot find module "UI/dialog/alert"');throw t.code="MODULE_NOT_FOUND",t}()),u=e(!function(){var t=new Error('Cannot find module "utils/async/ajax"');throw t.code="MODULE_NOT_FOUND",t}()),d=e(!function(){var t=new Error('Cannot find module "mods/swiper.js"');throw t.code="MODULE_NOT_FOUND",t}()),f=e(!function(){var t=new Error('Cannot find module "mods/storage/cookie.js"');throw t.code="MODULE_NOT_FOUND",t}()),h=e(!function(){var t=new Error('Cannot find module "mods/share/shareDialog"');throw t.code="MODULE_NOT_FOUND",t}()),m={btns:{buy:$("#buy"),like:$("#like"),share:$("#share"),layerBtn:$("#proDetailLayer"),layer:$("#goodDetailLayer"),closeLayer:$("#closeLayer"),showList:$("#showList"),select:$("#select"),confirm:$("#confirm")},thirdParty:$("#third_party"),params:function(t){var n={};t=t||location.search,t=/^\?.*/i.test(t)?t.substr(1):t;for(var e=t.split("&"),o=0,i=e.length;o<i;o++){var r=e[o].split("=");n[r[0]]=r[1]}return n}(),fns:{init:i},skus:$("#skus")};m.fns.init();new h({bindEvent:m.btns.share,shareId:$(".detail").attr("data-id"),title:$(".detail-title").text(),hashtag:"#GOMEPLUS"})}.call(n,e,n,t))&&(t.exports=o)}});
//# sourceMappingURL=detail.js.map