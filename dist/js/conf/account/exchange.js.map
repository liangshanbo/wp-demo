{"version":3,"sources":["webpack:///account/exchange.js","webpack:///webpack/bootstrap 8b2b675c3aac98533b55?b3c4*************","webpack:///./src/js/conf/account/exchange.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","2","__WEBPACK_AMD_DEFINE_RESULT__","undefined","require","bindExchangeEvents","states","commonMod","renderCompleted","shownElementName","cardId","isExchanging","iconFlySwitch","successfulExchanges","badgeBlinkSwitch","toastDuration","cardListRes","code","data","balance","amount","giftCards","vm","Vue","el","methods","fetchGiftcardsList","ajax","query","url","success","res","scrollIntoTargetSelector","error","showExchangePrompt","evt","this","$","target","sendExchangeReq","post","id","result","removeMaskAndAlert","message","fail","checkNetwork","msg","exchangeSuccessful","UI","alertSecond","setTimeout","animate","waitTime","arguments","length","window","navigator","onLine","storage","setItem","toMyGiftcards","removeItem","newRef","location","href","replace","init","setFilters","created","getItem","e","Error"],"mappings":"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","file":"account\\exchange.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;\n\n/**\n * 礼品卡兑换 - h5\n * @author 张恩铭\n * @date 20170324\n * 页面引用\n *  <script src=\"__PUBLIC__/js/lithe.js\"\n data-config=\"config.js\"\n data-debug=\"true\"\n data-main=\"conf/account/exchange.js\">\n </script>\n */\n\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n    var $ = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"$\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var ajax = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utils/async/ajax.js\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var Vue = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"vue\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var UI = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"UI/dialog/alert\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n    var storage = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"mods/storage/storage\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n    var commonMod = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"conf/account/_common.js\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n    $(bindExchangeEvents);\n\n    function bindExchangeEvents() {\n\n        var states = {\n            // 公共方法\n            commonMod: commonMod,\n            // 首次渲染完成\n            renderCompleted: false,\n            // 要显示的遮罩层子元素\n            shownElementName: '',\n            // 要兑换的卡号\n            cardId: '',\n            // 兑换请求是否已完成\n            isExchanging: false,\n            // 浮动图标的动画开关\n            iconFlySwitch: false,\n            // 兑换成功次数，控制右上角礼品卡图标的通知\n            successfulExchanges: 0,\n            // 通知闪烁开关\n            badgeBlinkSwitch: false,\n            // toast持续时间\n            toastDuration: 2000,\n            // 礼品卡数据\n            cardListRes: {\n                code: 0,\n                data: {\n                    balance: {\n                        amount: 0\n                    },\n                    giftCards: []\n                }\n            }\n        };\n\n        var vm = new Vue({\n            el: 'body',\n            data: function data() {\n                return states;\n            },\n\n            methods: {\n                /*\n                更新giftcards列表。请求失败则使用现有列表\n                */\n                fetchGiftcardsList: function fetchGiftcardsList() {\n                    ajax.query({\n                        url: '/api/trade/giftCards',\n                        success: function success(res) {\n                            if (res.code === 200) {\n                                vm.cardListRes = res;\n                            }\n                            if (vm.cardId !== '') {\n                                commonMod.scrollIntoTargetSelector('.cards-li');\n                            }\n                            vm.renderCompleted = true;\n                        },\n                        error: function error() {\n                            vm.renderCompleted = true;\n                        }\n                    });\n                },\n\n                /*\n                取得按钮的card-id属性，显示兑换对话框浮层\n                */\n                showExchangePrompt: function showExchangePrompt(evt) {\n                    if (!this.isExchanging) {\n                        this.cardId = $(evt.target).data('card-id');\n                        this.shownElementName = 'prompt';\n                    }\n                },\n\n                /*\n                发送兑换请求，请求结束后移除遮罩层\n                */\n                sendExchangeReq: function sendExchangeReq() {\n                    this.shownElementName = 'loading';\n                    ajax.post({\n                        url: '/api/trade/myGiftCard',\n                        data: {\n                            id: vm.cardId\n                        },\n                        success: function success(result) {\n                            if (result.code === 200) {\n                                vm.removeMaskAndAlert('Exchanged Sucessfully. Check it in My Gift Voucher.', true);\n                            } else {\n                                vm.removeMaskAndAlert(result.message, false);\n                            }\n                        },\n                        fail: function fail(result) {\n                            vm.removeMaskAndAlert('Exchange failed.', false);\n                        }\n                    });\n                    this.checkNetwork();\n                },\n\n                /*\n                移除遮罩层后，toast提示信息，toast消失后，根据兑换的结果启动动画\n                */\n                removeMaskAndAlert: function removeMaskAndAlert(msg, exchangeSuccessful) {\n                    // 移除遮罩层和子元素\n                    this.shownElementName = '';\n                    // 提供字符串参数时toast之\n                    if (typeof msg === 'string') {\n                        // 暂时禁用兑换按钮\n                        this.isExchanging = true;\n                        // toast消失后，根据兑换结果启动动画\n                        UI.alertSecond(msg, null, this.toastDuration);\n                        setTimeout(function () {\n                            vm.animate(exchangeSuccessful);\n                        }, vm.toastDuration);\n                    }\n                    this.fetchGiftcardsList();\n                },\n\n                /*\n                超时提示\n                */\n                checkNetwork: function checkNetwork() {\n                    var waitTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3000;\n\n                    setTimeout(function () {\n                        if (!window.navigator.onLine) {\n                            vm.removeMaskAndAlert('Please check your network.');\n                        };\n                    }, waitTime);\n                },\n\n                /*\n                兑换动画\n                */\n                animate: function animate(exchangeSuccessful) {\n                    if (exchangeSuccessful === true) {\n                        // TODO\n                        storage.setItem('showPoint', 'true');\n                        // 若兑换成功则在动画结束后启用兑换按钮、增加右上角图标通知\n                        ++vm.successfulExchanges;\n                        vm.iconFlySwitch = vm.badgeBlinkSwitch = true;\n                        setTimeout(function () {\n                            vm.iconFlySwitch = vm.isExchanging = vm.badgeBlinkSwitch = false;\n                        }, 1100);\n                    } else {\n                        // 否则立即启用\n                        vm.isExchanging = false;\n                    }\n                },\n\n                /*\n                \b跳转至礼品卡页，重置小红点相关的数据\n                */\n                toMyGiftcards: function toMyGiftcards() {\n                    storage.removeItem('showPoint');\n                    this.successfulExchanges = 0;\n                    this.badgeBlinkSwitch = false;\n                    var newRef = window.location.href.replace('/account/exchange', '/account/giftcard');\n                    window.location = newRef;\n                }\n            },\n            /*\n            注册过滤器\n            */\n            init: function init() {\n                commonMod.setFilters();\n            },\n\n            /*\n            更新数据，初始化链接的点击状态\n            */\n            created: function created() {\n                this.fetchGiftcardsList();\n                if (storage.getItem('showPoint') === 'true') {\n                    this.successfulExchanges = 1;\n                    this.badgeBlinkSwitch = true;\n                }\n            }\n        });\n    }\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceMappingURL=../../../maps/conf/account/exchange.js.map\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// account/exchange.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8b2b675c3aac98533b55","'use strict';\n\n/**\n * 礼品卡兑换 - h5\n * @author 张恩铭\n * @date 20170324\n * 页面引用\n *  <script src=\"__PUBLIC__/js/lithe.js\"\n data-config=\"config.js\"\n data-debug=\"true\"\n data-main=\"conf/account/exchange.js\">\n </script>\n */\ndefine('conf/account/exchange.js', function (require, exports, module) {\n    var $ = require('$');\n    var ajax = require('utils/async/ajax.js');\n    var Vue = require('vue');\n    var UI = require('UI/dialog/alert');\n    var storage = require('mods/storage/storage');\n\n    var commonMod = require('conf/account/_common.js');\n\n    $(bindExchangeEvents);\n\n    function bindExchangeEvents() {\n\n        var states = {\n            // 公共方法\n            commonMod: commonMod,\n            // 首次渲染完成\n            renderCompleted: false,\n            // 要显示的遮罩层子元素\n            shownElementName: '',\n            // 要兑换的卡号\n            cardId: '',\n            // 兑换请求是否已完成\n            isExchanging: false,\n            // 浮动图标的动画开关\n            iconFlySwitch: false,\n            // 兑换成功次数，控制右上角礼品卡图标的通知\n            successfulExchanges: 0,\n            // 通知闪烁开关\n            badgeBlinkSwitch: false,\n            // toast持续时间\n            toastDuration: 2000,\n            // 礼品卡数据\n            cardListRes: {\n                code: 0,\n                data: {\n                    balance: {\n                        amount: 0\n                    },\n                    giftCards: []\n                }\n            }\n        };\n\n        var vm = new Vue({\n            el: 'body',\n            data: function data() {\n                return states;\n            },\n\n            methods: {\n                /*\n                更新giftcards列表。请求失败则使用现有列表\n                */\n                fetchGiftcardsList: function fetchGiftcardsList() {\n                    ajax.query({\n                        url: '/api/trade/giftCards',\n                        success: function success(res) {\n                            if (res.code === 200) {\n                                vm.cardListRes = res;\n                            }\n                            if (vm.cardId !== '') {\n                                commonMod.scrollIntoTargetSelector('.cards-li');\n                            }\n                            vm.renderCompleted = true;\n                        },\n                        error: function error() {\n                            vm.renderCompleted = true;\n                        }\n                    });\n                },\n\n                /*\n                取得按钮的card-id属性，显示兑换对话框浮层\n                */\n                showExchangePrompt: function showExchangePrompt(evt) {\n                    if (!this.isExchanging) {\n                        this.cardId = $(evt.target).data('card-id');\n                        this.shownElementName = 'prompt';\n                    }\n                },\n\n                /*\n                发送兑换请求，请求结束后移除遮罩层\n                */\n                sendExchangeReq: function sendExchangeReq() {\n                    this.shownElementName = 'loading';\n                    ajax.post({\n                        url: '/api/trade/myGiftCard',\n                        data: {\n                            id: vm.cardId\n                        },\n                        success: function success(result) {\n                            if (result.code === 200) {\n                                vm.removeMaskAndAlert('Exchanged Sucessfully. Check it in My Gift Voucher.', true);\n                            } else {\n                                vm.removeMaskAndAlert(result.message, false);\n                            }\n                        },\n                        fail: function fail(result) {\n                            vm.removeMaskAndAlert('Exchange failed.', false);\n                        }\n                    });\n                    this.checkNetwork();\n                },\n\n                /*\n                移除遮罩层后，toast提示信息，toast消失后，根据兑换的结果启动动画\n                */\n                removeMaskAndAlert: function removeMaskAndAlert(msg, exchangeSuccessful) {\n                    // 移除遮罩层和子元素\n                    this.shownElementName = '';\n                    // 提供字符串参数时toast之\n                    if (typeof msg === 'string') {\n                        // 暂时禁用兑换按钮\n                        this.isExchanging = true;\n                        // toast消失后，根据兑换结果启动动画\n                        UI.alertSecond(msg, null, this.toastDuration);\n                        setTimeout(function () {\n                            vm.animate(exchangeSuccessful);\n                        }, vm.toastDuration);\n                    }\n                    this.fetchGiftcardsList();\n                },\n\n                /*\n                超时提示\n                */\n                checkNetwork: function checkNetwork() {\n                    var waitTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3000;\n\n                    setTimeout(function () {\n                        if (!window.navigator.onLine) {\n                            vm.removeMaskAndAlert('Please check your network.');\n                        };\n                    }, waitTime);\n                },\n\n                /*\n                兑换动画\n                */\n                animate: function animate(exchangeSuccessful) {\n                    if (exchangeSuccessful === true) {\n                        // TODO\n                        storage.setItem('showPoint', 'true');\n                        // 若兑换成功则在动画结束后启用兑换按钮、增加右上角图标通知\n                        ++vm.successfulExchanges;\n                        vm.iconFlySwitch = vm.badgeBlinkSwitch = true;\n                        setTimeout(function () {\n                            vm.iconFlySwitch = vm.isExchanging = vm.badgeBlinkSwitch = false;\n                        }, 1100);\n                    } else {\n                        // 否则立即启用\n                        vm.isExchanging = false;\n                    }\n                },\n\n                /*\n                \b跳转至礼品卡页，重置小红点相关的数据\n                */\n                toMyGiftcards: function toMyGiftcards() {\n                    storage.removeItem('showPoint');\n                    this.successfulExchanges = 0;\n                    this.badgeBlinkSwitch = false;\n                    var newRef = window.location.href.replace('/account/exchange', '/account/giftcard');\n                    window.location = newRef;\n                }\n            },\n            /*\n            注册过滤器\n            */\n            init: function init() {\n                commonMod.setFilters();\n            },\n\n            /*\n            更新数据，初始化链接的点击状态\n            */\n            created: function created() {\n                this.fetchGiftcardsList();\n                if (storage.getItem('showPoint') === 'true') {\n                    this.successfulExchanges = 1;\n                    this.badgeBlinkSwitch = true;\n                }\n            }\n        });\n    }\n});\n//# sourceMappingURL=../../../maps/conf/account/exchange.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/conf/account/exchange.js"],"sourceRoot":""}