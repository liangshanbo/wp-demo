{"version":3,"sources":["conf/hy/op/hotevents.js"],"names":["define","require","exports","modul","Ajax","Vue","UI","Login","laz","Swiper","component","props","items","type","Array","default","_default","template","friends","pageNum","pageNum1","pageNum2","el","data","showContent","isShowModal","hasLogin","userData","isShowConent","rewardData","name","description","clientTime","moreData","resultData","myeventData","created","setTimeout","lazyLoading","pagination","init","self","$","children","length","dropload","scrollArea","window","domDown","domClass","domRefresh","wapcsspath","domUpdate","domLoad","loadDownFn","me","getClientTime","query","url","success","resetload","code","activityPlans","alertSecond","concat","plans","lazyload","message","invitationFriendOrders","ready","getParams","location","href","getData","getMyeventsData","userinfo","methods","toggleCon","opt","hash","showReward","eventObj","removeClass","closeModal","addClass","splice","$set","user","id","indexOf","substr","date","Date","year","getFullYear","month","filterNum","getMonth","day","getDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","num","login"],"mappings":"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","file":"../../../../js_es6/conf/hy/op/hotevents.js","sourcesContent":["\"use strict\";\n/**\n * title: 活动\n * author: lijing\n * time: 2017-05-03\n */\n define('conf/hy/op/hotevents.js', function (require, exports, modul) {\n \trequire(\"$\");\n \tvar Ajax = require(\"utils/async/ajax\"),\n \t\tVue = require(\"vue\"),\n \t\tUI = require(\"UI/dialog/alert.js\"),\n        Login = require(\"mods/login\"),\n \t\tlaz = require('utils/async/lazyload.js'),\n \t\tSwiper = require('mods/swiper');\n    require('mods/filters/com');\n \trequire('vendors/dropload.js');\n\n     Vue.component('listmore',{\n        props: {\n            items: {\n                type: Array,\n                default: function _default() {\n                    return [];\n                }\n            }\n        },\n        template: \"#planlist_tpl\"\n     });\n     Vue.component('friendsmore', {\n        props: {\n            friends: {\n                type: Array,\n                default: function _default() {\n                    return [];\n                }\n            }\n        },\n        template: \"#myevents_tpl\"\n     })\n     var pageNum = 2\n     var pageNum1 = 2\n     var pageNum2 = 2\n \tnew Vue ({\n \t\tel: 'body',\n \t\tdata: function () {\n \t\t\treturn {\n \t\t\t\tshowContent: 'NOW',\n \t\t\t\tisShowModal: false,\n                hasLogin: false,\n                userData: {},\n                isShowConent: false,\n                rewardData: {name: '', description: '',friends: {}},\n                clientTime: '',\n                moreData: [],\n                resultData: [],\n                myeventData: []\n \t\t\t}\n \t\t},\n        created: function () {\n            setTimeout(function() {\n                new Swiper('.myevents-conainer', {\n                    lazyLoading: true, //解决轮播到最后再划显示默认图\n                    pagination: '.swiper-pagination'\n                });\n            },1000);\n        },\n\t\tinit: function () {\n            var self = this;\n            if ($('#plansList').children('.events-item').length  > 0) {\n                $('#plansList').dropload({\n                    scrollArea: window,\n                    domDown: {\n                        domClass: 'dropload-down',\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\n                    },\n                    loadDownFn: function loadDownFn(me) {\n                        self.clientTime = self.getClientTime()\n                        Ajax.query({\n                            url: \"/api/cashback/plans?dynamic=NOW&planStatus=ALL&clientTime=\" + self.clientTime + \"&pageNum=\" + pageNum++ + \"&pageSize=10\",\n                            success: function success(data) {\n                                setTimeout(function () {\n                                    me.resetload();\n                                }, 300);\n                                if (data.code === 200) {\n                                    if (!data.data.activityPlans.length) {\n                                        UI.alertSecond(\"Data is loaded\");\n                                        return;\n                                    }\n                                    self.moreData = self.moreData.concat(data.data.plans);\n                                    laz.lazyload();\n                                } else {\n                                    UI.alertSecond(data.message);\n                                }\n                            }\n                        });\n                    }\n                })\n            }\n            if ($('#plansList1').children('.events-item').length  > 0) {\n                $('#plansList1').dropload({\n                    scrollArea: window,\n                    domDown: {\n                        domClass: 'dropload-down',\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\n                    },\n                    loadDownFn: function loadDownFn(me) {\n                        self.clientTime = self.getClientTime()\n                        Ajax.query({\n                            url: \"/api/cashback/plans?dynamic=\" + self.showContent + \"&planStatus=ALL&clientTime=\" + self.clientTime + \"&pageNum=\" + pageNum1++ + \"&pageSize=10\",\n                            success: function success(data) {\n                                setTimeout(function () {\n                                    me.resetload();\n                                }, 300);\n                                if (data.code === 200) {\n                                    if (!data.data.activityPlans.length) {\n                                        UI.alertSecond(\"Data is loaded\");\n                                        return;\n                                    }\n                                    self.moreData = self.moreData.concat(data.data.plans);\n                                    laz.lazyload();\n                                } else {\n                                    UI.alertSecond(data.message);\n                                }\n                            }\n                        });\n                    }\n                })\n            }\n            if ($('#friendsList').children('.invited-items').length > 0) {\n                $('#friendsList').dropload({\n                    scrollArea: window,\n                    domDown: {\n                        domClass: 'dropload-down',\n                        domRefresh: '<div class=\"dropload-refresh\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domUpdate: '<div class=\"dropload-update\"><img src=\"' + wapcsspath + '/images/common/loading.png\" alt=\"\"/></div>',\n                        domLoad: '<div class=\"dropload-load\"><img src=\"' + wapcsspath + '/images/common/loading.gif\" alt=\"\"/></div>'\n                    },\n                    loadDownFn: function loadDownFn(me) {\n                        self.clientTime = self.getClientTime()\n                        Ajax.query({\n                            url: \"/api/ext/cashback/details?status=CASHBACK&type=INVITATIONFRIEND&pageNum=\" + pageNum2++ + \"&pageSize=10\",\n                            success: function success(data) {\n                                setTimeout(function () {\n                                    me.resetload();\n                                }, 300);\n                                if (data.code === 200) {\n                                    if (!data.data.invitationFriendOrders.length) {\n                                        UI.alertSecond(\"Data is loaded\");\n                                        return;\n                                    }\n                                    self.moreData = self.moreData.concat(data.data.invitationFriendOrders);\n                                    laz.lazyload();\n                                } else {\n                                    UI.alertSecond(data.message);\n                                }\n                            }\n                        });\n                    }\n                })\n            }\n \t\t},\n \t\tready: function () {\n            var type = this.getParams(window.location.href)\n            if (type) {\n                this.showContent = type\n                if (this.showContent !== 'MYEVENTS' && this.showContent !== 'NOW') {\n                    this.getData()\n                }else if (this.showContent === 'MYEVENTS')  {\n                    this.getMyeventsData()\n                }\n            }\n            if (window.userinfo) {\n                this.hasLogin = true\n                this.userData = window.userinfo\n            }\n \t\t},\n \t\tmethods: {\n \t\t\ttoggleCon: function (opt) {\n                this.isShowConent = false\n                window.location.hash = opt\n \t\t\t\tthis.showContent = opt\n                pageNum1 = 2\n                pageNum = 2\n                if (this.showContent !== 'NOW' && this.showContent !== 'MYEVENTS') {\n                    this.getData()\n                }else if (this.showContent === 'MYEVENTS') {\n                     this.getMyeventsData()\n                }\n \t\t\t},\n            showReward: function (eventObj) {\n                var self = this\n                this.rewardData.name = eventObj.name\n                this.rewardData.description = eventObj.description\n                // 根据点击的活动ID获取获奖详情\n                Ajax.query({\n                    url: '/api/ext/cashback/details?status=CASHBACK&type=INVITATIONFRIEND&pageNum=1&pageSize=10',\n                    success: function (data) {\n                        if (data.code === 200) {\n                            self.rewardData.friends = data.data\n                            $('#modal').removeClass('hidden')\n                        }else {\n                            UI.alertSecond(data.message)\n                        }\n                    }\n                })\n                $('#modal').removeClass('hidden')\n            },\n            closeModal: function () {\n                $('#modal').addClass('hidden')\n                pageNum2 = 2\n            },\n            // 获取comming或者ended的数据\n            getData: function () {\n                var self = this\n                var clientTime = self.getClientTime()\n                self.resultData.splice(0)\n                Ajax.query({\n                    url: '/api/cashback/plans?planStatus=ALL&clientTime=' + clientTime + '&dynamic=' + this.showContent + '&pageNum=1&pageSize=10',\n                    success: function (data) {\n                        if (data.code === 200) {\n                            self.$set('resultData', data.data.activityPlans)\n                            self.isShowConent = true\n                        }else {\n                            UI.alertSecond(data.message)\n                        }\n                    }\n                })\n            },\n            // 获取myevents请求\n            getMyeventsData: function () {\n                var self = this\n                if (window.userinfo) {\n                    this.myeventData.splice(0)\n                    Ajax.query({\n                        url: '/api/cashback/myPlans?userId=' + window.userinfo.user.id,\n                        success: function (data) {\n                            if (data.code === 200) {\n                                self.$set('myeventData', data.data.activityPlans)\n                                self.isShowConent = true\n                            }else {\n                                UI.alertSecond(data.message)\n                            }\n                        }\n                    })\n                }else {\n                    self.isShowConent = true\n                }\n                \n            },\n \t\t\tgetParams: function (url) {\n                if (url.indexOf('#') > 0) {\n                    return url.substr(url.indexOf('#') + 1)\n                }\n                else {\n                    return null\n                }\n \t\t\t},\n            getClientTime: function () {\n                var date = new Date(),\n                    year = date.getFullYear(),\n                    month = this.filterNum(date.getMonth() + 1),\n                    day = this.filterNum(date.getDay()),\n                    hours = this.filterNum(date.getHours()),\n                    minutes = this.filterNum(date.getMinutes()),\n                    seconds = this.filterNum(date.getSeconds());\n                return year + month + day + hours + minutes + seconds\n            },\n            filterNum: function (num) {\n                return num > 10 ? num : ('0' + num)\n            },\n            login: function() {\n                Login.login(location.href,\"\");\n            }\n \t\t}\n \t});\n })"]}